{"version":3,"file":"bundle.js","sources":["../src/components/datagrid/style/cell.js","../src/components/datagrid/style/core.js","../src/components/datagrid/style/row.js","../src/components/datagrid/formatters/checkboxFormatter.js","../src/components/datagrid/hooks/useLayoutEffect.js","../src/components/datagrid/hooks/useFocusRef.js","../src/components/datagrid/DataGridDefaultComponentsProvider.js","../src/components/datagrid/formatters/SelectCellFormatter.js","../src/components/datagrid/formatters/valueFormatter.js","../src/components/datagrid/formatters/toggleGroupFormatter.js","../src/components/datagrid/Columns.js","../src/components/datagrid/utils/colSpanUtils.js","../src/components/datagrid/utils/domUtils.js","../src/components/datagrid/utils/keyboardUtils.js","../src/components/datagrid/utils/renderMeasuringCells.js","../src/components/datagrid/utils/selectedCellUtils.js","../src/components/datagrid/utils/styleUtils.js","../src/components/datagrid/utils/index.js","../src/components/datagrid/editors/textEditor.js","../src/components/datagrid/hooks/useCalculatedColumns.js","../src/components/datagrid/hooks/useGridDimensions.js","../src/components/datagrid/hooks/useLatestFunc.js","../src/components/datagrid/hooks/useRovingCellRef.js","../src/components/datagrid/hooks/useRowSelection.js","../src/components/datagrid/hooks/useViewportColumns.js","../src/components/datagrid/hooks/useViewportRows.js","../src/components/datagrid/filterContext.js","../src/components/datagrid/headerRenderer.js","../src/components/datagrid/HeaderCell.js","../src/components/datagrid/HeaderRow.js","../src/components/datagrid/Cell.js","../src/components/datagrid/Row.js","../src/components/datagrid/GroupCell.js","../src/components/datagrid/GroupRow.js","../src/components/datagrid/SummaryCell.js","../src/components/datagrid/SummaryRow.js","../src/components/datagrid/EditCell.js","../src/components/datagrid/DragHandle.js","../src/components/datagrid/sortStatus.js","../src/components/datagrid/exportUtils.js","../src/components/datagrid/ExportData.js","../src/components/datagrid/DataGrid.js"],"sourcesContent":["import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nexport const cell = css`\r\n  @layer rdg.Cell {\r\n    /* max-content does not work with size containment\r\n     * dynamically switching between different containment styles incurs a heavy relayout penalty\r\n     * Chromium bug: at odd zoom levels or subpixel positioning, layout/paint containment can make cell borders disappear\r\n     *   https://bugs.chromium.org/p/chromium/issues/detail?id=1326946\r\n     */\r\n    contain: style;\r\n    position: relative; /* needed for absolute positioning to work */\r\n    padding-block: 0;\r\n    padding-inline: 6px;\r\n    border-inline-end: 1px solid var(--rdg-border-color);\r\n    border-block-end: 1px solid var(--rdg-border-color);\r\n    grid-row-start: var(--rdg-grid-row-start);\r\n    background-color: inherit;\r\n    text-align: center;\r\n\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    overflow: clip;\r\n    text-overflow: ellipsis;\r\n    outline: none;\r\n\r\n    &[aria-selected=\"true\"] {\r\n      outline: 1px solid var(--rdg-selection-color);\r\n      outline-offset: -1px;\r\n    }\r\n    & > div {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const cellClassname = `rdg-cell ${cell}`;\r\n\r\nexport const cellFrozen = css`\r\n  @layer rdg.Cell {\r\n    position: sticky;\r\n    /* Should have a higher value than 0 to show up above unfrozen cells */\r\n    z-index: 1;\r\n  }\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const cellFrozenClassname = `rdg-cell-frozen ${cellFrozen}`;\r\n\r\nexport const cellFrozenLast = css`\r\n  @layer rdg.Cell {\r\n    box-shadow: calc(2px * var(--rdg-sign)) 0 5px -2px rgba(136, 136, 136, 0.3);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport const cellFrozenLastClassname = `rdg-cell-frozen-last ${cellFrozenLast}`;\r\n\r\nexport const cellEditorClassname = css`\r\n  @layer rdg.Cell {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n  }\r\n`;\r\nexport const rowIsSelected = css`\r\n  @layer rdg.Cell {\r\n    border-block-start: 1px solid #9bbb59;\r\n    border-block-end: 1px solid #9bbb59;\r\n  }\r\n`;\r\nexport const rowIsSelectedClassName = `rdg-middle-row-is-selected ${rowIsSelected}`;\r\nexport const topRowIsSelected = css`\r\n  @layer rdg.Cell {\r\n    border-block-end: 1px solid #9bbb59;\r\n  }\r\n`;\r\nexport const topRowIsSelectedClassName = `rdg-top-row-is-selected ${topRowIsSelected}`;\r\nexport const bottomRowIsSelected = css`\r\n  @layer rdg.Cell {\r\n    border-block-start: 1px solid #9bbb59;\r\n  }\r\n`;\r\nexport const bottomRowIsSelectedClassName = `rdg-bottom-row-is-selected ${bottomRowIsSelected}`;\r\n","import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\nimport { row } from \"./row\";\r\n\r\nconst lightTheme = `\r\n  --rdg-color: #000;\r\n  --rdg-border-color: #FFFFFF;\r\n  --rdg-summary-border-color: #aaa;\r\n  --rdg-background-color: hsl(0deg 0% 100%);\r\n  --rdg-header-background-color: #16365D;\r\n  --rdg-header-row-color: #FFFFFF;\r\n  --rdg-row-hover-background-color: #D7E3BC;\r\n  --rdg-row-selected-background-color: hsl(207deg 76% 92%);\r\n  --rdg-row-selected-hover-background-color: hsl(207deg 76% 88%);\r\n\r\n  --rdg-checkbox-color: hsl(207deg 100% 29%);\r\n  --rdg-checkbox-focus-color: hsl(207deg 100% 69%);\r\n  --rdg-checkbox-disabled-border-color: #ccc;\r\n  --rdg-checkbox-disabled-background-color: #ddd;\r\n`;\r\n\r\nconst darkTheme = `\r\n  --rdg-color: #ddd;\r\n  --rdg-border-color: #FFFFFF;\r\n  --rdg-summary-border-color: #555;\r\n  --rdg-background-color: hsl(0deg 0% 13%);\r\n  --rdg-header-background-color: #16365D;\r\n  --rdg-row-hover-background-color: #D7E3BC;\r\n  --rdg-row-selected-background-color: hsl(207deg 76% 42%);\r\n  --rdg-row-selected-hover-background-color: hsl(207deg 76% 38%);\r\n\r\n  --rdg-checkbox-color: hsl(207deg 100% 79%);\r\n  --rdg-checkbox-focus-color: hsl(207deg 100% 89%);\r\n  --rdg-checkbox-disabled-border-color: #000;\r\n  --rdg-checkbox-disabled-background-color: #333;\r\n`;\r\n\r\nconst root = css`\r\n  @layer rdg {\r\n    @layer Defaults,\r\n      FocusSink,\r\n      CheckboxInput,\r\n      CheckboxIcon,\r\n      CheckboxLabel,\r\n      Cell,\r\n      HeaderCell,\r\n      SummaryCell,\r\n      EditCell,\r\n      Row,\r\n      HeaderRow,\r\n      SummaryRow,\r\n      GroupedRow,\r\n      Root;\r\n\r\n    @layer Defaults {\r\n      *,\r\n      *::before,\r\n      *::after {\r\n        box-sizing: inherit;\r\n      }\r\n    }\r\n    .rdg-row-even,\r\n    .rdg-row-summary-row-even,\r\n    .rdg-row-groupRow-even {\r\n      background-color: #e5edf8;\r\n    }\r\n    .rdg-row-odd,\r\n    .rdg-row-summary-row-odd,\r\n    .rdg-row-groupRow-odd {\r\n      background-color: #f3f8fc;\r\n    }\r\n    .rdg-row-selected {\r\n      background-color: #ebf1dd;\r\n    }\r\n\r\n    @layer Root {\r\n      ${lightTheme}\r\n      --rdg-selection-color: #66afe9;\r\n      --rdg-font-size: 11px;\r\n\r\n      display: grid;\r\n\r\n      color-scheme: var(--rdg-color-scheme, light dark);\r\n\r\n      /* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */\r\n      /* We set a stacking context so internal elements don't render on top of external elements. */\r\n      contain: strict;\r\n      content-visibility: auto;\r\n      block-size: 350px;\r\n      border: 1px solid var(--rdg-border-color);\r\n      box-sizing: border-box;\r\n      overflow: auto;\r\n      background-color: var(--rdg-background-color);\r\n      color: var(--rdg-color);\r\n      font-size: var(--rdg-font-size);\r\n      font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\r\n\r\n      /* needed on Firefox */\r\n      &::before {\r\n        content: \"\";\r\n        grid-column: 1/-1;\r\n        grid-row: 1/-1;\r\n      }\r\n\r\n      &.rdg-dark {\r\n        --rdg-color-scheme: dark;\r\n        ${darkTheme}\r\n      }\r\n\r\n      &.rdg-light {\r\n        --rdg-color-scheme: light;\r\n      }\r\n\r\n      @media (prefers-color-scheme: dark) {\r\n        &:not(.rdg-light) {\r\n          ${darkTheme}\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const rootClassname = `rdg ${root}`;\r\n\r\nconst viewportDragging = css`\r\n  @layer rdg.Root {\r\n    user-select: none;\r\n\r\n    & .${row} {\r\n      cursor: move;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const viewportDraggingClassname = `rdg-viewport-dragging ${viewportDragging}`;\r\n\r\nexport const focusSinkClassname = css`\r\n  @layer rdg.FocusSink {\r\n    grid-column: 1/-1;\r\n    pointer-events: none;\r\n    /* Should have a higher value than 2 to show up above header row */\r\n    z-index: 3;\r\n  }\r\n`;\r\n\r\nexport const filterColumnClassName = \"filter-cell\";\r\n\r\nexport const filterContainerClassname = css`\r\n  .${filterColumnClassName} {\r\n    line-height: 35px;\r\n    padding: 0;\r\n\r\n    > div {\r\n      padding-block: 0;\r\n      padding-inline: 8px;\r\n\r\n      &:last-child {\r\n        border-block-start: 1px solid var(--rdg-border-color);\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nexport const row = css`\r\n  @layer rdg.Row {\r\n    display: contents;\r\n    line-height: var(--rdg-row-height);\r\n    background-color: var(--rdg-background-color);\r\n\r\n    &:hover {\r\n      background-color: var(--rdg-row-hover-background-color) !important;\r\n    }\r\n\r\n    &[aria-selected=\"true\"] {\r\n      background-color: #ebf1dd;\r\n      &:hover {\r\n        background-color: var(--rdg-row-selected-hover-background-color);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const rowClassname = `rdg-row ${row}`;\r\n\r\nexport const rowSelected = css`\r\n  @layer rdg.FocusSink {\r\n    outline: 2px solid var(--rdg-selection-color);\r\n    outline-offset: -2px;\r\n  }\r\n`;\r\n\r\nexport const rowSelectedClassname = \"rdg-row-selected\";\r\n\r\nexport const rowSelectedWithFrozenCell = css`\r\n  @layer rdg.FocusSink {\r\n    &::before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      height: 100%;\r\n      position: sticky;\r\n      inset-inline-start: 0;\r\n      border-inline-start: 2px solid var(--rdg-selection-color);\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport clsx from \"clsx\"\r\nimport { css } from \"@linaria/core\"\r\n\r\nconst checkboxLabel = css`\r\n  @layer rdg.CheckboxLabel {\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    inset: 0;\r\n    margin-inline-end: 1px; /* align checkbox in row group cell */\r\n  }\r\n`\r\n\r\nconst checkboxLabelClassname = `rdg-checkbox-label ${checkboxLabel}`\r\n\r\nconst checkboxInput = css`\r\n  @layer rdg.CheckboxInput {\r\n    all: unset;\r\n  }\r\n`\r\n\r\nconst checkboxInputClassname = `rdg-checkbox-input ${checkboxInput}`\r\n\r\nconst checkbox = css`\r\n  @layer rdg.CheckboxIcon {\r\n    content: \"\";\r\n    inline-size: 20px;\r\n    block-size: 20px;\r\n    border: 2px solid var(--rdg-border-color);\r\n    background-color: var(--rdg-background-color);\r\n\r\n    .${checkboxInput}:checked + & {\r\n      background-color: var(--rdg-checkbox-color);\r\n      outline: 4px solid var(--rdg-background-color);\r\n      outline-offset: -6px;\r\n    }\r\n\r\n    .${checkboxInput}:focus + & {\r\n      border-color: var(--rdg-checkbox-focus-color);\r\n    }\r\n  }\r\n`\r\n\r\nconst checkboxClassname = `rdg-checkbox ${checkbox}`\r\n\r\nconst checkboxLabelDisabled = css`\r\n  @layer rdg.CheckboxLabel {\r\n    cursor: default;\r\n\r\n    .${checkbox} {\r\n      border-color: var(--rdg-checkbox-disabled-border-color);\r\n      background-color: var(--rdg-checkbox-disabled-background-color);\r\n    }\r\n  }\r\n`\r\n\r\nconst checkboxLabelDisabledClassname = `rdg-checkbox-label-disabled ${checkboxLabelDisabled}`\r\n\r\nexport function checkboxFormatter({ onChange, ...props }, ref) {\r\n  function handleChange(e) {\r\n    onChange(e.target.checked, e.nativeEvent.shiftKey)\r\n  }\r\n\r\n  return (\r\n    <label\r\n      className={clsx(checkboxLabelClassname, {\r\n        [checkboxLabelDisabledClassname]: props.disabled\r\n      })}\r\n    >\r\n      <input\r\n        type=\"checkbox\"\r\n        ref={ref}\r\n        {...props}\r\n        className={checkboxInputClassname}\r\n        onChange={handleChange}\r\n      />\r\n      <div className={checkboxClassname} />\r\n    </label>\r\n  )\r\n}\r\n","import React from 'react';\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nimport { useEffect, useLayoutEffect as useOriginalLayoutEffect } from \"react\"\r\n\r\n// Silence silly warning\r\n// https://reactjs.org/link/uselayouteffect-ssr\r\nexport const useLayoutEffect =\r\n  typeof window === \"undefined\" ? useEffect : useOriginalLayoutEffect\r\n","import React from 'react';\r\nimport { useRef } from \"react\"\r\nimport { useLayoutEffect } from \"./useLayoutEffect\"\r\n\r\nexport function useFocusRef(isSelected) {\r\n  const ref = useRef(null)\r\n\r\n  useLayoutEffect(() => {\r\n    if (!isSelected) return\r\n    ref.current?.focus({ preventScroll: true })\r\n  }, [isSelected])\r\n\r\n  return {\r\n    ref,\r\n    tabIndex: isSelected ? 0 : -1\r\n  }\r\n}\r\n","import { createContext, useContext } from \"react\"\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst DataGridDefaultComponentsContext = createContext(undefined)\r\n\r\nexport const DataGridDefaultComponentsProvider =\r\n  DataGridDefaultComponentsContext.Provider\r\n\r\nexport function useDefaultComponents() {\r\n  return useContext(DataGridDefaultComponentsContext)\r\n}\r\n","import React from 'react';\r\nimport { useFocusRef } from \"../hooks/useFocusRef\"\r\nimport { useDefaultComponents } from \"../DataGridDefaultComponentsProvider\"\r\n\r\nexport function SelectCellFormatter({\r\n  value,\r\n  isCellSelected,\r\n  disabled,\r\n  onChange,\r\n  \"aria-label\": ariaLabel,\r\n  \"aria-labelledby\": ariaLabelledBy\r\n}) {\r\n  const { ref, tabIndex } = useFocusRef(isCellSelected)\r\n  const checkboxFormatter = useDefaultComponents().checkboxFormatter\r\n\r\n  return (\r\n    <div>\r\n      {checkboxFormatter(\r\n        {\r\n          \"aria-label\": ariaLabel,\r\n          \"aria-labelledby\": ariaLabelledBy,\r\n          tabIndex,\r\n          disabled,\r\n          checked: value,\r\n          onChange\r\n        },\r\n        ref\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","export function valueFormatter(props) {\r\n  try {\r\n    return <>{props.row[props.column.key]}</>\r\n  } catch {\r\n    return null\r\n  }\r\n}","import React from 'react';\r\nimport { css } from \"@linaria/core\"\r\nimport { useFocusRef } from \"../hooks/useFocusRef\"\r\n\r\nconst groupCellContent = css`\r\n  @layer rdg.GroupCellContent {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nconst groupCellContentClassname = `rdg-group-cell-content ${groupCellContent}`\r\n\r\nconst caret = css`\r\n  @layer rdg.GroupCellCaret {\r\n    margin-inline-start: 4px;\r\n    stroke: currentColor;\r\n    stroke-width: 1.5px;\r\n    fill: transparent;\r\n    vertical-align: middle;\r\n\r\n    > path {\r\n      transition: d 0.1s;\r\n    }\r\n  }\r\n`\r\n\r\nconst caretClassname = `rdg-caret ${caret}`\r\n\r\nexport function toggleGroupFormatter(props) {\r\n  return <ToggleGroup {...props} />\r\n}\r\n\r\nexport function ToggleGroup({\r\n  groupKey,\r\n  isExpanded,\r\n  isCellSelected,\r\n  toggleGroup\r\n}) {\r\n  const { ref, tabIndex } = useFocusRef(isCellSelected)\r\n\r\n  function handleKeyDown({ key }) {\r\n    if (key === \"Enter\") {\r\n      toggleGroup()\r\n    }\r\n  }\r\n\r\n  const d = isExpanded ? \"M1 1 L 7 7 L 13 1\" : \"M1 7 L 7 1 L 13 7\"\r\n\r\n  return (\r\n    <span\r\n      ref={ref}\r\n      className={groupCellContentClassname}\r\n      tabIndex={tabIndex}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      {groupKey}\r\n      <svg\r\n        viewBox=\"0 0 14 8\"\r\n        width=\"14\"\r\n        height=\"8\"\r\n        className={caretClassname}\r\n        aria-hidden\r\n      >\r\n        <path d={d} />\r\n      </svg>\r\n    </span>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\nimport { SelectCellFormatter } from \"./formatters\";\r\nimport { useRowSelection } from \"./hooks\";\r\nexport const SERIAL_NUMBER_COLUMN_KEY = \"serial-number\";\r\nexport const SELECT_COLUMN_KEY = \"select-row\";\r\n\r\nconst headerCellClassName = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #16365d;\r\n  color: white;\r\n  font-weight: bold;\r\n`;\r\n\r\nfunction SelectFormatter(props) {\r\n  const [isRowSelected, onRowSelectionChange] = useRowSelection();\r\n\r\n  return (\r\n    <SelectCellFormatter\r\n      aria-label=\"Select\"\r\n      isCellSelected={props.isCellSelected}\r\n      value={isRowSelected}\r\n      onChange={(checked, isShiftClick) => {\r\n        onRowSelectionChange({ row: props.row, checked, isShiftClick });\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectGroupFormatter(props) {\r\n  const [isRowSelected, onRowSelectionChange] = useRowSelection();\r\n\r\n  return (\r\n    <SelectCellFormatter\r\n      aria-label=\"Select Group\"\r\n      isCellSelected={props.isCellSelected}\r\n      value={isRowSelected}\r\n      onChange={(checked) => {\r\n        onRowSelectionChange({ row: props.row, checked, isShiftClick: false });\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport const SelectColumn = {\r\n  key: SELECT_COLUMN_KEY,\r\n  name: \"\",\r\n  width: 35,\r\n  minWidth: 35,\r\n  maxWidth: 35,\r\n  resizable: false,\r\n  sortable: false,\r\n  frozen: true,\r\n  filter: false,\r\n  headerRenderer(props) {\r\n    return (\r\n      <SelectCellFormatter\r\n        aria-label=\"Select All\"\r\n        isCellSelected={props.isCellSelected}\r\n        value={props.allRowsSelected}\r\n        onChange={props.onAllRowsSelectionChange}\r\n      />\r\n    );\r\n  },\r\n  cellRenderer(props) {\r\n    return <SelectFormatter {...props} />;\r\n  },\r\n  groupFormatter(props) {\r\n    return <SelectGroupFormatter {...props} />;\r\n  },\r\n};\r\nexport const SerialNumberColumn = {\r\n  key: SERIAL_NUMBER_COLUMN_KEY,\r\n  name: \"Sr. No.\",\r\n  width: 45,\r\n  resizable: false,\r\n  sortable: false,\r\n  frozen: true,\r\n  filter: false,\r\n  headerRenderer: () => {\r\n    return <div>{SerialNumberColumn.name}</div>;\r\n  },\r\n  cellClass: headerCellClassName,\r\n  cellRenderer: (props) => {\r\n    return <>{props.column.rowIndex + 1} </>;\r\n  },\r\n};\r\n","export function getColSpan(column, lastFrozenColumnIndex, args) {\r\n  const colSpan =\r\n    typeof column.colSpan === \"function\" ? column.colSpan(args) : 1\r\n  if (\r\n    Number.isInteger(colSpan) &&\r\n    colSpan > 1 &&\r\n    // ignore colSpan if it spans over both frozen and regular columns\r\n    (!column.frozen || column.idx + colSpan - 1 <= lastFrozenColumnIndex)\r\n  ) {\r\n    return colSpan\r\n  }\r\n  return undefined\r\n}\r\n","export function stopPropagation(event) {\r\n  event.stopPropagation()\r\n}\r\n\r\nexport function scrollIntoView(element) {\r\n  element?.scrollIntoView({ inline: \"nearest\", block: \"nearest\" })\r\n}\r\n","// https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\r\nconst nonInputKeys = new Set([\r\n  // Special keys\r\n  \"Unidentified\",\r\n  // Modifier keys\r\n  \"Alt\",\r\n  \"AltGraph\",\r\n  \"CapsLock\",\r\n  \"Control\",\r\n  \"Fn\",\r\n  \"FnLock\",\r\n  \"Meta\",\r\n  \"NumLock\",\r\n  \"ScrollLock\",\r\n  \"Shift\",\r\n  // Whitespace keys\r\n  \"Tab\",\r\n  // Navigation keys\r\n  \"ArrowDown\",\r\n  \"ArrowLeft\",\r\n  \"ArrowRight\",\r\n  \"ArrowUp\",\r\n  \"End\",\r\n  \"Home\",\r\n  \"PageDown\",\r\n  \"PageUp\",\r\n  // Editing\r\n  \"Insert\",\r\n  // UI keys\r\n  \"ContextMenu\",\r\n  \"Escape\",\r\n  \"Pause\",\r\n  \"Play\",\r\n  // Device keys\r\n  \"PrintScreen\",\r\n  // Function keys\r\n  \"F1\",\r\n  // 'F2', /!\\ specifically allowed, do not edit\r\n  \"F3\",\r\n  \"F4\",\r\n  \"F5\",\r\n  \"F6\",\r\n  \"F7\",\r\n  \"F8\",\r\n  \"F9\",\r\n  \"F10\",\r\n  \"F11\",\r\n  \"F12\"\r\n])\r\n\r\nexport function isCtrlKeyHeldDown(e) {\r\n  return (e.ctrlKey || e.metaKey) && e.key !== \"Control\"\r\n}\r\n\r\nexport function isDefaultCellInput(event) {\r\n  return !nonInputKeys.has(event.key)\r\n}\r\n\r\n/**\r\n * By default, the following navigation keys are enabled while an editor is open, under specific conditions:\r\n * - Tab:\r\n *   - The editor must be an <input>, a <textarea>, or a <select> element.\r\n *   - The editor element must be the only immediate child of the editor container/a label.\r\n */\r\nexport function onEditorNavigation({ key, target }) {\r\n  if (\r\n    key === \"Tab\" &&\r\n    (target instanceof HTMLInputElement ||\r\n      target instanceof HTMLTextAreaElement ||\r\n      target instanceof HTMLSelectElement)\r\n  ) {\r\n    return target.matches(\r\n      \".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child, .rdg-editor-container > div:only-child > label:only-child > :only-child\"\r\n    )\r\n  }\r\n  return false\r\n}\r\n","import React from 'react';\r\nimport { css } from \"@linaria/core\"\r\n\r\nconst measuringCellClassname = css`\r\n  @layer rdg.MeasuringCell {\r\n    contain: strict;\r\n    grid-row: 1;\r\n    visibility: hidden;\r\n  }\r\n`\r\n\r\nexport function renderMeasuringCells(viewportColumns) {\r\n  return (\r\n    <>\r\n      {viewportColumns.map(({ key, idx, minWidth, maxWidth }) => (\r\n        <div\r\n          key={key}\r\n          className={measuringCellClassname}\r\n          style={{ gridColumnStart: idx + 1, minWidth, maxWidth }}\r\n          data-measuring-cell-key={key}\r\n        />\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { getColSpan } from \"./colSpanUtils\"\r\n\r\nexport function isSelectedCellEditable({\r\n  selectedPosition,\r\n  columns,\r\n  rows,\r\n  isGroupRow\r\n}) {\r\n  const column = columns[selectedPosition.idx]\r\n  const row = rows[selectedPosition.rowIdx]\r\n  return !isGroupRow(row) && isCellEditable(column, row)\r\n}\r\n\r\nexport function isCellEditable(column, row) {\r\n  return (\r\n    column.cellEditor != null &&\r\n    !column.rowGroup &&\r\n    (typeof column.editable === \"function\"\r\n      ? column.editable(row)\r\n      : column.editable) !== false\r\n  )\r\n}\r\n\r\nexport function getSelectedCellColSpan({\r\n  rows,\r\n  topSummaryRows,\r\n  bottomSummaryRows,\r\n  rowIdx,\r\n  lastFrozenColumnIndex,\r\n  column,\r\n  isGroupRow\r\n}) {\r\n  const topSummaryRowsCount = topSummaryRows?.length ?? 0\r\n  const minRowIdx = -1 - topSummaryRowsCount\r\n  if (rowIdx === minRowIdx) {\r\n    return getColSpan(column, lastFrozenColumnIndex, { type: \"HEADER\" })\r\n  }\r\n\r\n  if (\r\n    topSummaryRows &&\r\n    rowIdx > minRowIdx &&\r\n    rowIdx <= topSummaryRowsCount + minRowIdx\r\n  ) {\r\n    return getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"SUMMARY\",\r\n      row: topSummaryRows[rowIdx + topSummaryRowsCount]\r\n    })\r\n  }\r\n\r\n  if (rowIdx >= 0 && rowIdx < rows.length) {\r\n    const row = rows[rowIdx]\r\n    if (!isGroupRow(row)) {\r\n      return getColSpan(column, lastFrozenColumnIndex, { type: \"ROW\", row })\r\n    }\r\n    return undefined\r\n  }\r\n\r\n  if (bottomSummaryRows) {\r\n    return getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"SUMMARY\",\r\n      row: bottomSummaryRows[rowIdx - rows.length]\r\n    })\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nexport function getNextSelectedCellPosition({\r\n  cellNavigationMode,\r\n  columns,\r\n  colSpanColumns,\r\n  rows,\r\n  topSummaryRows,\r\n  bottomSummaryRows,\r\n  minRowIdx,\r\n  maxRowIdx,\r\n  currentPosition: { idx: currentIdx },\r\n  nextPosition,\r\n  lastFrozenColumnIndex,\r\n  isCellWithinBounds,\r\n  isGroupRow\r\n}) {\r\n  let { idx: nextIdx, rowIdx: nextRowIdx } = nextPosition\r\n\r\n  const setColSpan = moveRight => {\r\n    if (nextRowIdx >= 0 && nextRowIdx < rows.length) {\r\n      const row = rows[nextRowIdx]\r\n      if (isGroupRow(row)) return\r\n    }\r\n    // If a cell within the colspan range is selected then move to the\r\n    // previous or the next cell depending on the navigation direction\r\n    for (const column of colSpanColumns) {\r\n      const colIdx = column.idx\r\n      if (colIdx > nextIdx) break\r\n      const colSpan = getSelectedCellColSpan({\r\n        rows,\r\n        topSummaryRows,\r\n        bottomSummaryRows,\r\n        rowIdx: nextRowIdx,\r\n        lastFrozenColumnIndex,\r\n        column,\r\n        isGroupRow\r\n      })\r\n\r\n      if (colSpan && nextIdx > colIdx && nextIdx < colSpan + colIdx) {\r\n        nextIdx = colIdx + (moveRight ? colSpan : 0)\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  if (isCellWithinBounds(nextPosition)) {\r\n    setColSpan(nextIdx - currentIdx > 0)\r\n  }\r\n\r\n  if (cellNavigationMode !== \"NONE\") {\r\n    const columnsCount = columns.length\r\n    const isAfterLastColumn = nextIdx === columnsCount\r\n    const isBeforeFirstColumn = nextIdx === -1\r\n\r\n    if (isAfterLastColumn) {\r\n      if (cellNavigationMode === \"CHANGE_ROW\") {\r\n        const isLastRow = nextRowIdx === maxRowIdx\r\n        if (!isLastRow) {\r\n          nextIdx = 0\r\n          nextRowIdx += 1\r\n        }\r\n      } else {\r\n        nextIdx = 0\r\n      }\r\n    } else if (isBeforeFirstColumn) {\r\n      if (cellNavigationMode === \"CHANGE_ROW\") {\r\n        const isFirstRow = nextRowIdx === minRowIdx\r\n        if (!isFirstRow) {\r\n          nextRowIdx -= 1\r\n          nextIdx = columnsCount - 1\r\n        }\r\n      } else {\r\n        nextIdx = columnsCount - 1\r\n      }\r\n      setColSpan(false)\r\n    }\r\n  }\r\n\r\n  return { idx: nextIdx, rowIdx: nextRowIdx }\r\n}\r\n\r\nexport function canExitGrid({\r\n  cellNavigationMode,\r\n  maxColIdx,\r\n  minRowIdx,\r\n  maxRowIdx,\r\n  selectedPosition: { rowIdx, idx },\r\n  shiftKey\r\n}) {\r\n  // When the cellNavigationMode is 'none' or 'changeRow', you can exit the grid if you're at the first or last cell of the grid\r\n  // When the cellNavigationMode is 'loopOverRow', there is no logical exit point so you can't exit the grid\r\n  if (cellNavigationMode === \"NONE\" || cellNavigationMode === \"CHANGE_ROW\") {\r\n    const atLastCellInRow = idx === maxColIdx\r\n    const atFirstCellInRow = idx === 0\r\n    const atLastRow = rowIdx === maxRowIdx\r\n    const atFirstRow = rowIdx === minRowIdx\r\n\r\n    return shiftKey\r\n      ? atFirstCellInRow && atFirstRow\r\n      : atLastCellInRow && atLastRow\r\n  }\r\n\r\n  return false\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport {\r\n  cellClassname,\r\n  cellFrozenClassname,\r\n  cellFrozenLastClassname,\r\n} from \"../style\";\r\n\r\nexport function getRowStyle(rowIdx, height) {\r\n  if (height !== undefined) {\r\n    return {\r\n      \"--rdg-grid-row-start\": rowIdx,\r\n      \"--rdg-row-height\": `${height}px`,\r\n    };\r\n  }\r\n  return {\r\n    \"--rdg-grid-row-start\": rowIdx,\r\n  };\r\n}\r\nexport function getCellStyle(column, colSpan, rowSpan) {\r\n  return {\r\n    gridColumnStart: column.idx + 1,\r\n    gridColumnEnd: colSpan !== undefined ? `span ${colSpan}` : undefined,\r\n    gridRowEnd: rowSpan !== undefined ? `span ${rowSpan}` : undefined,\r\n    insetInlineStart: column.frozen\r\n      ? `var(--rdg-frozen-left-${column.idx})`\r\n      : undefined,\r\n  };\r\n}\r\n\r\nexport function getCellClassname(column, ...extraClasses) {\r\n  return clsx(\r\n    cellClassname,\r\n    {\r\n      [cellFrozenClassname]: column.frozen,\r\n      [cellFrozenLastClassname]: column.isLastFrozenColumn,\r\n    },\r\n    ...extraClasses\r\n  );\r\n}\r\n","export * from \"./colSpanUtils\"\r\nexport * from \"./domUtils\"\r\nexport * from \"./keyboardUtils\"\r\nexport * from \"./renderMeasuringCells\"\r\nexport * from \"./selectedCellUtils\"\r\nexport * from \"./styleUtils\"\r\n\r\nexport const { min, max, round, floor, sign, abs } = Math\r\n\r\nexport function assertIsValidKeyGetter(keyGetter) {\r\n  if (typeof keyGetter !== \"function\") {\r\n    throw new Error(\"Please specify the rowKeyGetter prop to use selection\")\r\n  }\r\n}\r\n\r\nexport function clampColumnWidth(width, { minWidth, maxWidth }) {\r\n  width = max(width, minWidth)\r\n\r\n  // ignore maxWidth if it less than minWidth\r\n  if (typeof maxWidth === \"number\" && maxWidth >= minWidth) {\r\n    return min(width, maxWidth)\r\n  }\r\n\r\n  return width\r\n}\r\n","import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n// import { Input } from \"lai_webui\";\r\n\r\nconst textEditorInternalClassname = css`\r\n  @layer rdg.TextEditor {\r\n    appearance: none;\r\n    box-sizing: border-box;\r\n    inline-size: 100%;\r\n    block-size: 100%;\r\n    padding-block: 0;\r\n    padding-inline: 6px;\r\n    border: 2px solid #ccc;\r\n    vertical-align: top;\r\n    color: var(--rdg-color);\r\n    background-color: var(--rdg-background-color);\r\n    font-family: inherit;\r\n    font-size: var(--rdg-font-size);\r\n\r\n    &:focus {\r\n      border-color: var(--rdg-selection-color);\r\n      outline: none;\r\n    }\r\n\r\n    &::placeholder {\r\n      color: #999;\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const textEditorClassname = `rdg-text-editor ${textEditorInternalClassname}`;\r\n\r\n\r\nexport default function textEditor({\r\n  row,\r\n  column,\r\n  onRowChange,\r\n  onClose,\r\n  ...props\r\n}) {\r\n  var type = column.type ? column.type : \"text\";\r\n  type =\r\n    type.toLowerCase() === \"masked\" || type.toLowerCase() === \"mask\"\r\n      ? \"password\"\r\n      : type;\r\n\r\n  return (\r\n    <input\r\n      spellCheck=\"true\"\r\n      className={textEditorClassname}\r\n      type={type}\r\n      disabled={column.editable ? column.editable : false}\r\n      value={row[column.key]}\r\n      {...column.inputProps}\r\n      onChange={(event) =>\r\n        onRowChange({ ...row, [column.key]: event.target.value })\r\n      }\r\n      // onBlur={() => onClose(true)}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useMemo } from \"react\";\r\n\r\nimport { valueFormatter, toggleGroupFormatter } from \"../formatters\";\r\nimport { SELECT_COLUMN_KEY } from \"../Columns\";\r\nimport { clampColumnWidth, max, min } from \"../utils\";\r\nimport { textEditorClassname } from \"../editors/textEditor\";\r\nconst DEFAULT_COLUMN_WIDTH = \"auto\";\r\nconst DEFAULT_COLUMN_MIN_WIDTH = 40;\r\n\r\nexport function useCalculatedColumns({\r\n  rawColumns,\r\n  columnWidths,\r\n  viewportWidth,\r\n  scrollLeft,\r\n  defaultColumnOptions,\r\n  rawGroupBy,\r\n  enableVirtualization,\r\n  frameworkComponents,\r\n}) {\r\n  const defaultWidth = defaultColumnOptions?.width ?? DEFAULT_COLUMN_WIDTH;\r\n  const defaultMinWidth =\r\n    defaultColumnOptions?.minWidth ?? DEFAULT_COLUMN_MIN_WIDTH;\r\n  const defaultMaxWidth = defaultColumnOptions?.maxWidth ?? undefined;\r\n  const defaultFormatter = defaultColumnOptions?.formatter ?? valueFormatter;\r\n  const defaultSortable = defaultColumnOptions?.sortable ?? false;\r\n  const defaultResizable = defaultColumnOptions?.resizable ?? false;\r\n  const defaultFilter = defaultColumnOptions?.dilter ?? false;\r\n\r\n  const { columns, colSpanColumns, lastFrozenColumnIndex, groupBy } =\r\n    useMemo(() => {\r\n      // Filter rawGroupBy and ignore keys that do not match the columns prop\r\n      const groupBy = [];\r\n      let lastFrozenColumnIndex = -1;\r\n\r\n      const columns = rawColumns?.map((rawColumn) => {\r\n        const rowGroup = rawGroupBy?.includes(rawColumn.field) ?? false;\r\n        const frozen = rowGroup || rawColumn.frozen;\r\n\r\n        const cellRendererValue = rawColumn.cellRenderer;\r\n        const components = frameworkComponents\r\n          ? Object.keys(frameworkComponents)\r\n          : null;\r\n\r\n        const indexOfComponent = components?.indexOf(cellRendererValue);\r\n        const customComponentName =\r\n          indexOfComponent > -1 ? components[indexOfComponent] : null;\r\n\r\n        const column = {\r\n          ...rawColumn,\r\n          colId: rawColumn.field,\r\n          key: rawColumn.field,\r\n          userProvidedColDef: rawColumn,\r\n          idx: 0,\r\n          frozen,\r\n          isLastFrozenColumn: false,\r\n          rowGroup,\r\n          width: rawColumn.width ?? defaultWidth,\r\n          minWidth: rawColumn.minWidth ?? defaultMinWidth,\r\n          maxWidth: rawColumn.maxWidth ?? defaultMaxWidth,\r\n          sortable: rawColumn.sortable ?? defaultSortable,\r\n          resizable: rawColumn.resizable ?? defaultResizable,\r\n          formatter: rawColumn.cellRenderer\r\n            ? rawColumn.cellRenderer\r\n            : rawColumn.valueFormatter ?? defaultFormatter,\r\n\r\n          cellRenderer:\r\n            frameworkComponents?.[customComponentName] ??\r\n            rawColumn.cellRenderer ??\r\n            rawColumn.valueFormatter ??\r\n            defaultFormatter,\r\n\r\n          filter: rawColumn.filter ?? defaultFilter,\r\n        };\r\n\r\n        if (rowGroup) {\r\n          column.groupFormatter ??= toggleGroupFormatter;\r\n        }\r\n        if (rawColumn.editable) {\r\n          column.cellEditor = column.cellEditor\r\n            ? column.cellEditor\r\n            : (props) => {\r\n                return (\r\n                  <input\r\n                    className={textEditorClassname}\r\n                    value={props.row[props.column.key]}\r\n                    onChange={(event) =>\r\n                      props.onRowChange({\r\n                        ...props.row,\r\n                        [props.column.key]: event.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                );\r\n              };\r\n        }\r\n        if (frozen) {\r\n          lastFrozenColumnIndex++;\r\n        }\r\n\r\n        return column;\r\n      });\r\n\r\n      columns?.sort(\r\n        ({ key: aKey, frozen: frozenA }, { key: bKey, frozen: frozenB }) => {\r\n          // Sort select column first:\r\n          if (aKey === SELECT_COLUMN_KEY) return -1;\r\n          if (bKey === SELECT_COLUMN_KEY) return 1;\r\n\r\n          // Sort grouped columns second, following the groupBy order:\r\n          if (rawGroupBy?.includes(aKey)) {\r\n            if (rawGroupBy.includes(bKey)) {\r\n              return rawGroupBy.indexOf(aKey) - rawGroupBy.indexOf(bKey);\r\n            }\r\n            return -1;\r\n          }\r\n          if (rawGroupBy?.includes(bKey)) return 1;\r\n\r\n          // Sort frozen columns third:\r\n          if (frozenA) {\r\n            if (frozenB) return 0;\r\n            return -1;\r\n          }\r\n          if (frozenB) return 1;\r\n\r\n          // Sort other columns last:\r\n          return 0;\r\n        }\r\n      );\r\n\r\n      const colSpanColumns = [];\r\n      columns?.forEach((column, idx) => {\r\n        column.idx = idx;\r\n\r\n        if (column.rowGroup) {\r\n          groupBy.push(column.key);\r\n        }\r\n\r\n        if (column.colSpan != null) {\r\n          colSpanColumns.push(column);\r\n        }\r\n      });\r\n\r\n      if (lastFrozenColumnIndex !== -1) {\r\n        columns[lastFrozenColumnIndex].isLastFrozenColumn = true;\r\n      }\r\n\r\n      return {\r\n        columns,\r\n        colSpanColumns,\r\n        lastFrozenColumnIndex,\r\n        groupBy,\r\n      };\r\n    }, [\r\n      rawColumns,\r\n      defaultWidth,\r\n      defaultMinWidth,\r\n      defaultMaxWidth,\r\n      defaultFormatter,\r\n      defaultResizable,\r\n      defaultSortable,\r\n      rawGroupBy,\r\n    ]);\r\n\r\n  const {\r\n    templateColumns,\r\n    layoutCssVars,\r\n    totalFrozenColumnWidth,\r\n    columnMetrics,\r\n  } = useMemo(() => {\r\n    const templateColumns = [];\r\n    let left = 0;\r\n    let totalFrozenColumnWidth = 0;\r\n    const columnMetrics = new Map();\r\n\r\n    for (const column of columns) {\r\n      let width = columnWidths.get(column.key) ?? column.width;\r\n      if (typeof width === \"number\") {\r\n        width = clampColumnWidth(width, column);\r\n      } else {\r\n        // This is a placeholder width so we can continue to use virtualization.\r\n        // The actual value is set after the column is rendered\r\n        width = column.minWidth;\r\n      }\r\n      templateColumns.push(`${width}px`);\r\n      columnMetrics.set(column, { width, left });\r\n      left += width;\r\n    }\r\n\r\n    if (lastFrozenColumnIndex !== -1) {\r\n      const columnMetric = columnMetrics.get(columns[lastFrozenColumnIndex]);\r\n      totalFrozenColumnWidth = columnMetric.left + columnMetric.width;\r\n    }\r\n\r\n    const layoutCssVars = {\r\n      gridTemplateColumns: templateColumns.join(\" \"),\r\n    };\r\n\r\n    for (let i = 0; i <= lastFrozenColumnIndex; i++) {\r\n      const column = columns[i];\r\n      layoutCssVars[`--rdg-frozen-left-${column.idx}`] = `${\r\n        columnMetrics.get(column).left\r\n      }px`;\r\n    }\r\n\r\n    return {\r\n      templateColumns,\r\n      layoutCssVars,\r\n      totalFrozenColumnWidth,\r\n      columnMetrics,\r\n    };\r\n  }, [columnWidths, columns, lastFrozenColumnIndex]);\r\n\r\n  const [colOverscanStartIdx, colOverscanEndIdx] = useMemo(() => {\r\n    if (!enableVirtualization) {\r\n      return [0, columns.length - 1];\r\n    }\r\n    // get the viewport's left side and right side positions for non-frozen columns\r\n    const viewportLeft = scrollLeft + totalFrozenColumnWidth;\r\n    const viewportRight = scrollLeft + viewportWidth;\r\n    // get first and last non-frozen column indexes\r\n    const lastColIdx = columns.length - 1;\r\n    const firstUnfrozenColumnIdx = min(lastFrozenColumnIndex + 1, lastColIdx);\r\n\r\n    // skip rendering non-frozen columns if the frozen columns cover the entire viewport\r\n    if (viewportLeft >= viewportRight) {\r\n      return [firstUnfrozenColumnIdx, firstUnfrozenColumnIdx];\r\n    }\r\n\r\n    // get the first visible non-frozen column index\r\n    let colVisibleStartIdx = firstUnfrozenColumnIdx;\r\n    while (colVisibleStartIdx < lastColIdx) {\r\n      const { left, width } = columnMetrics.get(columns[colVisibleStartIdx]);\r\n      // if the right side of the columnn is beyond the left side of the available viewport,\r\n      // then it is the first column that's at least partially visible\r\n      if (left + width > viewportLeft) {\r\n        break;\r\n      }\r\n      colVisibleStartIdx++;\r\n    }\r\n\r\n    // get the last visible non-frozen column index\r\n    let colVisibleEndIdx = colVisibleStartIdx;\r\n    while (colVisibleEndIdx < lastColIdx) {\r\n      const { left, width } = columnMetrics.get(columns[colVisibleEndIdx]);\r\n      // if the right side of the column is beyond or equal to the right side of the available viewport,\r\n      // then it the last column that's at least partially visible, as the previous column's right side is not beyond the viewport.\r\n      if (left + width >= viewportRight) {\r\n        break;\r\n      }\r\n      colVisibleEndIdx++;\r\n    }\r\n\r\n    const colOverscanStartIdx = max(\r\n      firstUnfrozenColumnIdx,\r\n      colVisibleStartIdx - 1\r\n    );\r\n    const colOverscanEndIdx = min(lastColIdx, colVisibleEndIdx + 1);\r\n\r\n    return [colOverscanStartIdx, colOverscanEndIdx];\r\n  }, [\r\n    columnMetrics,\r\n    columns,\r\n    lastFrozenColumnIndex,\r\n    scrollLeft,\r\n    totalFrozenColumnWidth,\r\n    viewportWidth,\r\n    enableVirtualization,\r\n  ]);\r\n\r\n  return {\r\n    columns,\r\n    colSpanColumns,\r\n    colOverscanStartIdx,\r\n    colOverscanEndIdx,\r\n    templateColumns,\r\n    layoutCssVars,\r\n    columnMetrics,\r\n    lastFrozenColumnIndex,\r\n    totalFrozenColumnWidth,\r\n    groupBy,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { useRef, useState } from \"react\"\r\nimport { useLayoutEffect } from \"./useLayoutEffect\"\r\n\r\nexport function useGridDimensions() {\r\n  const gridRef = useRef(null)\r\n  const [inlineSize, setInlineSize] = useState(1)\r\n  const [blockSize, setBlockSize] = useState(1)\r\n  const [isWidthInitialized, setWidthInitialized] = useState(false)\r\n\r\n  useLayoutEffect(() => {\r\n    const { ResizeObserver } = window\r\n\r\n    // don't break in Node.js (SSR), jest/jsdom, and browsers that don't support ResizeObserver\r\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\r\n    if (ResizeObserver == null) return\r\n\r\n    const {\r\n      clientWidth,\r\n      clientHeight,\r\n      offsetWidth,\r\n      offsetHeight\r\n    } = gridRef.current\r\n    const { width, height } = gridRef.current.getBoundingClientRect()\r\n    const initialWidth = width - offsetWidth + clientWidth\r\n    const initialHeight = height - offsetHeight + clientHeight\r\n\r\n    setInlineSize(initialWidth)\r\n    setBlockSize(initialHeight)\r\n    setWidthInitialized(true)\r\n\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n      const size = entries[0].contentBoxSize[0]\r\n      setInlineSize(size.inlineSize)\r\n      setBlockSize(size.blockSize)\r\n    })\r\n    resizeObserver.observe(gridRef.current)\r\n\r\n    return () => {\r\n      resizeObserver.disconnect()\r\n    }\r\n  }, [])\r\n\r\n  return [gridRef, inlineSize, blockSize, isWidthInitialized]\r\n}\r\n","import React from 'react';\r\nimport { useRef, useEffect, useCallback } from \"react\"\r\n\r\n// https://reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function useLatestFunc(fn) {\r\n  const ref = useRef(fn)\r\n\r\n  useEffect(() => {\r\n    ref.current = fn\r\n  })\r\n\r\n  const callbackFn = useCallback((...args) => {\r\n    ref.current(...args)\r\n  }, [])\r\n\r\n  // @ts-expect-error\r\n  return fn ? callbackFn : fn\r\n}\r\n","import React from 'react';\r\nimport { useCallback, useState } from \"react\"\r\nimport { scrollIntoView } from \"../utils\"\r\n\r\n// https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_roving_tabindex\r\nexport function useRovingCellRef(isSelected) {\r\n  // https://www.w3.org/TR/wai-aria-practices-1.1/#gridNav_focus\r\n  const [isChildFocused, setIsChildFocused] = useState(false)\r\n\r\n  if (isChildFocused && !isSelected) {\r\n    setIsChildFocused(false)\r\n  }\r\n\r\n  const ref = useCallback(cell => {\r\n    if (cell === null) return\r\n    scrollIntoView(cell)\r\n    if (cell.contains(document.activeElement)) return\r\n    cell.focus({ preventScroll: true })\r\n  }, [])\r\n\r\n  function onFocus(event) {\r\n    if (event.target !== event.currentTarget) {\r\n      setIsChildFocused(true)\r\n    }\r\n  }\r\n\r\n  const isFocused = isSelected && !isChildFocused\r\n\r\n  return {\r\n    ref: isSelected ? ref : undefined,\r\n    tabIndex: isFocused ? 0 : -1,\r\n    onFocus: isSelected ? onFocus : undefined\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { createContext, useContext } from \"react\"\r\n\r\nconst RowSelectionContext = createContext(undefined)\r\n\r\nexport const RowSelectionProvider = RowSelectionContext.Provider\r\n\r\nconst RowSelectionChangeContext = createContext(undefined) // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\r\nexport const RowSelectionChangeProvider = RowSelectionChangeContext.Provider\r\n\r\nexport function useRowSelection() {\r\n  const rowSelectionContext = useContext(RowSelectionContext)\r\n  const rowSelectionChangeContext = useContext(RowSelectionChangeContext)\r\n\r\n  if (\r\n    rowSelectionContext === undefined ||\r\n    rowSelectionChangeContext === undefined\r\n  ) {\r\n    throw new Error(\"useRowSelection must be used within DataGrid cells\")\r\n  }\r\n\r\n  return [rowSelectionContext, rowSelectionChangeContext]\r\n}\r\n","import React from \"react\";\r\nimport { useMemo } from \"react\";\r\n\r\nimport { getColSpan } from \"../utils\";\r\n\r\nexport function useViewportColumns({\r\n  columns,\r\n  colSpanColumns,\r\n  rows,\r\n  topSummaryRows,\r\n  bottomSummaryRows,\r\n  colOverscanStartIdx,\r\n  colOverscanEndIdx,\r\n  lastFrozenColumnIndex,\r\n  rowOverscanStartIdx,\r\n  rowOverscanEndIdx,\r\n  columnWidths,\r\n  isGroupRow,\r\n}) {\r\n  // find the column that spans over a column within the visible columns range and adjust colOverscanStartIdx\r\n  const startIdx = useMemo(() => {\r\n    if (colOverscanStartIdx === 0) return 0;\r\n\r\n    let startIdx = colOverscanStartIdx;\r\n\r\n    const updateStartIdx = (colIdx, colSpan) => {\r\n      if (colSpan !== undefined && colIdx + colSpan > colOverscanStartIdx) {\r\n        startIdx = colIdx;\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    for (const column of colSpanColumns) {\r\n      // check header row\r\n      const colIdx = column.idx;\r\n      if (colIdx >= startIdx) break;\r\n      if (\r\n        updateStartIdx(\r\n          colIdx,\r\n          getColSpan(column, lastFrozenColumnIndex, { type: \"HEADER\" })\r\n        )\r\n      ) {\r\n        break;\r\n      }\r\n\r\n      // check viewport rows\r\n      for (\r\n        let rowIdx = rowOverscanStartIdx;\r\n        rowIdx <= rowOverscanEndIdx;\r\n        rowIdx++\r\n      ) {\r\n        const row = rows[rowIdx];\r\n        if (isGroupRow(row)) continue;\r\n        if (\r\n          updateStartIdx(\r\n            colIdx,\r\n            getColSpan(column, lastFrozenColumnIndex, { type: \"ROW\", row })\r\n          )\r\n        ) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // check summary rows\r\n      if (topSummaryRows != null) {\r\n        for (const row of topSummaryRows) {\r\n          if (\r\n            updateStartIdx(\r\n              colIdx,\r\n              getColSpan(column, lastFrozenColumnIndex, {\r\n                type: \"SUMMARY\",\r\n                row,\r\n              })\r\n            )\r\n          ) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (bottomSummaryRows != null) {\r\n        for (const row of bottomSummaryRows) {\r\n          if (\r\n            updateStartIdx(\r\n              colIdx,\r\n              getColSpan(column, lastFrozenColumnIndex, {\r\n                type: \"SUMMARY\",\r\n                row,\r\n              })\r\n            )\r\n          ) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return startIdx;\r\n  }, [\r\n    rowOverscanStartIdx,\r\n    rowOverscanEndIdx,\r\n    rows,\r\n    topSummaryRows,\r\n    bottomSummaryRows,\r\n    colOverscanStartIdx,\r\n    lastFrozenColumnIndex,\r\n    colSpanColumns,\r\n    isGroupRow,\r\n  ]);\r\n\r\n  const { viewportColumns, flexWidthViewportColumns } = useMemo(() => {\r\n    const viewportColumns = [];\r\n    const flexWidthViewportColumns = [];\r\n    for (let colIdx = 0; colIdx <= colOverscanEndIdx; colIdx++) {\r\n      const column = columns[colIdx];\r\n\r\n      if (colIdx < startIdx && !column.frozen) continue;\r\n      viewportColumns.push(column);\r\n      if (typeof column.width === \"string\") {\r\n        flexWidthViewportColumns.push(column);\r\n      }\r\n    }\r\n\r\n    return { viewportColumns, flexWidthViewportColumns };\r\n  }, [startIdx, colOverscanEndIdx, columns]);\r\n\r\n  const unsizedFlexWidthViewportColumns = useMemo(() => {\r\n    return flexWidthViewportColumns.filter(\r\n      (column) => !columnWidths.has(column.key)\r\n    );\r\n  }, [flexWidthViewportColumns, columnWidths]);\r\n\r\n  return {\r\n    viewportColumns,\r\n    flexWidthViewportColumns: unsizedFlexWidthViewportColumns,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport { floor, max, min } from \"../utils\";\r\n\r\n// TODO: https://github.com/microsoft/TypeScript/issues/41808\r\nfunction isReadonlyArray(arr) {\r\n  return Array.isArray(arr);\r\n}\r\n\r\nexport function useViewportRows({\r\n  rawRows,\r\n  rowHeight,\r\n  clientHeight,\r\n  scrollTop,\r\n  groupBy,\r\n  rowGrouper,\r\n  expandedGroupIds,\r\n  enableVirtualization,\r\n  paginationPageSize,\r\n  current,\r\n  pagination,\r\n  expandAll,\r\n}) {\r\n  const [groupedRows, rowsCount] = useMemo(() => {\r\n    if (groupBy.length === 0 || rowGrouper == null)\r\n      return [undefined, rawRows.length];\r\n\r\n    const groupRows = (\r\n      rows,\r\n      [groupByKey, ...remainingGroupByKeys],\r\n      startRowIndex\r\n    ) => {\r\n      let groupRowsCount = 0;\r\n      const groups = {};\r\n      for (const [key, childRows] of Object.entries(\r\n        rowGrouper(rows, groupByKey)\r\n      )) {\r\n        // Recursively group each parent group\r\n        const [childGroups, childRowsCount] =\r\n          remainingGroupByKeys.length === 0\r\n            ? [childRows, childRows.length]\r\n            : groupRows(\r\n                childRows,\r\n                remainingGroupByKeys,\r\n                startRowIndex + groupRowsCount + 1\r\n              ); // 1 for parent row\r\n        groups[key] = {\r\n          childRows,\r\n          childGroups,\r\n          startRowIndex: startRowIndex + groupRowsCount,\r\n        };\r\n        groupRowsCount += childRowsCount + 1; // 1 for parent row\r\n      }\r\n\r\n      return [groups, groupRowsCount];\r\n    };\r\n\r\n    return groupRows(rawRows, groupBy, 0);\r\n  }, [groupBy, rowGrouper, rawRows]);\r\n\r\n  const [rows, isGroupRow] = useMemo(() => {\r\n    const allGroupRows = new Set();\r\n    if (!groupedRows) return [rawRows, isGroupRow];\r\n\r\n    const flattenedRows = [];\r\n    const expandGroup = (rows, parentId, level) => {\r\n      if (isReadonlyArray(rows)) {\r\n        flattenedRows.push(...rows);\r\n        return;\r\n      }\r\n      Object.keys(rows).forEach((groupKey, posInSet, keys) => {\r\n        // TODO: should users have control over the generated key?\r\n        const id =\r\n          parentId !== undefined ? `${parentId}__${groupKey}` : groupKey;\r\n        const isExpanded = expandAll!= null ? expandAll : expandedGroupIds?.has(id) ?? false;\r\n        const { childRows, childGroups, startRowIndex } = rows[groupKey];\r\n\r\n        const groupRow = {\r\n          id,\r\n          parentId,\r\n          groupKey,\r\n          isExpanded,\r\n          childRows,\r\n          level,\r\n          posInSet,\r\n          startRowIndex,\r\n          setSize: keys.length,\r\n        };\r\n        flattenedRows.push(groupRow);\r\n        allGroupRows.add(groupRow);\r\n        if (isExpanded) {\r\n          expandGroup(childGroups, id, level + 1);\r\n        }\r\n      });\r\n    };\r\n\r\n    expandGroup(groupedRows, undefined, 0);\r\n    return [flattenedRows, isGroupRow];\r\n\r\n    function isGroupRow(row) {\r\n      return allGroupRows.has(row);\r\n    }\r\n  }, [expandedGroupIds, groupedRows, rawRows, expandAll]);\r\n\r\n  const {\r\n    totalRowHeight,\r\n    gridTemplateRows,\r\n    getRowTop,\r\n    getRowHeight,\r\n    findRowIdx,\r\n  } = useMemo(() => {\r\n    if (typeof rowHeight === \"number\") {\r\n      return {\r\n        totalRowHeight: rowHeight * rows.length,\r\n        gridTemplateRows: pagination\r\n          ? ` repeat(${paginationPageSize}, ${rowHeight}px)`\r\n          : ` repeat(${rows.length}, ${rowHeight}px)`,\r\n        getRowTop: (rowIdx) => rowIdx * rowHeight,\r\n        getRowHeight: () => rowHeight,\r\n        findRowIdx: (offset) => floor(offset / rowHeight),\r\n      };\r\n    }\r\n\r\n    let totalRowHeight = 0;\r\n    let gridTemplateRows = \" \";\r\n    // Calcule the height of all the rows upfront. This can cause performance issues\r\n    // and we can consider using a similar approach as react-window\r\n    // https://github.com/bvaughn/react-window/blob/b0a470cc264e9100afcaa1b78ed59d88f7914ad4/src/VariableSizeList.js#L68\r\n    const rowPositions = rows.map((row) => {\r\n      const currentRowHeight = isGroupRow(row)\r\n        ? rowHeight({ type: \"GROUP\", row })\r\n        : rowHeight({ type: \"ROW\", row });\r\n      const position = { top: totalRowHeight, height: currentRowHeight };\r\n      gridTemplateRows += `${currentRowHeight}px `;\r\n      totalRowHeight += currentRowHeight;\r\n      return position;\r\n    });\r\n\r\n    const validateRowIdx = (rowIdx) => {\r\n      return max(0, min(rows.length - 1, rowIdx));\r\n    };\r\n\r\n    return {\r\n      totalRowHeight,\r\n      gridTemplateRows,\r\n      getRowTop: (rowIdx) => rowPositions[validateRowIdx(rowIdx)].top,\r\n      getRowHeight: (rowIdx) => rowPositions[validateRowIdx(rowIdx)].height,\r\n      findRowIdx(offset) {\r\n        let start = 0;\r\n        let end = rowPositions.length - 1;\r\n\r\n        while (start <= end) {\r\n          const middle = start + floor((end - start) / 2);\r\n          const currentOffset = rowPositions[middle].top;\r\n\r\n          if (currentOffset === offset) return middle;\r\n\r\n          if (currentOffset < offset) {\r\n            start = middle + 1;\r\n          } else if (currentOffset > offset) {\r\n            end = middle - 1;\r\n          }\r\n\r\n          if (start > end) return end;\r\n        }\r\n        return 0;\r\n      },\r\n    };\r\n  }, [isGroupRow, rowHeight, rows]);\r\n\r\n  let rowOverscanStartIdx = 0;\r\n  let rowOverscanEndIdx = rows.length - 1;\r\n\r\n  if (enableVirtualization) {\r\n    const overscanThreshold = 4;\r\n    const rowVisibleStartIdx = findRowIdx(scrollTop);\r\n    const rowVisibleEndIdx = findRowIdx(scrollTop + clientHeight);\r\n    rowOverscanStartIdx = max(0, rowVisibleStartIdx - overscanThreshold);\r\n    let numberOfRows =\r\n      rows.length - (current - 1) * paginationPageSize >= paginationPageSize\r\n        ? paginationPageSize - 1\r\n        : rows.length - (current - 1) * paginationPageSize - 1;\r\n    rowOverscanEndIdx = min(\r\n      pagination ? numberOfRows : rows.length - 1,\r\n      rowVisibleEndIdx + overscanThreshold\r\n    );\r\n  }\r\n\r\n  if (pagination) {\r\n    let start = paginationPageSize * current - paginationPageSize;\r\n    let end = paginationPageSize * current;\r\n    return {\r\n      rowOverscanStartIdx,\r\n      rowOverscanEndIdx,\r\n      rows: rows.slice(start, end),\r\n      rowsCount: rows.slice(start, end).length - 1,\r\n      totalRowHeight,\r\n      gridTemplateRows,\r\n      isGroupRow,\r\n      getRowTop,\r\n      getRowHeight,\r\n      findRowIdx,\r\n    };\r\n  } else {\r\n    return {\r\n      rowOverscanStartIdx,\r\n      rowOverscanEndIdx,\r\n      rows,\r\n      rowsCount,\r\n      totalRowHeight,\r\n      gridTemplateRows,\r\n      isGroupRow,\r\n      getRowTop,\r\n      getRowHeight,\r\n      findRowIdx,\r\n    };\r\n  }\r\n}\r\n","import React, {createContext} from \"react\";\r\n\r\nconst FilterContext = createContext(undefined);\r\nexport default FilterContext","import React, { useContext, useEffect, useState } from 'react';\r\nimport { css } from \"@linaria/core\"\r\n\r\nimport { useFocusRef } from \"./hooks\"\r\nimport { useDefaultComponents } from \"./DataGridDefaultComponentsProvider\"\r\nimport FilterContext from './filterContext';\r\nimport FiltersDropdown from './FiltersDropdown'\r\n\r\nconst headerSortCell = css`\r\n  @layer rdg.SortableHeaderCell {\r\n    cursor: pointer;\r\n    display: flex;\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst headerSortCellClassname = `rdg-header-sort-cell ${headerSortCell}`\r\n\r\nconst headerSortName = css`\r\n  @layer rdg.SortableHeaderCellName {\r\n    flex-grow: 1;\r\n    overflow: hidden;\r\n    overflow: clip;\r\n    text-overflow: ellipsis;\r\n  }\r\n`\r\n\r\nconst headerSortNameClassname = `rdg-header-sort-name ${headerSortName}`\r\n\r\nconst filterClassname = css`\r\nmargin-top: -35px;\r\n  display: grid;\r\n  grid-gap: 10px;\r\n  padding: 4px;\r\n  font-size: 14px;\r\n  inline-size: 100%;\r\n`;\r\n\r\nexport default function HeaderRenderer({\r\n  column,\r\n  rows,\r\n  sortDirection,\r\n  priority,\r\n  onSort,\r\n  isCellSelected,\r\n  setFilters,...rest\r\n}) {\r\n  // const unique = [...new Set(rows?.map(item => item?.[column.field]))]\r\n  // const [options, setOptions] = useState([])\r\n  // useEffect(() => {\r\n  //   let dummy = []\r\n  //   unique.forEach(x => {\r\n  //     dummy.push({\r\n  //       key: column.field,\r\n  //       listname: x,\r\n  //       value: x\r\n  //     })\r\n  //   })\r\n  //   setOptions(dummy)\r\n  // }, [column])\r\n\r\n  // const [open, setOpen] = useState(false)\r\n\r\n  const alterHeaderName =\r\n  column.field ? column.field.charAt(0).toUpperCase() + column.field.slice(1) : column.headerName.charAt(0).toUpperCase() + column.headerName.slice(1);\r\n  if (!(column.sortable || column.filter)) return <>{column.headerName ?? alterHeaderName}</>\r\n  if (column.sortable && !column.filter)\r\n    return (\r\n      <SortableHeaderCell\r\n        onSort={onSort}\r\n        sortDirection={sortDirection}\r\n        priority={priority}\r\n        isCellSelected={isCellSelected}\r\n        column={column}\r\n      >\r\n        {column.headerName  ?? alterHeaderName} \r\n      </SortableHeaderCell>\r\n    )\r\n  if (column.filter && !column.sortable)\r\n    return (\r\n      <>\r\n        <FilterRenderer column={column} isCellSelected={isCellSelected} alterHeaderName={alterHeaderName}>\r\n          {({ filters, ...rest }) => (\r\n            <div className={filterClassname}>\r\n              <input\r\n                {...rest}\r\n                value={filters?.[column.field]}\r\n                onChange={(e) =>\r\n                  setFilters({\r\n                    ...filters,\r\n                    [column.field]: e.target.value\r\n                  })\r\n                }\r\n                onKeyDown={inputStopPropagation}\r\n              />\r\n              {/* <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" viewBox=\"0 0 16 16\" onClick={() => setOpen(true)}>\r\n                <path d=\"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z\" />\r\n              </svg>\r\n              {open && <FiltersDropdown options={options} setFilters={setFilters} filters={filters} column={column} />} */}\r\n            </div>\r\n          )}\r\n        </FilterRenderer>\r\n      </>\r\n    )\r\n  if (column.filter && column.sortable)\r\n    return (\r\n      <>\r\n        <SortableHeaderCell\r\n          onSort={onSort}\r\n          sortDirection={sortDirection}\r\n          priority={priority}\r\n          isCellSelected={isCellSelected}\r\n        >\r\n          {column.headerName  ?? alterHeaderName}\r\n        </SortableHeaderCell> \r\n        <FilterRenderer column={column} isCellSelected={isCellSelected} alterHeaderName={alterHeaderName} >\r\n          {({ filters, ...rest }) => (\r\n            <div className={filterClassname}>\r\n              <input\r\n                {...rest}\r\n                value={filters?.[column.field]}\r\n                onChange={(e) =>\r\n                  setFilters({\r\n                    ...filters,\r\n                    [column.field]: e.target.value\r\n                  })\r\n                }\r\n                onKeyDown={inputStopPropagation}\r\n              />\r\n              {/* <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" viewBox=\"0 0 16 16\" onClick={() => setOpen(true)}>\r\n                <path d=\"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z\" />\r\n              </svg>\r\n              {open && <FiltersDropdown options={options} setFilters={setFilters} filters={filters} column={column} />} */}\r\n            </div>\r\n          )}\r\n        </FilterRenderer>\r\n      </>\r\n    )\r\n}\r\n\r\nfunction SortableHeaderCell({\r\n  onSort,\r\n  sortDirection,\r\n  priority,\r\n  children,\r\n  isCellSelected,\r\n  column\r\n}) {\r\n  const sortStatus = useDefaultComponents().sortStatus\r\n  const { ref, tabIndex } = useFocusRef(isCellSelected)\r\n\r\n  function handleKeyDown(event) {\r\n    if (event.key === \" \" || event.key === \"Enter\") {\r\n      // stop propagation to prevent scrolling\r\n      event.preventDefault()\r\n      onSort(event.ctrlKey || event.metaKey)\r\n    }\r\n  }\r\n\r\n  function handleClick(event) {\r\n    onSort(event.ctrlKey || event.metaKey)\r\n  }\r\n\r\n  return (\r\n    <span\r\n      ref={ref}\r\n      tabIndex={tabIndex}\r\n      className={headerSortCellClassname}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      <span className={headerSortNameClassname}>{children}</span>\r\n      <span>{sortStatus({ sortDirection, priority })}</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nfunction inputStopPropagation(event) {\r\n  if (['ArrowLeft', 'ArrowRight'].includes(event.key)) {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n\r\nfunction FilterRenderer({\r\n  isCellSelected,\r\n  column,\r\n  children,\r\n  alterHeaderName,\r\n}) {\r\n  const filters = useContext(FilterContext);\r\n  const { ref, tabIndex } = useFocusRef(isCellSelected);\r\n  return (\r\n    <>\r\n      {!column.sortable && <span className={headerSortNameClassname}>{column.headerName ?? alterHeaderName}</span>}\r\n      {filters.enabled && <div>{children({ ref, tabIndex, filters })}</div>}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport defaultHeaderRenderer from \"./headerRenderer\";\r\nimport { getCellStyle, getCellClassname } from \"./utils\";\r\nimport { useRovingCellRef } from \"./hooks\";\r\nimport { filterColumnClassName } from \"./style\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nconst cellResizable = css`\r\n  @layer rdg.HeaderCell {\r\n    touch-action: none;\r\n\r\n    &::after {\r\n      content: \"\";\r\n      cursor: col-resize;\r\n      position: absolute;\r\n      inset-block-start: 0;\r\n      inset-inline-end: 0;\r\n      inset-block-end: 0;\r\n      inline-size: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst cellResizableClassname = `rdg-cell-resizable ${cellResizable}`;\r\n\r\nexport default function HeaderCell({\r\n  column,\r\n  columns,\r\n  rows,\r\n  colSpan,\r\n  isCellSelected,\r\n  onColumnResize,\r\n  allRowsSelected,\r\n  onAllRowsSelectionChange,\r\n  sortColumns,\r\n  onSortColumnsChange,\r\n  selectCell,\r\n  shouldFocusGrid,\r\n  selectedPosition,\r\n  selectedCellHeaderStyle,\r\n  direction,\r\n  setFilters,\r\n  handleReorderColumn,\r\n}) {\r\n  const isRtl = direction === \"rtl\";\r\n  const { ref, tabIndex, onFocus } = useRovingCellRef(isCellSelected);\r\n  const sortIndex = sortColumns?.findIndex(\r\n    (sort) => sort.columnKey === column.key\r\n  );\r\n  const sortColumn =\r\n    sortIndex !== undefined && sortIndex > -1\r\n      ? sortColumns[sortIndex]\r\n      : undefined;\r\n  const sortDirection = sortColumn?.direction;\r\n  const priority =\r\n    sortColumn !== undefined && sortColumns.length > 1\r\n      ? sortIndex + 1\r\n      : undefined;\r\n  const ariaSort =\r\n    sortDirection && !priority\r\n      ? sortDirection === \"ASC\"\r\n        ? \"ascending\"\r\n        : \"descending\"\r\n      : undefined;\r\n  var style = getCellStyle(column, colSpan);\r\n  selectedCellHeaderStyle && selectedPosition.idx === column.idx\r\n    ? (style = { ...style, ...selectedCellHeaderStyle })\r\n    : style;\r\n\r\n  const className = getCellClassname(\r\n    column,\r\n    column.headerCellClass,\r\n    column.filter && filterColumnClassName,\r\n    {\r\n      [cellResizableClassname]: column.resizable,\r\n    },\r\n    `rdg-header-column-${column.idx % 2 === 0 ? \"even\" : \"odd\"}`\r\n  );\r\n\r\n  const headerRenderer = column.headerRenderer ?? defaultHeaderRenderer;\r\n\r\n  function onPointerDown(event) {\r\n    if (event.pointerType === \"mouse\" && event.buttons !== 1) {\r\n      return;\r\n    }\r\n\r\n    const { currentTarget, pointerId } = event;\r\n    const { right, left } = currentTarget.getBoundingClientRect();\r\n    const offset = isRtl ? event.clientX - left : right - event.clientX;\r\n\r\n    if (offset > 11) {\r\n      // +1px to account for the border size\r\n      return;\r\n    }\r\n\r\n    function onPointerMove(event) {\r\n      // prevents text selection in Chrome, which fixes scrolling the grid while dragging, and fixes re-size on an autosized column\r\n      event.preventDefault();\r\n      const { right, left } = currentTarget.getBoundingClientRect();\r\n      const width = isRtl\r\n        ? right + offset - event.clientX\r\n        : event.clientX + offset - left;\r\n      if (width > 0) {\r\n        onColumnResize(column, width);\r\n      }\r\n    }\r\n\r\n    function onLostPointerCapture() {\r\n      currentTarget.removeEventListener(\"pointermove\", onPointerMove);\r\n      currentTarget.removeEventListener(\r\n        \"lostpointercapture\",\r\n        onLostPointerCapture\r\n      );\r\n    }\r\n\r\n    currentTarget.setPointerCapture(pointerId);\r\n    currentTarget.addEventListener(\"pointermove\", onPointerMove);\r\n    currentTarget.addEventListener(\"lostpointercapture\", onLostPointerCapture);\r\n  }\r\n\r\n  function onSort(ctrlClick) {\r\n    if (onSortColumnsChange == null) return;\r\n    const { sortDescendingFirst } = column;\r\n    if (sortColumn === undefined) {\r\n      // not currently sorted\r\n      const nextSort = {\r\n        columnKey: column.key,\r\n        direction: sortDescendingFirst ? \"DESC\" : \"ASC\",\r\n      };\r\n      onSortColumnsChange(\r\n        sortColumns && ctrlClick ? [...sortColumns, nextSort] : [nextSort]\r\n      );\r\n    } else {\r\n      let nextSortColumn;\r\n      if (\r\n        (sortDescendingFirst === true && sortDirection === \"DESC\") ||\r\n        (sortDescendingFirst !== true && sortDirection === \"ASC\")\r\n      ) {\r\n        nextSortColumn = {\r\n          columnKey: column.key,\r\n          direction: sortDirection === \"ASC\" ? \"DESC\" : \"ASC\",\r\n        };\r\n      }\r\n      if (ctrlClick) {\r\n        const nextSortColumns = [...sortColumns];\r\n        if (nextSortColumn) {\r\n          // swap direction\r\n          nextSortColumns[sortIndex] = nextSortColumn;\r\n        } else {\r\n          // remove sort\r\n          nextSortColumns.splice(sortIndex, 1);\r\n        }\r\n        onSortColumnsChange(nextSortColumns);\r\n      } else {\r\n        onSortColumnsChange(nextSortColumn ? [nextSortColumn] : []);\r\n      }\r\n    }\r\n  }\r\n\r\n  function onClick() {\r\n    selectCell(column.idx);\r\n  }\r\n\r\n  function onDoubleClick(event) {\r\n    const { right, left } = event.currentTarget.getBoundingClientRect();\r\n    const offset = isRtl ? event.clientX - left : right - event.clientX;\r\n\r\n    if (offset > 11) {\r\n      // +1px to account for the border size\r\n      return;\r\n    }\r\n\r\n    onColumnResize(column, \"max-content\");\r\n  }\r\n\r\n  function handleFocus(event) {\r\n    onFocus?.(event);\r\n    if (shouldFocusGrid) {\r\n      // Select the first header cell if there is no selected cell\r\n      selectCell(0);\r\n    }\r\n  }\r\n\r\n  function handleColumnsReorder(sourceKey, targetKey) {\r\n    //console.log(\"sourceKey\", sourceKey, \" targetKey\", targetKey);\r\n    const sourceColumnIndex = columns.findIndex((c) => c.field === sourceKey);\r\n    const targetColumnIndex = columns.findIndex((c) => c.field === targetKey);\r\n    const reorderedColumns = [...columns];\r\n    //console.log(\"reorderedColumns\", reorderedColumns);\r\n    reorderedColumns.splice(\r\n      targetColumnIndex,\r\n      0,\r\n      reorderedColumns.splice(sourceColumnIndex, 1)[0]\r\n    );\r\n    handleReorderColumn([...reorderedColumns]);\r\n  }\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"COLUMN_DRAG\",\r\n    item: { key: column.key },\r\n    collect: (monitor) => ({ isDragging: monitor.isDragging() }),\r\n  });\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: \"COLUMN_DRAG\",\r\n    drop({ key }) {\r\n      handleColumnsReorder(key, column.key);\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  });\r\n  return (\r\n    // rome-ignore lint/a11y/useKeyWithClickEvents: <explanation>\r\n    <div\r\n      role=\"columnheader\"\r\n      aria-colindex={column.idx + 1}\r\n      aria-selected={isCellSelected}\r\n      aria-sort={ariaSort}\r\n      aria-colspan={colSpan}\r\n      ref={(ele) => {\r\n        drag(ele);\r\n        drop(ele);\r\n      }}\r\n      // set the tabIndex to 0 when there is no selected cell so grid can receive focus\r\n      tabIndex={shouldFocusGrid ? 0 : tabIndex}\r\n      className={className}\r\n      style={style}\r\n      onFocus={handleFocus}\r\n      onClick={onClick}\r\n      onDoubleClick={column.resizable ? onDoubleClick : undefined}\r\n      onPointerDown={column.resizable ? onPointerDown : undefined}>\r\n      {headerRenderer({\r\n        column,\r\n        rows,\r\n        sortDirection,\r\n        priority,\r\n        onSort,\r\n        allRowsSelected,\r\n        onAllRowsSelectionChange,\r\n        isCellSelected,\r\n        setFilters,\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { memo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport HeaderCell from \"./HeaderCell\";\r\nimport { getColSpan, getRowStyle } from \"./utils\";\r\nimport { cell, cellFrozen } from \"./style\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nconst headerRow = css`\r\n  @layer rdg.HeaderRow {\r\n    display: contents;\r\n    line-height: var(--rdg-header-row-height);\r\n    background-color: var(--rdg-header-background-color);\r\n    font-weight: bold;\r\n    color: var(--rdg-header-row-color);\r\n    font-size: 11px;\r\n    text-align: center;\r\n\r\n    & > .${cell} {\r\n      /* Should have a higher value than 0 to show up above regular cells */\r\n      z-index: 1;\r\n      position: sticky;\r\n      inset-block-start: 0;\r\n    }\r\n\r\n    & > .${cellFrozen} {\r\n      z-index: 2;\r\n    }\r\n  }\r\n`;\r\n\r\nconst headerRowClassname = `rdg-header-row ${headerRow}`;\r\n\r\nfunction HeaderRow({\r\n  columns,\r\n  rows,\r\n  allRowsSelected,\r\n  onAllRowsSelectionChange,\r\n  onColumnResize,\r\n  sortColumns,\r\n  onSortColumnsChange,\r\n  lastFrozenColumnIndex,\r\n  selectedCellIdx,\r\n  selectCell,\r\n  selectedCellHeaderStyle,\r\n  selectedPosition,\r\n  shouldFocusGrid,\r\n  direction,\r\n  setFilters,\r\n  handleReorderColumn,\r\n}) {\r\n  const cells = [];\r\n  for (let index = 0; index < columns.length; index++) {\r\n    const column = columns[index];\r\n    const colSpan = getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"HEADER\",\r\n    });\r\n    if (colSpan !== undefined) {\r\n      index += colSpan - 1;\r\n    }\r\n\r\n    cells.push(\r\n      <HeaderCell\r\n        key={`${column.key}`}\r\n        column={column}\r\n        rows={rows}\r\n        handleReorderColumn={handleReorderColumn}\r\n        columns={columns}\r\n        colSpan={colSpan}\r\n        selectedPosition={selectedPosition}\r\n        selectedCellHeaderStyle={selectedCellHeaderStyle}\r\n        isCellSelected={selectedCellIdx === column.idx}\r\n        onColumnResize={onColumnResize}\r\n        allRowsSelected={allRowsSelected}\r\n        onAllRowsSelectionChange={onAllRowsSelectionChange}\r\n        onSortColumnsChange={onSortColumnsChange}\r\n        sortColumns={sortColumns}\r\n        selectCell={selectCell}\r\n        shouldFocusGrid={shouldFocusGrid && index === 0}\r\n        direction={direction}\r\n        setFilters={setFilters}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div\r\n        role=\"row\"\r\n        // aria-rowindex is 1 based\r\n        aria-rowindex={1}\r\n        className={clsx(headerRowClassname, {\r\n          // [rowSelectedClassname]: selectedCellIdx === -1,\r\n        })}\r\n        style={getRowStyle(1)}>\r\n        {cells}\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n}\r\n\r\nexport default memo(HeaderRow);\r\n","import React from \"react\";\r\nimport { memo } from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport { getCellStyle, getCellClassname, isCellEditable } from \"./utils\";\r\nimport { useRovingCellRef } from \"./hooks\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport moment from \"moment\";\r\nimport {\r\n  bottomRowIsSelectedClassName,\r\n  rowIsSelectedClassName,\r\n  topRowIsSelectedClassName,\r\n} from \"./style\";\r\nconst cellCopied = css`\r\n  @layer rdg.Cell {\r\n    background-color: #ccccff;\r\n  }\r\n`;\r\n\r\nconst cellCopiedClassname = `rdg-cell-copied ${cellCopied}`;\r\n\r\nconst cellDraggedOver = css`\r\n  @layer rdg.Cell {\r\n    background-color: #ccccff;\r\n\r\n    &.${cellCopied} {\r\n      background-color: #9999ff;\r\n    }\r\n  }\r\n`;\r\n\r\nconst cellDraggedOverClassname = `rdg-cell-dragged-over ${cellDraggedOver}`;\r\n\r\nfunction Cell({\r\n  column,\r\n  colSpan,\r\n  isCellSelected,\r\n  isCopied,\r\n  api,\r\n  isDraggedOver,\r\n  isRowSelected,\r\n  row,\r\n  rowIndex,\r\n  allrow,\r\n  dragHandle,\r\n  onRowClick,\r\n  onRowDoubleClick,\r\n  onRowChange,\r\n  selectCell,\r\n  node,\r\n  handleReorderRow,\r\n  totalColumns,\r\n  onCellClick,\r\n  onCellDoubleClick,\r\n  onCellContextMenu,\r\n  columnApi,\r\n  ...props\r\n}) {\r\n  const { ref, tabIndex, onFocus } = useRovingCellRef(isCellSelected);\r\n\r\n  const { cellClass } = column;\r\n  const topRow = rowIndex === 0 && isRowSelected ? true : false;\r\n  const bottomRow =\r\n    rowIndex === allrow.length - 1 && isRowSelected ? true : false;\r\n  const middleRow = !(topRow || bottomRow) && isRowSelected ? true : false;\r\n  const className = getCellClassname(\r\n    column,\r\n    `rdg-cell-column-${column.idx % 2 === 0 ? \"even\" : \"odd\"}`,\r\n    {\r\n      [cellCopiedClassname]: isCopied,\r\n      [cellDraggedOverClassname]: isDraggedOver,\r\n      [rowIsSelectedClassName]: middleRow,\r\n      [topRowIsSelectedClassName]: topRow,\r\n      [bottomRowIsSelectedClassName]: bottomRow,\r\n    },\r\n    typeof cellClass === \"function\" ? cellClass(row) : cellClass\r\n  );\r\n\r\n  function selectCellWrapper(openEditor) {\r\n    selectCell(row, column, openEditor);\r\n  }\r\n\r\n  function handleClick(e) {\r\n    selectCellWrapper(column.editorOptions?.editOnClick);\r\n    onRowClick?.({\r\n      api: api,\r\n      data: row,\r\n      columnApi: columnApi,\r\n      node: node,\r\n      rowIndex: rowIndex,\r\n      type: \"rowClicked\",\r\n      event: e,\r\n    });\r\n    onCellClick?.({\r\n      api: api,\r\n      colDef: {\r\n        field: column.field,\r\n        resizable: column.resizable ?? undefined,\r\n        sortable: column.sortable ?? undefined,\r\n        width: column.width,\r\n      },\r\n      data: row,\r\n      node: node,\r\n      columnApi: columnApi,\r\n      rowIndex: rowIndex,\r\n      value: row[column.field] ?? undefined,\r\n      type: \"cellClicked\",\r\n      event: e,\r\n    });\r\n  }\r\n\r\n  function handleContextMenu(e) {\r\n    selectCellWrapper();\r\n    onCellContextMenu?.({\r\n      api: api,\r\n      colDef: {\r\n        field: column.field,\r\n        resizable: column.resizable ?? undefined,\r\n        sortable: column.sortable ?? undefined,\r\n        width: column.width,\r\n      },\r\n      data: row,\r\n      node: node,\r\n      columnApi: columnApi,\r\n      rowIndex: rowIndex,\r\n      value: row[column.field] ?? undefined,\r\n      type: \"cellContextMenu\",\r\n      event: e,\r\n    });\r\n  }\r\n\r\n  function handleDoubleClick(e) {\r\n    selectCellWrapper(true);\r\n    onRowDoubleClick?.({\r\n      api: api,\r\n      data: row,\r\n      columnApi: columnApi,\r\n      node: node,\r\n      rowIndex: rowIndex,\r\n      type: \"rowDoubleClicked\",\r\n      event: e,\r\n    });\r\n    onCellDoubleClick?.({\r\n      api: api,\r\n      colDef: {\r\n        field: column.field,\r\n        resizable: column.resizable ?? undefined,\r\n        sortable: column.sortable ?? undefined,\r\n        width: column.width,\r\n      },\r\n      data: row,\r\n      node: node,\r\n      columnApi: columnApi,\r\n      rowIndex: rowIndex,\r\n      value: row[column.field] ?? undefined,\r\n      type: \"cellDoubleClicked\",\r\n      event: e,\r\n    });\r\n  }\r\n\r\n  function handleRowChange(newRow) {\r\n    onRowChange(column, newRow);\r\n  }\r\n\r\n  // -----------\r\n\r\n  var style = getCellStyle(column, colSpan);\r\n  style =\r\n    column.idx === 0 && isRowSelected\r\n      ? { ...style, ...{ borderInlineStart: \"1px solid #9bbb59\" } }\r\n      : { ...style };\r\n  style =\r\n    column.idx === totalColumns - 1 && isRowSelected\r\n      ? { ...style, ...{ borderInlineEnd: \"1px solid #9bbb59\" } }\r\n      : { ...style };\r\n  const rowSpan = column.rowSpan?.({ type: \"ROW\", row }) ?? undefined;\r\n\r\n  if (column.validation) {\r\n    const validationStyle = column.validation.style\r\n      ? column.validation.style\r\n      : { backgroundColor: \"red\" };\r\n      if( column.validation.method(row[column.key])){\r\n       (style = {\r\n          ...style,\r\n          ...validationStyle,\r\n        });\r\n      }\r\n  }\r\n\r\n  if (column.alignment) {\r\n    function alignmentUtils() {\r\n      var styles = style;\r\n      var symbol = [\"£\", \"$\", \"₹\", \"€\", \"¥\", \"₣\", \"¢\"];\r\n\r\n      if (\r\n        moment(row[column.key], \"YYYY-MM-DD\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY/MM/DD\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY-DD-MM\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY/DD/MM\", true).isValid() ||\r\n        moment(row[column.key], \"MM-DD-YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"MM/DD-YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"DD-MM-YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"DD/MM/YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"DD-MMM-YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"DD/MMM/YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"MMM-DD-YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"MMM/DD/YYYY\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY-MMM-DD\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY/MMM/DD\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY-DD-MMM\", true).isValid() ||\r\n        moment(row[column.key], \"YYYY/DD/MMM\", true).isValid() ||\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"date\")\r\n      ) {\r\n        const alignmentStyle = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"left\" };\r\n        styles = {\r\n          ...styles,\r\n          ...alignmentStyle,\r\n        };\r\n        return styles;\r\n      } else if (\r\n        moment(row[column.key], \"hh:mm\", true).isValid() ||\r\n        moment(row[column.key], \"hh:mm:ss\", true).isValid() ||\r\n        moment(row[column.key], \"hh:mm:ss a\", true).isValid() ||\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"time\")\r\n      ) {\r\n        const alignment = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"left\" };\r\n        styles = {\r\n          ...styles,\r\n          ...alignment,\r\n        };\r\n        return styles;\r\n      } else if (\r\n        (typeof row[column.key] === \"number\" &&\r\n          column.alignment.type !== \"currency\") ||\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"number\")\r\n      ) {\r\n        const alignment = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"end\" };\r\n        styles = {\r\n          ...styles,\r\n          ...alignment,\r\n        };\r\n        return styles;\r\n      } else if (\r\n        symbol.includes(JSON.stringify(row[column.key])[1]) ||\r\n        symbol.includes(\r\n          JSON.stringify(row[column.key])[row[column.key].length]\r\n        ) ||\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"currency\")\r\n      ) {\r\n        const alignment = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"end\" };\r\n        styles = {\r\n          ...styles,\r\n          ...alignment,\r\n        };\r\n        return styles;\r\n      } else if (\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"string\") ||\r\n        (column.alignment.type &&\r\n          column.alignment.type.toLowerCase() === \"text\") ||\r\n        typeof row[column.ley] === \"string\"\r\n      ) {\r\n        const alignment = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"left\" };\r\n        styles = {\r\n          ...styles,\r\n          ...alignment,\r\n        };\r\n        return styles;\r\n      } else {\r\n        const alignment = column.alignment.align\r\n          ? { textAlign: column.alignment.align }\r\n          : { textAlign: \"center\" };\r\n        styles = { ...styles, ...alignment };\r\n\r\n        return styles;\r\n      }\r\n    }\r\n\r\n    style = column.alignment.align\r\n      ? { ...style, textAlign: column.alignment.align }\r\n      : alignmentUtils({ column, row, style });\r\n  }\r\n  /// -----------------------\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"ROW_DRAG\",\r\n    item: { index: rowIndex },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  function onRowReorder(fromIndex, toIndex) {\r\n    const newRows = [...allrow];\r\n    newRows.splice(toIndex, 0, newRows.splice(fromIndex, 1)[0]);\r\n    handleReorderRow(newRows);\r\n  }\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: \"ROW_DRAG\",\r\n    drop({ index }) {\r\n      onRowReorder(index, rowIndex);\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  });\r\n  var renderObject = {\r\n    column,\r\n    colDef: column,\r\n    row,\r\n    data: row,\r\n    columnApi,\r\n    allrow,\r\n    api,\r\n    node,\r\n    rowIndex,\r\n    // value: row[column.key],\r\n    isCellSelected,\r\n    onRowChange: handleRowChange,\r\n  };\r\n  return (\r\n    <div\r\n      role=\"gridcell\"\r\n      // aria-colindex is 1-based\r\n      aria-colindex={column.idx + 1}\r\n      aria-selected={isCellSelected}\r\n      aria-colspan={colSpan}\r\n      aria-rowspan={rowSpan}\r\n      aria-readonly={!isCellEditable(column, row) || undefined}\r\n      ref={ref}\r\n      tabIndex={tabIndex}\r\n      className={className}\r\n      style={style}\r\n      onClick={handleClick}\r\n      onDoubleClick={handleDoubleClick}\r\n      onContextMenu={handleContextMenu}\r\n      onFocus={onFocus}\r\n      // title={`${row[column.key]}`}\r\n      {...props}\r\n    >\r\n      {!column.rowGroup && (\r\n        <>\r\n          {column.rowDrag && (\r\n            <div\r\n              ref={(ele) => {\r\n                drag(ele);\r\n                drop(ele);\r\n              }}\r\n            >\r\n              <span style={{ marginRight: \"10px\", cursor: \"grab\" }}>\r\n                &#9674;\r\n              </span>\r\n              {column.cellRenderer(renderObject)}\r\n            </div>\r\n          )}\r\n          {!column.rowDrag && column.cellRenderer(renderObject)}\r\n          {dragHandle}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Cell);\r\n","import React, { memo, forwardRef } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport Cell from \"./Cell\";\r\nimport { RowSelectionProvider, useLatestFunc } from \"./hooks\";\r\nimport { getColSpan, getRowStyle } from \"./utils\";\r\nimport { rowClassname, rowSelectedClassname } from \"./style\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nfunction Row(\r\n  {\r\n    className,\r\n    rowIdx,\r\n    gridRowStart,\r\n    height,\r\n    selectedCellIdx,\r\n    isRowSelected,\r\n    copiedCellIdx,\r\n    draggedOverCellIdx,\r\n    lastFrozenColumnIndex,\r\n    api,\r\n    row,\r\n    selectedCellRowStyle,\r\n    rows,\r\n    node,\r\n    viewportColumns,\r\n    selectedCellEditor,\r\n    selectedCellDragHandle,\r\n    onRowClick,\r\n    onRowDoubleClick,\r\n    rowClass,\r\n    setDraggedOverRowIdx,\r\n    onMouseEnter,\r\n    onRowChange,\r\n    selectCell,\r\n    totalColumns,\r\n    handleReorderRow,\r\n    onCellClick,\r\n    onCellDoubleClick,\r\n    onCellContextMenu,\r\n    columnApi,\r\n    ...props\r\n  },\r\n  ref\r\n) {\r\n  const handleRowChange = useLatestFunc((column, newRow) => {\r\n    onRowChange(column, rowIdx, newRow);\r\n  });\r\n\r\n  function handleDragEnter(event) {\r\n    setDraggedOverRowIdx?.(rowIdx);\r\n    onMouseEnter?.(event);\r\n  }\r\n\r\n  className = clsx(\r\n    rowClassname,\r\n    `rdg-row-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`,\r\n    {\r\n      [rowSelectedClassname]: isRowSelected,\r\n    },\r\n    rowClass?.(row),\r\n    className\r\n  );\r\n\r\n  const cells = [];\r\n\r\n  var selectedCellRowIndex;\r\n\r\n  for (let index = 0; index < viewportColumns.length; index++) {\r\n    const column = { ...viewportColumns[index], rowIndex: rowIdx };\r\n    const { idx } = column;\r\n    const colSpan = getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"ROW\",\r\n      row,\r\n    });\r\n    if (colSpan !== undefined) {\r\n      index += colSpan - 1;\r\n    }\r\n    const isCellSelected = selectedCellIdx === idx;\r\n    if (isCellSelected) {\r\n      selectedCellRowIndex = rowIdx;\r\n    }\r\n    if (isCellSelected && selectedCellEditor) {\r\n      cells.push(selectedCellEditor);\r\n    } else {\r\n      cells.push(\r\n        <Cell\r\n          key={`${column.key}`}\r\n          column={column}\r\n          colSpan={colSpan}\r\n          api={api}\r\n          row={row}\r\n          handleReorderRow={handleReorderRow}\r\n          isRowSelected={isRowSelected}\r\n          allrow={rows}\r\n          rowIndex={rowIdx}\r\n          totalColumns={totalColumns}\r\n          node={node}\r\n          isCopied={copiedCellIdx === idx}\r\n          isDraggedOver={draggedOverCellIdx === idx}\r\n          isCellSelected={isCellSelected}\r\n          dragHandle={isCellSelected ? selectedCellDragHandle : undefined}\r\n          onRowClick={onRowClick}\r\n          onRowDoubleClick={onRowDoubleClick}\r\n          onRowChange={handleRowChange}\r\n          selectCell={selectCell}\r\n          onCellClick={onCellClick}\r\n          onCellDoubleClick={onCellDoubleClick}\r\n          onCellContextMenu={onCellContextMenu}\r\n          columnApi={columnApi}\r\n        />\r\n      );\r\n    }\r\n  }\r\n  var style = getRowStyle(gridRowStart, height);\r\n  if (rowIdx === selectedCellRowIndex) {\r\n    style = { ...style, ...selectedCellRowStyle };\r\n  }\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <RowSelectionProvider value={isRowSelected}>\r\n        <div\r\n          role=\"row\"\r\n          ref={ref}\r\n          id={row?.id ?? rowIdx}\r\n          className={className}\r\n          onMouseEnter={handleDragEnter}\r\n          style={style}\r\n          {...props}\r\n        >\r\n          {cells}\r\n        </div>\r\n      </RowSelectionProvider>\r\n    </DndProvider>\r\n  );\r\n}\r\n\r\nconst RowComponent = memo(forwardRef(Row));\r\n\r\nexport default RowComponent;\r\n\r\nexport function defaultRowRenderer(key, props) {\r\n  return <RowComponent key={key} {...props} />;\r\n}\r\n","import React from 'react';\r\nimport { memo } from \"react\"\r\n\r\nimport { getCellStyle, getCellClassname } from \"./utils\"\r\nimport { useRovingCellRef } from \"./hooks\"\r\n\r\nfunction GroupCell({\r\n  id,\r\n  groupKey,\r\n  childRows,\r\n  isExpanded,\r\n  isCellSelected,\r\n  column,\r\n  row,\r\n  groupColumnIndex,\r\n  toggleGroup: toggleGroupWrapper\r\n}) {\r\n  const { ref, tabIndex, onFocus } = useRovingCellRef(isCellSelected)\r\n\r\n  function toggleGroup() {\r\n    toggleGroupWrapper(id)\r\n  }\r\n\r\n  // Only make the cell clickable if the group level matches\r\n  const isLevelMatching = column.rowGroup && groupColumnIndex === column.idx\r\n\r\n  return (\r\n    // rome-ignore lint/a11y/useKeyWithClickEvents: <explanation>\r\n<div\r\n      role=\"gridcell\"\r\n      aria-colindex={column.idx + 1}\r\n      aria-selected={isCellSelected}\r\n      ref={ref}\r\n      tabIndex={tabIndex}\r\n      key={column.key}\r\n      className={getCellClassname(column)}\r\n      style={{\r\n        ...getCellStyle(column),\r\n        cursor: isLevelMatching ? \"pointer\" : \"default\"\r\n      }}\r\n      onClick={isLevelMatching ? toggleGroup : undefined}\r\n      onFocus={onFocus}\r\n    >\r\n      {(!column.rowGroup || groupColumnIndex === column.idx) &&\r\n        column.groupFormatter?.({\r\n          groupKey,\r\n          childRows,\r\n          column,\r\n          row,\r\n          isExpanded,\r\n          isCellSelected,\r\n          toggleGroup\r\n        })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(GroupCell)\r\n","import React from \"react\";\r\nimport { memo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport {\r\n  cell,\r\n  cellFrozenLast,\r\n  rowClassname,\r\n  rowSelectedClassname,\r\n} from \"./style\";\r\nimport { SELECT_COLUMN_KEY } from \"./Columns\";\r\nimport GroupCell from \"./GroupCell\";\r\nimport { RowSelectionProvider } from \"./hooks\";\r\nimport { getRowStyle } from \"./utils\";\r\n\r\nconst groupRow = css`\r\n  @layer rdg.GroupedRow {\r\n    &:not([aria-selected=\"true\"]) {\r\n      background-color: var(--rdg-header-background-color);\r\n    }\r\n\r\n    > .${cell}:not(:last-child):not(.${cellFrozenLast}) {\r\n      border-inline-end: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst groupRowClassname = `rdg-group-row ${groupRow}`;\r\n\r\nfunction GroupedRow({\r\n  id,\r\n  groupKey,\r\n  viewportColumns,\r\n  childRows,\r\n  rowIdx,\r\n  row,\r\n  gridRowStart,\r\n  height,\r\n  level,\r\n  isExpanded,\r\n  selectedCellIdx,\r\n  isRowSelected,\r\n  selectGroup,\r\n  toggleGroup,\r\n  ...props\r\n}) {\r\n  // Select is always the first column\r\n  const idx = viewportColumns[0].key === SELECT_COLUMN_KEY ? level + 1 : level;\r\n\r\n  function handleSelectGroup() {\r\n    selectGroup(rowIdx);\r\n  }\r\n\r\n  return (\r\n    <RowSelectionProvider value={isRowSelected}>\r\n      <div\r\n        role=\"row\"\r\n        aria-level={level}\r\n        aria-expanded={isExpanded}\r\n        className={clsx(\r\n          rowClassname,\r\n          groupRowClassname,\r\n          `rdg-row-groupRow-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`,\r\n          {\r\n            [rowSelectedClassname]: selectedCellIdx === -1,\r\n          }\r\n        )}\r\n        onClick={handleSelectGroup}\r\n        style={getRowStyle(gridRowStart, height)}\r\n        {...props}>\r\n        {viewportColumns.map((column) => (\r\n          <GroupCell\r\n            key={`${column.key}`}\r\n            id={id}\r\n            groupKey={groupKey}\r\n            childRows={childRows}\r\n            isExpanded={isExpanded}\r\n            isCellSelected={selectedCellIdx === column.idx}\r\n            column={column}\r\n            row={row}\r\n            groupColumnIndex={idx}\r\n            toggleGroup={toggleGroup}\r\n          />\r\n        ))}\r\n      </div>\r\n    </RowSelectionProvider>\r\n  );\r\n}\r\n\r\nexport default memo(GroupedRow);\r\n","import React from \"react\";\r\nimport { memo } from \"react\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport { getCellStyle, getCellClassname } from \"./utils\";\r\nimport { useRovingCellRef } from \"./hooks\";\r\n\r\nexport const summaryCellClassname = css`\r\n  @layer rdg.SummaryCell {\r\n    inset-block-start: var(--rdg-summary-row-top);\r\n    inset-block-end: var(--rdg-summary-row-bottom);\r\n  }\r\n`;\r\n\r\nfunction SummaryCell({ column, colSpan, row, isCellSelected, selectCell }) {\r\n  const { ref, tabIndex, onFocus } = useRovingCellRef(isCellSelected);\r\n  const { summaryCellClass } = column;\r\n  const className = getCellClassname(\r\n    column,\r\n    summaryCellClassname,\r\n    `rdg-summary-column-${column.idx % 2 === 0 ? \"even\" : \"odd\"}`,\r\n    typeof summaryCellClass === \"function\"\r\n      ? summaryCellClass(row)\r\n      : summaryCellClass\r\n  );\r\n\r\n  function onClick() {\r\n    selectCell(row, column);\r\n  }\r\n\r\n  return (\r\n    // rome-ignore lint/a11y/useKeyWithClickEvents: <explanation>\r\n    <div\r\n      role=\"gridcell\"\r\n      aria-colindex={column.idx + 1}\r\n      aria-colspan={colSpan}\r\n      aria-selected={isCellSelected}\r\n      ref={ref}\r\n      tabIndex={tabIndex}\r\n      className={className}\r\n      style={getCellStyle(column, colSpan)}\r\n      onClick={onClick}\r\n      onFocus={onFocus}>\r\n      {column.summaryFormatter?.({ column, row, isCellSelected })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(SummaryCell);\r\n","import React from \"react\";\r\nimport { memo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { css } from \"@linaria/core\";\r\n\r\nimport { cell, cellFrozen, rowClassname, rowSelectedClassname } from \"./style\";\r\nimport { getColSpan, getRowStyle } from \"./utils\";\r\nimport SummaryCell from \"./SummaryCell\";\r\n\r\nconst summaryRow = css`\r\n  @layer rdg.SummaryRow {\r\n    line-height: var(--rdg-sumary-row-height);\r\n\r\n    > .${cell} {\r\n      position: sticky;\r\n    }\r\n  }\r\n`;\r\n\r\nconst topSummaryRow = css`\r\n  @layer rdg.SummaryRow {\r\n    > .${cell} {\r\n      z-index: 1;\r\n    }\r\n\r\n    > .${cellFrozen} {\r\n      z-index: 2;\r\n    }\r\n  }\r\n`;\r\n\r\nconst topSummaryRowBorderClassname = css`\r\n  @layer rdg.SummaryRow {\r\n    > .${cell} {\r\n      border-block-end: 2px solid var(--rdg-summary-border-color);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst bottomSummaryRowBorderClassname = css`\r\n  @layer rdg.SummaryRow {\r\n    > .${cell} {\r\n      border-block-start: 2px solid var(--rdg-summary-border-color);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst summaryRowClassname = `rdg-summary-row ${summaryRow}`;\r\n\r\nconst topSummaryRowClassname = `rdg-top-summary-row ${topSummaryRow}`;\r\n\r\nfunction SummaryRow({\r\n  rowIdx,\r\n  gridRowStart,\r\n  row,\r\n  viewportColumns,\r\n  top,\r\n  bottom,\r\n  lastFrozenColumnIndex,\r\n  selectedCellIdx,\r\n  lastTopRowIdx,\r\n  selectCell,\r\n  \"aria-rowindex\": ariaRowIndex,\r\n}) {\r\n  const cells = [];\r\n  for (let index = 0; index < viewportColumns.length; index++) {\r\n    const column = viewportColumns[index];\r\n    const colSpan = getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"SUMMARY\",\r\n      row,\r\n    });\r\n    if (colSpan !== undefined) {\r\n      index += colSpan - 1;\r\n    }\r\n\r\n    const isCellSelected = selectedCellIdx === column.idx;\r\n\r\n    cells.push(\r\n      <SummaryCell\r\n        key={`${column.key}`}\r\n        column={column}\r\n        colSpan={colSpan}\r\n        row={row}\r\n        isCellSelected={isCellSelected}\r\n        selectCell={selectCell}\r\n      />\r\n    );\r\n  }\r\n\r\n  const isTop = lastTopRowIdx !== undefined;\r\n\r\n  return (\r\n    <div\r\n      role=\"row\"\r\n      aria-rowindex={ariaRowIndex}\r\n      className={clsx(\r\n        rowClassname,\r\n        `rdg-row-summary-row-${rowIdx % 2 === 0 ? \"even\" : \"odd\"}`,\r\n        summaryRowClassname,\r\n        {\r\n          [rowSelectedClassname]: selectedCellIdx === -1,\r\n          [topSummaryRowClassname]: isTop,\r\n          [topSummaryRowBorderClassname]: isTop && lastTopRowIdx === rowIdx,\r\n          [bottomSummaryRowBorderClassname]: !isTop && rowIdx === 0,\r\n          \"rdg-bottom-summary-row\": !isTop,\r\n        }\r\n      )}\r\n      style={{\r\n        ...getRowStyle(gridRowStart),\r\n        \"--rdg-summary-row-top\": top !== undefined ? `${top}px` : undefined,\r\n        \"--rdg-summary-row-bottom\":\r\n          bottom !== undefined ? `${bottom}px` : undefined,\r\n      }}>\r\n      {cells}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(SummaryRow);\r\n","import React from \"react\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { css } from \"@linaria/core\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { useLatestFunc } from \"./hooks\";\r\nimport { getCellStyle, getCellClassname, onEditorNavigation } from \"./utils\";\r\n\r\n/*\r\n * To check for outside `mousedown` events, we listen to all `mousedown` events at their birth,\r\n * i.e. on the window during the capture phase, and at their death, i.e. on the window during the bubble phase.\r\n *\r\n * We schedule a check at the birth of the event, cancel the check when the event reaches the \"inside\" container,\r\n * and trigger the \"outside\" callback when the event bubbles back up to the window.\r\n *\r\n * The event can be `stopPropagation()`ed halfway through, so they may not always bubble back up to the window,\r\n * so an alternative check must be used. The check must happen after the event can reach the \"inside\" container,\r\n * and not before it run to completion. `requestAnimationFrame` is the best way we know how to achieve this.\r\n * Usually we want click event handlers from parent components to access the latest commited values,\r\n * so `mousedown` is used instead of `click`.\r\n *\r\n * We must also rely on React's event capturing/bubbling to handle elements rendered in a portal.\r\n */\r\n\r\nconst cellEditing = css`\r\n  @layer rdg.EditCell {\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nexport default function EditCell({\r\n  column,\r\n  colSpan,\r\n  row,\r\n  allrow,\r\n  rowIndex,\r\n  onRowChange,\r\n  api,\r\n  node,\r\n  closeEditor,\r\n  handleReorderRow,\r\n}) {\r\n  const frameRequestRef = useRef();\r\n  const commitOnOutsideClick =\r\n    column.editorOptions?.commitOnOutsideClick !== false;\r\n\r\n  // We need to prevent the `useEffect` from cleaning up between re-renders,\r\n  // as `onWindowCaptureMouseDown` might otherwise miss valid mousedown events.\r\n  // To that end we instead access the latest props via useLatestFunc.\r\n  const commitOnOutsideMouseDown = useLatestFunc(() => {\r\n    onClose(true);\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!commitOnOutsideClick) return;\r\n\r\n    function onWindowCaptureMouseDown() {\r\n      frameRequestRef.current = requestAnimationFrame(commitOnOutsideMouseDown);\r\n    }\r\n\r\n    // eslint-disable-next-line no-restricted-globals\r\n    addEventListener(\"mousedown\", onWindowCaptureMouseDown, { capture: true });\r\n\r\n    return () => {\r\n      // eslint-disable-next-line no-restricted-globals\r\n      removeEventListener(\"mousedown\", onWindowCaptureMouseDown, {\r\n        capture: true,\r\n      });\r\n      cancelFrameRequest();\r\n    };\r\n  }, [commitOnOutsideClick, commitOnOutsideMouseDown]);\r\n\r\n  function cancelFrameRequest() {\r\n    cancelAnimationFrame(frameRequestRef.current);\r\n  }\r\n\r\n  function onKeyDown(event) {\r\n    if (event.key === \"Escape\") {\r\n      event.stopPropagation();\r\n      // Discard changes\r\n      onClose();\r\n    } else if (event.key === \"Enter\") {\r\n      event.stopPropagation();\r\n      onClose(true);\r\n    } else {\r\n      const onNavigation =\r\n        column.editorOptions?.onNavigation ?? onEditorNavigation;\r\n      if (!onNavigation(event)) {\r\n        event.stopPropagation();\r\n      }\r\n    }\r\n  }\r\n\r\n  function onClose(commitChanges) {\r\n    if (commitChanges) {\r\n      onRowChange(row, true);\r\n    } else {\r\n      closeEditor();\r\n    }\r\n  }\r\n\r\n  const { cellClass } = column;\r\n  const className = getCellClassname(\r\n    column,\r\n    \"rdg-editor-container\",\r\n    !column.editorOptions?.renderFormatter && cellEditing,\r\n    typeof cellClass === \"function\" ? cellClass(row) : cellClass\r\n  );\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"ROW_DRAG\",\r\n    item: { index: rowIndex },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  function onRowReorder(fromIndex, toIndex) {\r\n    console.log(\"fromIndex\", fromIndex, \"toIndex\", toIndex);\r\n    const newRows = [...allrow];\r\n    newRows.splice(toIndex, 0, newRows.splice(fromIndex, 1)[0]);\r\n    handleReorderRow(newRows);\r\n  }\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: \"ROW_DRAG\",\r\n    drop({ index }) {\r\n      onRowReorder(index, rowIndex);\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  });\r\n  return (\r\n    <div\r\n      role=\"gridcell\"\r\n      // aria-colindex is 1-based\r\n      aria-colindex={column.idx + 1}\r\n      aria-colspan={colSpan}\r\n      aria-selected\r\n      className={className}\r\n      style={getCellStyle(column, colSpan)}\r\n      onKeyDown={onKeyDown}\r\n      onMouseDownCapture={commitOnOutsideClick ? cancelFrameRequest : undefined}\r\n    >\r\n      {column.rowDrag && (\r\n        <div\r\n          ref={(ele) => {\r\n            drag(ele);\r\n            drop(ele);\r\n          }}\r\n        >\r\n          <span style={{ marginRight: \"10px\", cursor: \"grab\" }}>&#9674;</span>\r\n          {(column.cellEditor != null || column.editable === true) && (\r\n            <>\r\n              {column.cellEditor({\r\n                column,\r\n                colDef: column,\r\n                row,\r\n                data: row,\r\n                onRowChange,\r\n                value: row[column.key],\r\n                node,\r\n                valueFormatted: column.valueFormatter,\r\n                allrow,\r\n                rowIndex,\r\n                api,\r\n                onClose,\r\n              })}\r\n              {column.editorOptions?.renderFormatter &&\r\n                column.editable !== true &&\r\n                column.formatter({\r\n                  colDef: column,\r\n                  column,\r\n                  data: row,\r\n                  row,\r\n                  api,\r\n                  node,\r\n                  value: row[column.key],\r\n                  valueFormatted: column.valueFormatter,\r\n                  onRowChange,\r\n                  isCellSelected: true,\r\n                 \r\n                })}\r\n              {column.editable &&\r\n                column.formatter({\r\n                  colDef: column,\r\n                  column,\r\n                  data: row,\r\n                  row,\r\n                  api,\r\n                  node,\r\n                  value: row[column.key],\r\n                  valueFormatted: column.valueFormatter,\r\n                  onRowChange,\r\n                  isCellSelected: true,\r\n                })}\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n      {(column.cellEditor != null || column.editable === true) &&\r\n        !column.rowDrag && (\r\n          <>\r\n            {column.cellEditor({\r\n              column,\r\n              colDef: column,\r\n              row,\r\n              data: row,\r\n              onRowChange,\r\n              value: row[column.key],\r\n              node,\r\n              valueFormatted: column.valueFormatter,\r\n              allrow,\r\n              rowIndex,\r\n              api,\r\n              onClose,\r\n            })}\r\n            {column.editorOptions?.renderFormatter &&\r\n              column.editable !== true &&\r\n              column.formatter({\r\n                colDef: column,\r\n                column,\r\n                data: row,\r\n                row,\r\n                api,\r\n                node,\r\n                value: row[column.key],\r\n                valueFormatted: column.valueFormatter,\r\n                onRowChange,\r\n                isCellSelected: true,\r\n               \r\n              })}\r\n            {column.editable &&\r\n              column.formatter({\r\n                colDef: column,\r\n                column,\r\n                data: row,\r\n                row,\r\n                api,\r\n                node,\r\n                value: row[column.key],\r\n                valueFormatted: column.valueFormatter,\r\n                onRowChange,\r\n                isCellSelected: true,\r\n              })}\r\n          </>\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { css } from \"@linaria/core\"\r\n\r\nconst cellDragHandle = css`\r\n  @layer rdg.DragHandle {\r\n    cursor: move;\r\n    position: absolute;\r\n    inset-inline-end: 0;\r\n    inset-block-end: 0;\r\n    inline-size: 8px;\r\n    block-size: 8px;\r\n    background-color: var(--rdg-selection-color);\r\n\r\n    &:hover {\r\n      inline-size: 16px;\r\n      block-size: 16px;\r\n      border: 2px solid var(--rdg-selection-color);\r\n      background-color: var(--rdg-background-color);\r\n    }\r\n  }\r\n`\r\n\r\nconst cellDragHandleClassname = `rdg-cell-drag-handle ${cellDragHandle}`\r\n\r\nexport default function DragHandle({\r\n  rows,\r\n  columns,\r\n  selectedPosition,\r\n  latestDraggedOverRowIdx,\r\n  isCellEditable,\r\n  onRowsChange,\r\n  onFill,\r\n  setDragging,\r\n  setDraggedOverRowIdx\r\n}) {\r\n  function handleMouseDown(event) {\r\n    if (event.buttons !== 1) return\r\n    setDragging(true)\r\n    window.addEventListener(\"mouseover\", onMouseOver)\r\n    window.addEventListener(\"mouseup\", onMouseUp)\r\n\r\n    function onMouseOver(event) {\r\n      // Trigger onMouseup in edge cases where we release the mouse button but `mouseup` isn't triggered,\r\n      // for example when releasing the mouse button outside the iframe the grid is rendered in.\r\n      // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\r\n      if (event.buttons !== 1) onMouseUp()\r\n    }\r\n\r\n    function onMouseUp() {\r\n      window.removeEventListener(\"mouseover\", onMouseOver)\r\n      window.removeEventListener(\"mouseup\", onMouseUp)\r\n      setDragging(false)\r\n      handleDragEnd()\r\n    }\r\n  }\r\n\r\n  function handleDragEnd() {\r\n    const overRowIdx = latestDraggedOverRowIdx.current\r\n    if (overRowIdx === undefined) return\r\n\r\n    const { rowIdx } = selectedPosition\r\n    const startRowIndex = rowIdx < overRowIdx ? rowIdx + 1 : overRowIdx\r\n    const endRowIndex = rowIdx < overRowIdx ? overRowIdx + 1 : rowIdx\r\n    updateRows(startRowIndex, endRowIndex)\r\n    setDraggedOverRowIdx(undefined)\r\n  }\r\n\r\n  function handleDoubleClick(event) {\r\n    event.stopPropagation()\r\n    updateRows(selectedPosition.rowIdx + 1, rows.length)\r\n  }\r\n\r\n  function updateRows(startRowIdx, endRowIdx) {\r\n    const { idx, rowIdx } = selectedPosition\r\n    const column = columns[idx]\r\n    const sourceRow = rows[rowIdx]\r\n    const updatedRows = [...rows]\r\n    const indexes = []\r\n    for (let i = startRowIdx; i < endRowIdx; i++) {\r\n      if (isCellEditable({ rowIdx: i, idx })) {\r\n        const updatedRow = onFill({\r\n          columnKey: column.key,\r\n          sourceRow,\r\n          targetRow: rows[i]\r\n        })\r\n        if (updatedRow !== rows[i]) {\r\n          updatedRows[i] = updatedRow\r\n          indexes.push(i)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (indexes.length > 0) {\r\n      onRowsChange?.(updatedRows, { indexes, column })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cellDragHandleClassname}\r\n      onMouseDown={handleMouseDown}\r\n      onDoubleClick={handleDoubleClick}\r\n    />\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { css } from \"@linaria/core\"\r\n\r\nconst arrow = css`\r\n  @layer rdg.SortIcon {\r\n    fill: currentColor;\r\n\r\n    > path {\r\n      transition: d 0.1s;\r\n    }\r\n  }\r\n`\r\n\r\nconst arrowClassname = `rdg-sort-arrow ${arrow}`\r\n\r\nexport default function sortStatus({ sortDirection, priority }) {\r\n  return (\r\n    <>\r\n      {sortIcon({ sortDirection })}\r\n      {sortPriority({ priority })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport function sortIcon({ sortDirection }) {\r\n  if (sortDirection === undefined) return null\r\n\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 12 8\"\r\n      width=\"12\"\r\n      height=\"8\"\r\n      className={arrowClassname}\r\n      aria-hidden\r\n    >\r\n      <path d={sortDirection === \"ASC\" ? \"M0 8 6 0 12 8\" : \"M0 0 6 8 12 0\"} />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport function sortPriority({ priority }) {\r\n  return priority\r\n}\r\n","// import React from \"react\";\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\n\r\nexport function CSVContent(fileData, columns) {\r\n  const field = columns?.map((ele) => ele.field);\r\n  const header = columns?.map((ele) => ele.headerName);\r\n  const data = fileData.map((f) => {\r\n    let sample = [];\r\n    field.map((d) => {\r\n      if (d !== undefined) {\r\n        sample.push(f[d]);\r\n      } else {\r\n        sample.push(\"\");\r\n      }\r\n    });\r\n    if (sample.length > 0) {\r\n      return sample;\r\n    }\r\n  });\r\n  const content = [header, ...data]\r\n    .map((cells) => cells.map(serialiseCellValue).join(\",\"))\r\n    .join(\"\\n\");\r\n  return content;\r\n}\r\nexport async function exportToCsv(fileData, columns, fileName) {\r\n  downloadFile(\r\n    fileName,\r\n    new Blob([CSVContent(fileData, columns)], {\r\n      type: \"text/csv;charset=utf-8;\",\r\n    })\r\n  );\r\n}\r\n\r\nexport async function exportToPdf(fileData, columns, fileName) {\r\n  var field = [];\r\n  columns?.map((ele) => {\r\n    if (ele.field) {\r\n      field.push({ dataKey: ele.field, header: ele.headerName });\r\n    }\r\n  });\r\n\r\n  var doc = new jsPDF(\"p\", \"pt\", \"letter\");\r\n  autoTable(doc, { html: \"#my-table\" });\r\n  autoTable(doc, {\r\n    margin: { top: 10 },\r\n    styles: { cellWidth: \"wrap\", overflow: \"visible\", halign: \"center\" },\r\n    headStyles: {\r\n      fillColor: \"#16365D\",\r\n      textColor: \"white\",\r\n      halign: \"center\",\r\n      lineColor: \"White\",\r\n      lineWidth: 1,\r\n    },\r\n    body: fileData,\r\n    theme: \"striped\",\r\n    columns: field,\r\n  });\r\n\r\n  doc.save(fileName);\r\n}\r\n\r\nexport function exportToXlsx(fileData, columns, fileName) {\r\n  const fileType =\r\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n  const fileExtension = \".xlsx\";\r\n\r\n  const ws = XLSX.utils.json_to_sheet(fileData);\r\n  const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n  const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\r\n  const data = new Blob([excelBuffer], { type: fileType });\r\n  FileSaver.saveAs(data, fileName + fileExtension);\r\n}\r\n\r\nfunction serialiseCellValue(value) {\r\n  if (typeof value === \"string\") {\r\n    const formattedValue = value.replace(/\"/g, '\"\"');\r\n    return formattedValue.includes(\",\")\r\n      ? `\"${formattedValue}\"`\r\n      : formattedValue;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction downloadFile(fileName, data) {\r\n  const downloadLink = document.createElement(\"a\");\r\n  downloadLink.download = fileName;\r\n  const url = URL.createObjectURL(data);\r\n  downloadLink.href = url;\r\n  downloadLink.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n","import React, { useState } from 'react'\r\nimport { css } from \"@linaria/core\"\r\nimport { exportToCsv, exportToPdf, exportToXlsx } from './exportUtils'\r\n\r\nconst toolbarClassname = css`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 8px;\r\n  margin-block-end: 8px;\r\n`\r\nconst ExportData = (props) => {\r\n  return (\r\n    <>\r\n    <div className={toolbarClassname}>\r\n        <ExportButton\r\n          onExport={() => exportToCsv(props.gridElement, \"CommonFeatures.csv\")}\r\n        >\r\n          Export to CSV\r\n        </ExportButton>\r\n        <ExportButton\r\n          onExport={() => exportToXlsx(props.gridElement, \"CommonFeatures.xlsx\")}\r\n        >\r\n          Export to XSLX\r\n        </ExportButton>\r\n        <ExportButton\r\n          onExport={() => exportToPdf(props.gridElement, \"CommonFeatures.pdf\")}\r\n        >\r\n          Export to PDF\r\n        </ExportButton>\r\n      </div>\r\n      {props.gridElement}\r\n    </>\r\n  )\r\n}\r\nexport function ExportButton({ onExport, children }) {\r\n    const [exporting, setExporting] = useState(false)\r\n    return (\r\n      <button\r\n        disabled={exporting}\r\n        onClick={async () => {\r\n          setExporting(true)\r\n          await onExport()\r\n          setExporting(false)\r\n        }}\r\n      >\r\n        {exporting ? \"Exporting\" : children}\r\n      </button>\r\n    )\r\n  }\r\n  \r\nexport default ExportData;","import React, {\r\n  forwardRef,\r\n  useState,\r\n  useRef,\r\n  useImperativeHandle,\r\n  useCallback,\r\n  useMemo,\r\n  useEffect,\r\n} from \"react\";\r\nimport { flushSync } from \"react-dom\";\r\nimport clsx from \"clsx\";\r\nimport { groupBy as rowGrouper, isString, _ } from \"lodash\";\r\nimport { createPortal } from \"react-dom\";\r\nimport {\r\n  ContextMenu,\r\n  MenuItem,\r\n  SubMenu,\r\n  ContextMenuTrigger,\r\n} from \"react-contextmenu\";\r\nimport { css } from \"@linaria/core\";\r\nimport {\r\n  rootClassname,\r\n  viewportDraggingClassname,\r\n  focusSinkClassname,\r\n  rowSelected,\r\n  rowSelectedWithFrozenCell,\r\n  filterContainerClassname,\r\n} from \"./style\";\r\nimport {\r\n  useLayoutEffect,\r\n  useGridDimensions,\r\n  useCalculatedColumns,\r\n  useViewportColumns,\r\n  useViewportRows,\r\n  useLatestFunc,\r\n  RowSelectionChangeProvider,\r\n} from \"./hooks\";\r\nimport HeaderRow from \"./HeaderRow\";\r\nimport RowComponent, { defaultRowRenderer } from \"./Row\";\r\nimport GroupRowRenderer from \"./GroupRow\";\r\nimport SummaryRow from \"./SummaryRow\";\r\nimport EditCell from \"./EditCell\";\r\nimport DragHandle from \"./DragHandle\";\r\nimport { default as defaultSortStatus } from \"./sortStatus\";\r\nimport { checkboxFormatter as defaultCheckboxFormatter } from \"./formatters\";\r\nimport {\r\n  DataGridDefaultComponentsProvider,\r\n  useDefaultComponents,\r\n} from \"./DataGridDefaultComponentsProvider\";\r\nimport {\r\n  assertIsValidKeyGetter,\r\n  getNextSelectedCellPosition,\r\n  isSelectedCellEditable,\r\n  canExitGrid,\r\n  isCtrlKeyHeldDown,\r\n  isDefaultCellInput,\r\n  getColSpan,\r\n  sign,\r\n  abs,\r\n  getSelectedCellColSpan,\r\n  renderMeasuringCells,\r\n  scrollIntoView,\r\n} from \"./utils\";\r\nimport FilterContext from \"./filterContext\";\r\nimport { SelectColumn, SerialNumberColumn } from \"./Columns\";\r\nimport { exportToCsv, exportToPdf, exportToXlsx } from \"./exportUtils\";\r\nimport { ExportButton } from \"./ExportData\";\r\nimport Pagination from \"rc-pagination\";\r\nimport \"./pagination.css\";\r\n\r\nconst initialPosition = {\r\n  idx: -1,\r\n  rowIdx: -2,\r\n  mode: \"SELECT\",\r\n};\r\n\r\n/**\r\n * Main API Component to render a data grid of rows and columns\r\n *\r\n * @example\r\n *\r\n * <DataGrid columns={columns} rows={rows} />\r\n */\r\nfunction DataGrid(props, ref) {\r\n  let {\r\n    // Grid and data Props\r\n    columnData: raawColumns,\r\n    rowData: raawRows,\r\n    topSummaryRows,\r\n    bottomSummaryRows,\r\n    rowKeyGetter,\r\n    onRowsChange,\r\n    // Dimensions props\r\n    rowHeight: rawRowHeight,\r\n    headerRowHeight: rawHeaderRowHeight,\r\n    summaryRowHeight: rawSummaryRowHeight,\r\n    // Feature props\r\n    selectedRows,\r\n    onSelectedRowsChange,\r\n    defaultColumnOptions,\r\n    groupBy: raawGroupBy,\r\n    expandedGroupIds,\r\n    onExpandedGroupIdsChange,\r\n    // Event props\r\n    onRowClicked: onRowClick,\r\n    onRowDoubleClicked: onRowDoubleClick,\r\n    selectedCellHeaderStyle,\r\n    onScroll,\r\n    onColumnResize,\r\n    onFill,\r\n    serialNumber,\r\n    onCopy,\r\n    onPaste,\r\n    selectedCellRowStyle,\r\n    onCellClicked: onCellClick,\r\n    onCellDoubleClicked: onCellDoubleClick,\r\n    onCellContextMenu,\r\n    // Toggles and modes\r\n    cellNavigationMode: rawCellNavigationMode,\r\n    enableVirtualization: rawEnableVirtualization,\r\n    // Miscellaneous\r\n    renderers,\r\n    className,\r\n    showSelectedRows,\r\n    style,\r\n    rowClass,\r\n    direction: rawDirection,\r\n    getContextMenuItems,\r\n    // ARIA\r\n    \"aria-label\": ariaLabel,\r\n    \"aria-labelledby\": ariaLabelledBy,\r\n    \"aria-describedby\": ariaDescribedBy,\r\n    \"data-testid\": testId,\r\n    columnReordering,\r\n    pagination: tablePagination,\r\n    paginationPageSize,\r\n    suppressPaginationPanel,\r\n    paginationAutoPageSize,\r\n    defaultPage,\r\n    frameworkComponents,\r\n    onGridReady,\r\n    ...rest\r\n  } = props;\r\n\r\n  /**\r\n   * defaults\r\n   */\r\n\r\n  const [selectedRows1, onSelectedRowsChange1] = useState();\r\n  selectedRows = selectedRows ? selectedRows : [];\r\n  const selection = rest.selection && SelectColumn;\r\n  raawColumns = rest.selection ? [selection, ...raawColumns] : raawColumns;\r\n\r\n  // const enableColumnSort = raawColumns\r\n  //   ?.map((i) => i.sortable === true)\r\n  //   .includes(true);\r\n\r\n  const enableFilter = raawColumns\r\n    ?.map((i) => i?.filter === true)\r\n    .includes(true);\r\n  const contextMenuItems =\r\n    getContextMenuItems !== undefined ? getContextMenuItems() : [];\r\n  function contextMenuRowRenderer(key, props) {\r\n    return (\r\n      <ContextMenuTrigger\r\n        key={key}\r\n        id=\"grid-context-menu\"\r\n        collect={() => ({ rowIdx: props.rowIdx })}\r\n      >\r\n        <RowComponent {...props} />\r\n      </ContextMenuTrigger>\r\n    );\r\n  }\r\n\r\n  const [headerHeightFromRef, setHeaderHeightFromRef] = useState();\r\n  const defaultComponents = useDefaultComponents();\r\n  const rowHeight = rawRowHeight ?? 24;\r\n  const headerWithFilter = enableFilter ? 70 : undefined;\r\n  const headerRowHeight =\r\n    headerHeightFromRef ??\r\n    rawHeaderRowHeight ??\r\n    headerWithFilter ??\r\n    (typeof rowHeight === \"number\" ? rowHeight : 24);\r\n  const summaryRowHeight =\r\n    rawSummaryRowHeight ?? (typeof rowHeight === \"number\" ? rowHeight : 24);\r\n  const rowRenderer =\r\n    contextMenuItems.length > 0\r\n      ? contextMenuRowRenderer\r\n      : renderers?.rowRenderer ??\r\n        defaultComponents?.rowRenderer ??\r\n        defaultRowRenderer;\r\n  const sortStatus =\r\n    renderers?.sortStatus ?? defaultComponents?.sortStatus ?? defaultSortStatus;\r\n  const checkboxFormatter =\r\n    renderers?.checkboxFormatter ??\r\n    defaultComponents?.checkboxFormatter ??\r\n    defaultCheckboxFormatter;\r\n  const noRowsFallback =\r\n    renderers?.noRowsFallback ?? defaultComponents?.noRowsFallback;\r\n  const cellNavigationMode = rawCellNavigationMode ?? \"NONE\";\r\n  const enableVirtualization = rawEnableVirtualization ?? true;\r\n  const direction = rawDirection ?? \"ltr\";\r\n\r\n  /**\r\n   * states\r\n   */\r\n  const [afterFilter, setAfterFilter] = useState([]);\r\n\r\n  const [defaultColumnDef, setDefaultColumnDef] =\r\n    useState(defaultColumnOptions);\r\n  const [rawGroupBy, setRawGroupBy] = useState(raawGroupBy);\r\n  const [expandAll, setExpandAll] = useState(null);\r\n  useEffect(() => {\r\n    setExpandAll(null);\r\n  }, [raawGroupBy, expandedGroupIds]);\r\n  useEffect(() => {\r\n    setRawGroupBy(raawGroupBy);\r\n  }, [raawGroupBy]);\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n  const [scrollLeft, setScrollLeft] = useState(0);\r\n  const [columnWidths, setColumnWidths] = useState(() => new Map());\r\n  const [selectedPosition, setSelectedPosition] = useState(initialPosition);\r\n  const [copiedCell, setCopiedCell] = useState(null);\r\n  const [isDragging, setDragging] = useState(false);\r\n  const [draggedOverRowIdx, setOverRowIdx] = useState(undefined);\r\n  const [sortColumns, setSortColumns] = useState([]);\r\n  const [rawRows, setRawRows] = useState(raawRows);\r\n  const [rawColumns, setRawColumns] = useState(\r\n    serialNumber ? [SerialNumberColumn, ...raawColumns] : raawColumns\r\n  );\r\n\r\n  const [pagination, setPagination] = useState(tablePagination);\r\n  const [suppressPagination, setSuppressPagination] = useState(\r\n    suppressPaginationPanel ?? false\r\n  );\r\n  const [size, setSize] = useState(paginationPageSize ?? 20);\r\n  const [current, setCurrent] = useState(defaultPage ?? 1);\r\n\r\n  const PaginationChange = (page, pageSize) => {\r\n    setCurrent(page);\r\n    setSize(pageSize);\r\n  };\r\n  const PrevNextArrow = (current, type, originalElement) => {\r\n    if (type === \"prev\") {\r\n      return (\r\n        <button title=\"Previous\">\r\n          <i className=\"fa fa-angle-double-left\" />\r\n        </button>\r\n      );\r\n    }\r\n    if (type === \"next\") {\r\n      return (\r\n        <button title=\"Next\">\r\n          <i className=\"fa fa-angle-double-right\" />\r\n        </button>\r\n      );\r\n    }\r\n    return originalElement;\r\n  };\r\n  const PerPageChange = (value) => {\r\n    setSize(value);\r\n    const newPerPage = Math.ceil(rawRows.length / value);\r\n    if (current > newPerPage) {\r\n      setCurrent(newPerPage);\r\n    }\r\n  };\r\n  const onSortColumnsChange = (sortColumns) => {\r\n    setSortColumns(sortColumns.slice(-1));\r\n  };\r\n  var defaultFilters = {};\r\n  raawColumns.forEach((rawCol) => {\r\n    if (rawCol.filter) defaultFilters[rawCol.field] = \"\";\r\n  });\r\n\r\n  const [filters, setFilters] = useState({ ...defaultFilters, enabled: true });\r\n\r\n  let filterFunction = useCallback(\r\n    (props) => {\r\n      return raawRows?.filter(function (val) {\r\n        for (var i = 0; i < props.length; i++)\r\n          if (!val[props[i][0]].includes(props[i][1])) return false;\r\n        return true;\r\n      });\r\n    },\r\n    [raawRows]\r\n  );\r\n\r\n  const sortedRows = useMemo(() => {\r\n    const asArray = Object.entries(filters);\r\n    const keys = asArray.filter(([key, value]) => value.length > 0);\r\n    const filteredRows = filterFunction(keys);\r\n    if (sortColumns.length === 0) return filteredRows;\r\n    const { columnKey, direction } = sortColumns[0];\r\n    let sortedRows = filteredRows;\r\n    sortedRows = sortedRows.sort((a, b) =>\r\n      typeof a[columnKey] === \"number\"\r\n        ? a[columnKey] - b[columnKey]\r\n        : a[columnKey].localeCompare(b[columnKey])\r\n    );\r\n    return direction === \"DESC\" ? sortedRows.reverse() : sortedRows;\r\n  }, [sortColumns, filters, filterFunction]);\r\n\r\n  useEffect(() => {\r\n    return setRawRows(sortedRows);\r\n  }, [sortedRows]);\r\n\r\n  const handleReorderColumn = (value) => {\r\n    if (columnReordering) {\r\n      setRawColumns(value);\r\n    }\r\n  };\r\n\r\n  const handleReorderRow = (value) => setRawRows(value);\r\n\r\n  //Adding a serial number column if serialNumber prop is passed\r\n  raawColumns = serialNumber\r\n    ? [SerialNumberColumn, ...raawColumns]\r\n    : raawColumns;\r\n  /**\r\n   * refs\r\n   */\r\n  const prevSelectedPosition = useRef(selectedPosition);\r\n  const latestDraggedOverRowIdx = useRef(draggedOverRowIdx);\r\n  const lastSelectedRowIdx = useRef(-1);\r\n  const rowRef = useRef(null);\r\n\r\n  /**\r\n   * computed values\r\n   */\r\n  const [gridRef, gridWidth, gridHeight, isWidthInitialized] =\r\n    useGridDimensions();\r\n  const headerRowsCount = 1;\r\n  const topSummaryRowsCount = topSummaryRows?.length ?? 0;\r\n  const bottomSummaryRowsCount = bottomSummaryRows?.length ?? 0;\r\n  const summaryRowsCount = topSummaryRowsCount + bottomSummaryRowsCount;\r\n  const clientHeight =\r\n    gridHeight - headerRowHeight - summaryRowsCount * summaryRowHeight;\r\n  const isSelectable = selectedRows != null && onSelectedRowsChange != null;\r\n  const isRtl = direction === \"rtl\";\r\n  const leftKey = isRtl ? \"ArrowRight\" : \"ArrowLeft\";\r\n  const rightKey = isRtl ? \"ArrowLeft\" : \"ArrowRight\";\r\n\r\n  const defaultGridComponents = useMemo(\r\n    () => ({\r\n      sortStatus,\r\n      checkboxFormatter,\r\n    }),\r\n    [sortStatus, checkboxFormatter]\r\n  );\r\n\r\n  const allRowsSelected = useMemo(() => {\r\n    // no rows to select = explicitely unchecked\r\n    const { length } = rawRows;\r\n    return (\r\n      length !== 0 &&\r\n      selectedRows1 != null &&\r\n      rowKeyGetter != null &&\r\n      selectedRows1.size >= length &&\r\n      rawRows.every((row) => selectedRows1.has(rowKeyGetter(row)))\r\n    );\r\n  }, [rawRows, selectedRows1, rowKeyGetter]);\r\n  let {\r\n    columns,\r\n    colSpanColumns,\r\n    colOverscanStartIdx,\r\n    colOverscanEndIdx,\r\n    templateColumns,\r\n    layoutCssVars,\r\n    columnMetrics,\r\n    lastFrozenColumnIndex,\r\n    totalFrozenColumnWidth,\r\n    groupBy,\r\n  } = useCalculatedColumns({\r\n    rawColumns,\r\n    columnWidths,\r\n    scrollLeft,\r\n    viewportWidth: gridWidth,\r\n    defaultColumnDef,\r\n    rawGroupBy: rowGrouper ? rawGroupBy : undefined,\r\n    enableVirtualization,\r\n    frameworkComponents,\r\n  });\r\n\r\n  const {\r\n    rowOverscanStartIdx,\r\n    rowOverscanEndIdx,\r\n    rows,\r\n    rowsCount,\r\n    totalRowHeight,\r\n    gridTemplateRows,\r\n    isGroupRow,\r\n    getRowTop,\r\n    getRowHeight,\r\n    findRowIdx,\r\n  } = useViewportRows({\r\n    rawRows,\r\n    groupBy,\r\n    rowGrouper,\r\n    expandAll,\r\n    rowHeight,\r\n    clientHeight,\r\n    scrollTop,\r\n    expandedGroupIds,\r\n    enableVirtualization,\r\n    paginationPageSize: size,\r\n    current,\r\n    pagination,\r\n  });\r\n\r\n  const { viewportColumns, flexWidthViewportColumns } = useViewportColumns({\r\n    columns,\r\n    colSpanColumns,\r\n    colOverscanStartIdx,\r\n    colOverscanEndIdx,\r\n    lastFrozenColumnIndex,\r\n    rowOverscanStartIdx,\r\n    rowOverscanEndIdx,\r\n    rows,\r\n    topSummaryRows,\r\n    bottomSummaryRows,\r\n    columnWidths,\r\n    isGroupRow,\r\n  });\r\n\r\n  //column Api\r\n  function getColumnWidths() {\r\n    let keys = Array.from(columnMetrics.keys());\r\n    let columnKeys = [];\r\n    keys.map((key) => columnKeys.push(key.key));\r\n    let values = Array.from(columnMetrics.values());\r\n    let columnWidthValues = [];\r\n    values.map((value) => columnWidthValues.push(value.width));\r\n    let columnWidth = new Map(columnWidths);\r\n    for (let i = 0; i < columnWidthValues.length; i++) {\r\n      columnWidth.set(columnKeys[i], columnWidthValues[i]);\r\n    }\r\n    return columnWidth;\r\n  }\r\n  function getColumns() {\r\n    let columnObjects = [];\r\n    columns.forEach((column) => {\r\n      const index = raawColumns.findIndex((c) => c.field === column.field);\r\n      const userColDef = raawColumns[index];\r\n      const indexOfRowGroup = rawGroupBy?.findIndex(\r\n        (key) => key === `${column.key}`\r\n      );\r\n      const indexOfSort = sortColumns.findIndex(\r\n        (sortCol) => sortCol.columnKey === `${column.key}`\r\n      );\r\n      const sort = indexOfSort > -1 ? sortColumns[indexOfSort].direction : null;\r\n      const columnState = {\r\n        colId: column.field ?? `${column.key}` ?? `col_${column.idx}`,\r\n        columnIndex: column.idx,\r\n        width: templateColumns[column.idx],\r\n        frozen: column.frozen ?? undefined,\r\n        rowGroup: column.rowGroup ?? undefined,\r\n        rowGroupIndex: indexOfRowGroup > -1 ? indexOfRowGroup : null,\r\n        sort: sort,\r\n        userProvidedColDef: userColDef,\r\n      };\r\n      columnObjects.push(columnState);\r\n      column.children?.forEach((colChild) => {\r\n        const columnState = {\r\n          colId: colChild.field ?? colChild.key ?? `col_${column.idx}`,\r\n          columnIndex: column.idx,\r\n          width: colChild.width,\r\n          frozen: colChild.frozen ?? undefined,\r\n          rowGroup: colChild.rowGroup ?? undefined,\r\n          userProvidedColDef: userColDef,\r\n        };\r\n        columnObjects.push(columnState);\r\n      });\r\n    });\r\n    return columnObjects;\r\n  }\r\n  function moveColumn(colKey, toIndex) {\r\n    const key = typeof colKey === \"string\" ? colKey : colKey.colId;\r\n    const sourceColumnIndex = columns.findIndex((c) => c.field === key);\r\n    const targetColumnIndex =\r\n      toIndex < columns.length ? toIndex : sourceColumnIndex;\r\n    const reorderedColumns = [...columns];\r\n    reorderedColumns.splice(\r\n      targetColumnIndex,\r\n      0,\r\n      reorderedColumns.splice(sourceColumnIndex, 1)[0]\r\n    );\r\n    setRawColumns(reorderedColumns);\r\n  }\r\n  function moveColumns(columnsToMove, toIndex) {\r\n    let sourceColumns = [];\r\n    const reorderedColumns = [...columns];\r\n    columns.map((c) =>\r\n      columnsToMove.forEach((col) => {\r\n        const key = typeof col === \"string\" ? col : col.colId;\r\n        if (key === c.field) sourceColumns.push(c);\r\n      })\r\n    );\r\n    let valueAtPosition = columns[toIndex];\r\n    sourceColumns.forEach((v) =>\r\n      reorderedColumns.splice(reorderedColumns.indexOf(v), 1)\r\n    );\r\n    reorderedColumns.splice(\r\n      reorderedColumns.indexOf(valueAtPosition) + 1,\r\n      0,\r\n      ...sourceColumns\r\n    );\r\n    setRawColumns(reorderedColumns);\r\n  }\r\n  function moveColumnByIndex(fromIndex, toIndex) {\r\n    const sourceColumnIndex = fromIndex;\r\n    const targetColumnIndex =\r\n      toIndex < columns.length ? toIndex : sourceColumnIndex;\r\n    const reorderedColumns = [...columns];\r\n    reorderedColumns.splice(\r\n      targetColumnIndex,\r\n      0,\r\n      reorderedColumns.splice(sourceColumnIndex, 1)[0]\r\n    );\r\n    setRawColumns(reorderedColumns);\r\n  }\r\n  function getDisplayNameForColumn(column, location) {\r\n    let displayNameForCol;\r\n    columns.forEach((col) => {\r\n      if (column.colId === col.key && location === col.idx)\r\n        displayNameForCol = col.headerName;\r\n    });\r\n    return displayNameForCol;\r\n  }\r\n  function getDisplayedColAfter(column) {\r\n    let columnObjects = getColumns();\r\n    let displayedColAfterKey;\r\n    for (let index = 0; index < columns.length; index++) {\r\n      let col = columns[index];\r\n      let nextCol = columns[index + 1];\r\n      if (column.colId === col.key)\r\n        displayedColAfterKey = nextCol.parentColumn\r\n          ? nextCol.parentColumn.key || nextCol.parentColumn.field\r\n          : nextCol.key;\r\n    }\r\n    let displayedColAfter;\r\n    columnObjects.forEach((colObj) => {\r\n      if (colObj.colId === displayedColAfterKey) displayedColAfter = colObj;\r\n    });\r\n    return displayedColAfter;\r\n  }\r\n  function getDisplayedColBefore(column) {\r\n    let columnObjects = getColumns();\r\n    let displayedColBeforeKey;\r\n    for (let index = 0; index < columns.length; index++) {\r\n      let col = columns[index];\r\n      let prevCol = columns[index - 1];\r\n      if (column.colId === col.key)\r\n        displayedColBeforeKey = prevCol.parentColumn\r\n          ? prevCol.parentColumn.key || prevCol.parentColumn.field\r\n          : prevCol.key;\r\n    }\r\n    let displayedColBefore;\r\n    columnObjects.forEach((colObj) => {\r\n      if (colObj.colId === displayedColBeforeKey) displayedColBefore = colObj;\r\n    });\r\n    return displayedColBefore;\r\n  }\r\n  function getRowGroupColumns() {\r\n    let columnObjects = getColumns();\r\n    let rowGroupColumns = [];\r\n    columnObjects.forEach((colObject) => {\r\n      if (rawGroupBy?.includes(colObject.colId))\r\n        rowGroupColumns.push(colObject);\r\n    });\r\n    return rowGroupColumns;\r\n  }\r\n  function setRowGroupColumns(colKeys) {\r\n    rawGroupBy.length = 0;\r\n    colKeys.forEach((colKey) => {\r\n      typeof colKey === \"string\"\r\n        ? rawGroupBy.push(colKey)\r\n        : rawGroupBy.push(colKey.colId);\r\n    });\r\n    setRawColumns(raawColumns);\r\n  }\r\n  function addRowGroupColumn(colKey) {\r\n    typeof colKey === \"string\"\r\n      ? rawGroupBy.push(colKey)\r\n      : rawGroupBy.push(colKey.colId);\r\n    setRawColumns(raawColumns);\r\n  }\r\n  function addRowGroupColumns(colKeys) {\r\n    colKeys.forEach((colKey) => {\r\n      typeof colKey === \"string\"\r\n        ? rawGroupBy.push(colKey)\r\n        : rawGroupBy.push(colKey.colId);\r\n    });\r\n    setRawColumns(raawColumns);\r\n  }\r\n  function removeRowGroupColumn(colKey) {\r\n    const key = typeof colKey === \"string\" ? colKey : colKey.colId;\r\n    const indexOfKey = rawGroupBy?.findIndex((c) => c === key);\r\n    if (indexOfKey > -1) rawGroupBy?.splice(indexOfKey, 1);\r\n    setRawColumns(raawColumns);\r\n  }\r\n  function removeRowGroupColumns(colKeys) {\r\n    colKeys.forEach((colKey) => {\r\n      const key = typeof colKey === \"string\" ? colKey : colKey.colId;\r\n      const indexOfKey = rawGroupBy?.findIndex((c) => c === key);\r\n      if (indexOfKey > -1) rawGroupBy?.splice(indexOfKey, 1);\r\n    });\r\n    setRawColumns(raawColumns);\r\n  }\r\n  function moveRowGroupColumn(fromIndex, toIndex) {\r\n    if (fromIndex > -1 && toIndex < rawGroupBy?.length) {\r\n      var element = rawGroupBy[fromIndex];\r\n      rawGroupBy.splice(fromIndex, 1);\r\n      rawGroupBy.splice(toIndex, 0, element);\r\n      setRawColumns(columns);\r\n    }\r\n  }\r\n  function setColumnWidth(key, newWidth) {\r\n    const colKey = typeof key === \"string\" ? key : key.colId;\r\n    const newColumnWidths = new Map(columnWidths);\r\n    newColumnWidths.set(colKey, newWidth);\r\n    setColumnWidths(newColumnWidths);\r\n  }\r\n  function setColumnsWidth(newColumnWidths) {\r\n    const newColWidths = new Map(columnWidths);\r\n    newColumnWidths.forEach((col) => {\r\n      const colKey = typeof col.key === \"string\" ? col.key : col.key.colId;\r\n      const colWidth = col.newWidth;\r\n      newColWidths.set(colKey, colWidth);\r\n    });\r\n    setColumnWidths(newColWidths);\r\n  }\r\n  function autoSizeColumn(key) {\r\n    const colKey = typeof key === \"string\" ? key : key.colId;\r\n    const columnIndex = columns.findIndex((col) => col.key === colKey);\r\n    const column = columns[columnIndex];\r\n    handleColumnResize(column, \"max-content\");\r\n  }\r\n  function autoSizeColumns(colKeys) {\r\n    let columnObjects = getColumns();\r\n    const { style } = gridRef.current;\r\n    const newTemplateColumns = [...templateColumns];\r\n    const newColumnWidths = new Map(columnWidths);\r\n    colKeys.forEach((colKey) => {\r\n      const key = typeof colKey === \"string\" ? colKey : colKey.colId;\r\n      const index = columnObjects.findIndex((c) => c.colId === key);\r\n      newTemplateColumns[index] = \"max-content\";\r\n      style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n      const measuringCell = gridRef.current.querySelector(\r\n        `[data-measuring-cell-key=\"${columns[index].key}\"]`\r\n      );\r\n      const measuredWidth = measuringCell.getBoundingClientRect().width;\r\n      const measuredWidthPx = `${measuredWidth}px`;\r\n      if (newTemplateColumns[columns[index].idx] !== measuredWidthPx) {\r\n        newTemplateColumns[columns[index].idx] = measuredWidthPx;\r\n        style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n      }\r\n      if (columnWidths.get(columns[index].key) === measuredWidth) return;\r\n      newColumnWidths.set(columns[index].key, measuredWidth);\r\n    });\r\n    setColumnWidths(newColumnWidths);\r\n    templateColumns = [...newTemplateColumns];\r\n  }\r\n  function autoSizeAllColumns() {\r\n    const { style } = gridRef.current;\r\n    const newTemplateColumns = [...templateColumns];\r\n    const newColumnWidths = new Map(columnWidths);\r\n    for (let index = 0; index < newTemplateColumns.length; index++) {\r\n      newTemplateColumns[index] = \"max-content\";\r\n      style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n      const measuringCell = gridRef.current.querySelector(\r\n        `[data-measuring-cell-key=\"${columns[index].key}\"]`\r\n      );\r\n      const measuredWidth = measuringCell.getBoundingClientRect().width;\r\n      const measuredWidthPx = `${measuredWidth}px`;\r\n      if (newTemplateColumns[columns[index].idx] !== measuredWidthPx) {\r\n        newTemplateColumns[columns[index].idx] = measuredWidthPx;\r\n        style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n      }\r\n      if (columnWidths.get(columns[index].key) === measuredWidth) return;\r\n      newColumnWidths.set(columns[index].key, measuredWidth);\r\n    }\r\n    setColumnWidths(newColumnWidths);\r\n    templateColumns = [...newTemplateColumns];\r\n  }\r\n  function sizeColumnsToFit(gridWidth) {\r\n    let columnWidths = getColumnWidths();\r\n    let widthSum = 0;\r\n    let colWidthValues = Array.from(columnWidths.values());\r\n    colWidthValues.forEach((colWidth) => {\r\n      widthSum += colWidth;\r\n    });\r\n    var scale = gridWidth / widthSum;\r\n    const newColWidths = new Map(columnWidths);\r\n    let colWidths = Array.from(columnWidths.keys());\r\n    let sum = 0;\r\n    for (let index = 0; index < colWidthValues.length; index++) {\r\n      if (index === colWidthValues.length - 1) {\r\n        let width = gridWidth - sum;\r\n        newColWidths.set(colWidths[index], width);\r\n      } else {\r\n        let width = Math.round(colWidthValues[index] * scale);\r\n        newColWidths.set(colWidths[index], width);\r\n        sum += width;\r\n      }\r\n    }\r\n    setColumnWidths(newColWidths);\r\n  }\r\n  function getColumnState() {\r\n    var columns = Array.from(columnMetrics.keys());\r\n    var colStates = [];\r\n    columns.forEach((col) => {\r\n      const index = sortColumns.findIndex(\r\n        (sortCol) => sortCol.columnKey === col.key\r\n      );\r\n      const sort = index > -1 ? sortColumns[index].direction : null;\r\n      const indexOfRowGroup = rawGroupBy?.findIndex((key) => key === col.key);\r\n      const colState = {\r\n        colId: col.key ?? `col_${col.idx}`,\r\n        columnIndex: col.idx,\r\n        frozen: col.frozen ?? undefined,\r\n        width: templateColumns[col.idx],\r\n        rowGroup: col.rowGroup ?? undefined,\r\n        rowGroupIndex: indexOfRowGroup > -1 ? indexOfRowGroup : null,\r\n        sort: sort,\r\n      };\r\n      colStates.push(colState);\r\n    });\r\n    return colStates;\r\n  }\r\n  function applyColumnState(columnState) {\r\n    const colState = columnState.state;\r\n    const defaultState = columnState.defaultState ?? undefined;\r\n    const newColWidths = new Map(columnWidths);\r\n    colState.forEach((col) => {\r\n      const colKey = col.colId;\r\n      if (col.frozen) {\r\n        const index = columns.findIndex((c) => c.key === colKey);\r\n        columns[index].frozen = col.frozen;\r\n      }\r\n      if (col.width !== undefined) {\r\n        let width = isString(col.width)\r\n          ? Number(col.width.match(/\\d+/)[0])\r\n          : col.width;\r\n        newColWidths.set(colKey, width);\r\n      }\r\n      if (col.rowGroup !== undefined) {\r\n        if (col.rowGroup) {\r\n          const index = columns.findIndex((c) => c.key === colKey);\r\n          columns[index].rowGroup = col.rowGroup;\r\n          addRowGroupColumn(colKey);\r\n        } else {\r\n          const index = columns.findIndex((c) => c.key === colKey);\r\n          columns[index].rowGroup = col.rowGroup;\r\n          removeRowGroupColumn(colKey);\r\n        }\r\n      }\r\n      if (col.rowGroupIndex !== undefined) {\r\n        if (col.rowGroupIndex !== null && col.rowGroup) {\r\n          const fromIndex = rawGroupBy.findIndex(\r\n            (groupCol) => groupCol === colKey\r\n          );\r\n          const toIndex = col.rowGroupIndex;\r\n          if (fromIndex > -1 && toIndex < rawGroupBy?.length)\r\n            moveRowGroupColumn(fromIndex, toIndex);\r\n        }\r\n      }\r\n      if (col.sort !== undefined) {\r\n        if (col.sort !== null) {\r\n          const index = sortColumns.findIndex(\r\n            (sortCol) => sortCol.columnKey === colKey\r\n          );\r\n          if (index === -1)\r\n            sortColumns.push({ columnKey: colKey, direction: col.sort });\r\n          if (index > -1 && sortColumns[index].direction !== col.sort)\r\n            sortColumns[index].direction = col.sort;\r\n          onSortColumnsChange(sortColumns);\r\n        } else {\r\n          const index = sortColumns.findIndex(\r\n            (sortCol) => sortCol.columnKey === colKey\r\n          );\r\n          if (index > -1) sortColumns.splice(index, 1);\r\n          onSortColumnsChange(sortColumns);\r\n        }\r\n      }\r\n      setColumnWidths(newColWidths);\r\n    });\r\n    if (defaultState) {\r\n      let keysOfColumns = [];\r\n      colState.map((col) => keysOfColumns.push(col.colId));\r\n      columns.forEach((column) => {\r\n        if (!keysOfColumns.includes(column.key)) {\r\n          if (defaultState.frozen !== undefined)\r\n            column.frozen = defaultState.frozen;\r\n          if (defaultState.width !== undefined) {\r\n            newColWidths.set(column.key, defaultState.width);\r\n          }\r\n          if (defaultState.rowGroup !== undefined) {\r\n            if (defaultState.rowGroup) {\r\n              const index = columns.findIndex((c) => c.key === column.key);\r\n              columns[index].rowGroup = defaultState.rowGroup;\r\n              addRowGroupColumn(column.key);\r\n            } else {\r\n              const index = columns.findIndex((c) => c.key === column.key);\r\n              columns[index].rowGroup = defaultState.rowGroup;\r\n              removeRowGroupColumn(column.key);\r\n            }\r\n          }\r\n          if (defaultState.sort !== undefined) {\r\n            if (defaultState.sort !== null) {\r\n              const index = sortColumns.findIndex(\r\n                (sortCol) => sortCol.columnKey === `${column.key}`\r\n              );\r\n              if (index === -1)\r\n                sortColumns.push({\r\n                  columnKey: `${column.key}`,\r\n                  direction: defaultState.sort,\r\n                });\r\n              if (\r\n                index > -1 &&\r\n                sortColumns[index].direction !== defaultState.sort\r\n              )\r\n                sortColumns[index].direction = defaultState.sort;\r\n              onSortColumnsChange(sortColumns);\r\n            } else {\r\n              const index = sortColumns.findIndex(\r\n                (sortCol) => sortCol.columnKey === `${column.key}`\r\n              );\r\n              if (index > -1) sortColumns.splice(index, 1);\r\n              onSortColumnsChange(sortColumns);\r\n            }\r\n          }\r\n        }\r\n      });\r\n      setColumnWidths(newColWidths);\r\n    }\r\n    setRawColumns(columns);\r\n  }\r\n  function isPinning() {\r\n    let isPinning = false;\r\n    columns.forEach((col) => {\r\n      if (col.frozen === true) isPinning = true;\r\n    });\r\n    return isPinning;\r\n  }\r\n  function setColumnPinned(key) {\r\n    const colKey = typeof key === \"string\" ? key : key.colId;\r\n    const columnIndex = columns.findIndex((col) => col.key === colKey);\r\n    columns[columnIndex].frozen = true;\r\n    setRawColumns(columns);\r\n  }\r\n  function setColumnsPinned(keys) {\r\n    for (let i = 0; i < columns.length; i++) {\r\n      for (let j = 0; j < keys.length; j++) {\r\n        const key = typeof keys[j] === \"string\" ? keys[j] : keys[j].colId;\r\n        const columnIndex = columns.findIndex((col) => col.key === key);\r\n        if (i === columnIndex) columns[i].frozen = true;\r\n      }\r\n    }\r\n    setRawColumns(columns);\r\n  }\r\n  function getSortColumns() {\r\n    let columnObjects = getColumns();\r\n    let sortColumns = [];\r\n    columnObjects.forEach((colObj) => {\r\n      if (colObj.sort !== null) sortColumns.push(colObj);\r\n    });\r\n    return sortColumns;\r\n  }\r\n  var columnApiObject = {\r\n    columnModel: {\r\n      columnDefs: raawColumns,\r\n      rowGroupColumns: getRowGroupColumns(),\r\n      sortColumns: getSortColumns(),\r\n    },\r\n  };\r\n  Object.setPrototypeOf(columnApiObject, {\r\n    // get columns\r\n    getColumns,\r\n    getColumn: (colKey) => {\r\n      let columnObjects = getColumns();\r\n      let colObject;\r\n      let key = typeof colKey === \"string\" ? colKey : colKey.colId;\r\n      columnObjects.forEach((columnObj) => {\r\n        if (columnObj.colId === key) colObject = columnObj;\r\n      });\r\n      return colObject;\r\n    },\r\n    getAllGridColumns: () => getColumns(),\r\n    //move columns\r\n    moveColumn,\r\n    moveColumns,\r\n    moveColumnByIndex,\r\n    //display names for column / column groups\r\n    getDisplayNameForColumn,\r\n    getDisplayedColAfter,\r\n    getDisplayedColBefore,\r\n    getAllDisplayedVirtualColumns: () => viewportColumns,\r\n    getAllDisplayedColumns: () => viewportColumns,\r\n    //row group columns\r\n    getRowGroupColumns,\r\n    setRowGroupColumns,\r\n    addRowGroupColumn,\r\n    addRowGroupColumns,\r\n    removeRowGroupColumn,\r\n    removeRowGroupColumns,\r\n    moveRowGroupColumn,\r\n    //column widths\r\n    setColumnWidth,\r\n    setColumnsWidth,\r\n    autoSizeColumn,\r\n    autoSizeColumns,\r\n    autoSizeAllColumns,\r\n    sizeColumnsToFit,\r\n    //column states\r\n    getColumnState,\r\n    applyColumnState,\r\n    resetColumnState: () => {\r\n      // // groupBy = [...rawGroupBy];\r\n      if (rawGroupBy?.length > 0) rawGroupBy.length = 0;\r\n      if (sortColumns?.length > 0) {\r\n        sortColumns.length = 0;\r\n        onSortColumnsChange(sortColumns);\r\n      }\r\n      setRawColumns(raawColumns);\r\n    },\r\n    //pinning columns\r\n    isPinning,\r\n    setColumnPinned,\r\n    setColumnsPinned,\r\n  });\r\n\r\n  const hasGroups = groupBy.length > 0 && typeof rowGrouper === \"function\";\r\n  const minColIdx = hasGroups ? -1 : 0;\r\n  const maxColIdx = columns.length - 1;\r\n  const minRowIdx = -1 - topSummaryRowsCount;\r\n  const maxRowIdx = rows.length + bottomSummaryRowsCount - 1;\r\n  const selectedCellIsWithinSelectionBounds =\r\n    isCellWithinSelectionBounds(selectedPosition);\r\n  const selectedCellIsWithinViewportBounds =\r\n    isCellWithinViewportBounds(selectedPosition);\r\n\r\n  /**\r\n   * The identity of the wrapper function is stable so it won't break memoization\r\n   */\r\n  const handleColumnResizeLatest = useLatestFunc(handleColumnResize);\r\n  const onSortColumnsChangeLatest = useLatestFunc(onSortColumnsChange);\r\n  const onCellClickLatest = useLatestFunc(onCellClick);\r\n  const onCellDoubleClickLatest = useLatestFunc(onCellDoubleClick);\r\n  const onCellContextMenuLatest = useLatestFunc(onCellContextMenu);\r\n  const selectRowLatest = useLatestFunc(selectRow);\r\n  const selectAllRowsLatest = useLatestFunc(selectAllRows);\r\n  const handleFormatterRowChangeLatest = useLatestFunc(updateRow);\r\n  const selectViewportCellLatest = useLatestFunc(\r\n    (row, column, enableEditor) => {\r\n      const rowIdx = rows.indexOf(row);\r\n      selectCell({ rowIdx, idx: column.idx }, enableEditor);\r\n    }\r\n  );\r\n  const selectGroupLatest = useLatestFunc((rowIdx) => {\r\n    selectCell({ rowIdx, idx: -1 });\r\n  });\r\n  const selectHeaderCellLatest = useLatestFunc((idx) => {\r\n    selectCell({ rowIdx: minRowIdx, idx });\r\n  });\r\n  const selectTopSummaryCellLatest = useLatestFunc((summaryRow, column) => {\r\n    const rowIdx = topSummaryRows.indexOf(summaryRow);\r\n    selectCell({ rowIdx: rowIdx + minRowIdx + 1, idx: column.idx });\r\n  });\r\n  const selectBottomSummaryCellLatest = useLatestFunc((summaryRow, column) => {\r\n    const rowIdx = bottomSummaryRows.indexOf(summaryRow) + rows.length;\r\n    selectCell({ rowIdx, idx: column.idx });\r\n  });\r\n  const toggleGroupLatest = useLatestFunc(toggleGroup);\r\n\r\n  /**\r\n   * effects\r\n   */\r\n  useLayoutEffect(() => {\r\n    if (\r\n      !selectedCellIsWithinSelectionBounds ||\r\n      isSamePosition(selectedPosition, prevSelectedPosition.current)\r\n    ) {\r\n      prevSelectedPosition.current = selectedPosition;\r\n      return;\r\n    }\r\n\r\n    prevSelectedPosition.current = selectedPosition;\r\n\r\n    if (selectedPosition.idx === -1) {\r\n      rowRef.current.focus({ preventScroll: true });\r\n      scrollIntoView(rowRef.current);\r\n    }\r\n  });\r\n\r\n  useLayoutEffect(() => {\r\n    if (!isWidthInitialized || flexWidthViewportColumns.length === 0) return;\r\n\r\n    setColumnWidths((columnWidths) => {\r\n      const newColumnWidths = new Map(columnWidths);\r\n      const grid = gridRef.current;\r\n\r\n      for (const column of flexWidthViewportColumns) {\r\n        const measuringCell = grid.querySelector(\r\n          `[data-measuring-cell-key=\"${column.key}\"]`\r\n        );\r\n        // Set the actual width of the column after it is rendered\r\n        const { width } = measuringCell.getBoundingClientRect();\r\n        newColumnWidths.set(column.key, width);\r\n      }\r\n\r\n      return newColumnWidths;\r\n    });\r\n  }, [isWidthInitialized, flexWidthViewportColumns, gridRef]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    element: gridRef.current,\r\n    scrollToColumn,\r\n    scrollToRow(rowIdx) {\r\n      const { current } = gridRef;\r\n      if (!current) return;\r\n      current.scrollTo({\r\n        top: getRowTop(rowIdx),\r\n        behavior: \"smooth\",\r\n      });\r\n    },\r\n    selectCell,\r\n    api: apiObject,\r\n    columnApi: columnApiObject,\r\n    node,\r\n  }));\r\n\r\n  /**\r\n   * callbacks\r\n   */\r\n  const setDraggedOverRowIdx = useCallback((rowIdx) => {\r\n    setOverRowIdx(rowIdx);\r\n    latestDraggedOverRowIdx.current = rowIdx;\r\n  }, []);\r\n\r\n  /**\r\n   * event handlers\r\n   */\r\n  function handleColumnResize(column, width) {\r\n    const { style } = gridRef.current;\r\n    const newTemplateColumns = [...templateColumns];\r\n    newTemplateColumns[column.idx] =\r\n      width === \"max-content\" ? width : `${width}px`;\r\n    style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n\r\n    const measuringCell = gridRef.current.querySelector(\r\n      `[data-measuring-cell-key=\"${column.key}\"]`\r\n    );\r\n    const measuredWidth = measuringCell.getBoundingClientRect().width;\r\n    const measuredWidthPx = `${measuredWidth}px`;\r\n\r\n    // Immediately update `grid-template-columns` to prevent the column from jumping to its min/max allowed width.\r\n    // Only measuring cells have the min/max width set for proper colSpan support,\r\n    // which is why other cells may render at the previously set width, beyond the min/max.\r\n    // An alternative for the above would be to use flushSync.\r\n    // We also have to reset `max-content` so it doesn't remain stuck on `max-content`.\r\n    if (newTemplateColumns[column.idx] !== measuredWidthPx) {\r\n      newTemplateColumns[column.idx] = measuredWidthPx;\r\n      style.gridTemplateColumns = newTemplateColumns.join(\" \");\r\n    }\r\n\r\n    if (columnWidths.get(column.key) === measuredWidth) return;\r\n\r\n    const newColumnWidths = new Map(columnWidths);\r\n    newColumnWidths.set(column.key, measuredWidth);\r\n    setColumnWidths(newColumnWidths);\r\n\r\n    onColumnResize?.(column.idx, measuredWidth);\r\n  }\r\n\r\n  function selectRow({ row, checked, isShiftClick }) {\r\n    if (!onSelectedRowsChange1) return;\r\n\r\n    assertIsValidKeyGetter(rowKeyGetter);\r\n    const newSelectedRows = new Set(selectedRows1);\r\n    const newSelectedRows1 = selectedRows;\r\n    if (isGroupRow(row)) {\r\n      for (const childRow of row.childRows) {\r\n        const rowKey = rowKeyGetter(childRow);\r\n        if (checked) {\r\n          newSelectedRows.add(rowKey);\r\n          newSelectedRows1.push(childRow);\r\n        } else {\r\n          newSelectedRows.delete(rowKey);\r\n          newSelectedRows1.splice(newSelectedRows1.indexOf(row), 1);\r\n        }\r\n      }\r\n      onSelectedRowsChange1(newSelectedRows);\r\n      onSelectedRowsChange(newSelectedRows1);\r\n      return;\r\n    }\r\n\r\n    const rowKey = rowKeyGetter(row);\r\n    if (checked) {\r\n      newSelectedRows.add(rowKey);\r\n      newSelectedRows1.push(row);\r\n      const previousRowIdx = lastSelectedRowIdx.current;\r\n      const rowIdx = rows.indexOf(row);\r\n      lastSelectedRowIdx.current = rowIdx;\r\n      if (isShiftClick && previousRowIdx !== -1 && previousRowIdx !== rowIdx) {\r\n        const step = sign(rowIdx - previousRowIdx);\r\n        for (let i = previousRowIdx + step; i !== rowIdx; i += step) {\r\n          const row = rows[i];\r\n          if (isGroupRow(row)) continue;\r\n          newSelectedRows.add(rowKeyGetter(row));\r\n          newSelectedRows1.push(row);\r\n        }\r\n      }\r\n    } else {\r\n      newSelectedRows.delete(rowKey);\r\n      newSelectedRows1.splice(newSelectedRows1.indexOf(row), 1);\r\n      lastSelectedRowIdx.current = -1;\r\n    }\r\n\r\n    onSelectedRowsChange1(newSelectedRows);\r\n    onSelectedRowsChange(newSelectedRows1);\r\n  }\r\n\r\n  function selectAllRows(checked) {\r\n    if (!onSelectedRowsChange1) return;\r\n    assertIsValidKeyGetter(rowKeyGetter);\r\n    const newSelectedRows = new Set(selectedRows1);\r\n    const newSelectedRows1 = selectedRows;\r\n    for (const row of rawRows) {\r\n      const rowKey = rowKeyGetter(row);\r\n      if (checked) {\r\n        newSelectedRows.add(rowKey);\r\n        if (!newSelectedRows1.includes(row)) newSelectedRows1.push(row);\r\n      } else {\r\n        newSelectedRows.delete(rowKey);\r\n        newSelectedRows1.splice(newSelectedRows1.indexOf(row), 1);\r\n      }\r\n    }\r\n    onSelectedRowsChange(newSelectedRows1);\r\n    onSelectedRowsChange1(newSelectedRows);\r\n  }\r\n\r\n  function toggleGroup(expandedGroupId) {\r\n    if (!onExpandedGroupIdsChange) return;\r\n    const newExpandedGroupIds = new Set(expandedGroupIds);\r\n    if (newExpandedGroupIds.has(expandedGroupId)) {\r\n      newExpandedGroupIds.delete(expandedGroupId);\r\n    } else {\r\n      newExpandedGroupIds.add(expandedGroupId);\r\n    }\r\n    onExpandedGroupIdsChange(newExpandedGroupIds);\r\n  }\r\n\r\n  function handleKeyDown(event) {\r\n    if (!(event.target instanceof Element)) return;\r\n    const isCellEvent = event.target.closest(\".rdg-cell\") !== null;\r\n    const isRowEvent = hasGroups && event.target === rowRef.current;\r\n    if (!(isCellEvent || isRowEvent)) return;\r\n\r\n    const { key, keyCode } = event;\r\n    const { rowIdx } = selectedPosition;\r\n\r\n    if (\r\n      selectedCellIsWithinViewportBounds &&\r\n      (onPaste != null || onCopy != null) &&\r\n      isCtrlKeyHeldDown(event) &&\r\n      !isGroupRow(rows[rowIdx]) &&\r\n      selectedPosition.mode === \"SELECT\"\r\n    ) {\r\n      // event.key may differ by keyboard input language, so we use event.keyCode instead\r\n      // event.nativeEvent.code cannot be used either as it would break copy/paste for the DVORAK layout\r\n      const cKey = 67;\r\n      const vKey = 86;\r\n      if (keyCode === cKey) {\r\n        handleCopy();\r\n        return;\r\n      }\r\n      if (keyCode === vKey) {\r\n        handlePaste();\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (isRowIdxWithinViewportBounds(rowIdx)) {\r\n      const row = rows[rowIdx];\r\n\r\n      if (\r\n        isGroupRow(row) &&\r\n        selectedPosition.idx === -1 &&\r\n        // Collapse the current group row if it is focused and is in expanded state\r\n        ((key === leftKey && row.isExpanded) ||\r\n          // Expand the current group row if it is focused and is in collapsed state\r\n          (key === rightKey && !row.isExpanded))\r\n      ) {\r\n        event.preventDefault(); // Prevents scrolling\r\n        toggleGroup(row.id);\r\n        return;\r\n      }\r\n    }\r\n\r\n    switch (event.key) {\r\n      case \"Escape\":\r\n        setCopiedCell(null);\r\n        return;\r\n      case \"ArrowUp\":\r\n      case \"ArrowDown\":\r\n      case \"ArrowLeft\":\r\n      case \"ArrowRight\":\r\n      case \"Tab\":\r\n      case \"Home\":\r\n      case \"End\":\r\n      case \"PageUp\":\r\n      case \"PageDown\":\r\n        navigate(event);\r\n        break;\r\n      default:\r\n        handleCellInput(event);\r\n        break;\r\n    }\r\n  }\r\n\r\n  function handleScroll(event) {\r\n    const { scrollTop, scrollLeft } = event.currentTarget;\r\n    flushSync(() => {\r\n      setScrollTop(scrollTop);\r\n      // scrollLeft is nagative when direction is rtl\r\n      setScrollLeft(abs(scrollLeft));\r\n    });\r\n    onScroll?.(event);\r\n  }\r\n\r\n  function getRawRowIdx(rowIdx) {\r\n    return hasGroups ? rawRows.indexOf(rows[rowIdx]) : rowIdx;\r\n  }\r\n\r\n  function updateRow(column, rowIdx, row) {\r\n    if (typeof onRowsChange !== \"function\") return;\r\n    const rawRowIdx = getRawRowIdx(rowIdx);\r\n    if (row === rawRows[rawRowIdx]) return;\r\n    const updatedRows = [...rawRows];\r\n    updatedRows[rawRowIdx] = row;\r\n    onRowsChange(updatedRows, {\r\n      indexes: [rawRowIdx],\r\n      column,\r\n    });\r\n  }\r\n\r\n  function commitEditorChanges() {\r\n    if (selectedPosition.mode !== \"EDIT\") return;\r\n    updateRow(\r\n      columns[selectedPosition.idx],\r\n      selectedPosition.rowIdx,\r\n      selectedPosition.row\r\n    );\r\n  }\r\n\r\n  function handleCopy() {\r\n    const { idx, rowIdx } = selectedPosition;\r\n    const sourceRow = rawRows[getRawRowIdx(rowIdx)];\r\n    const sourceColumnKey = columns[idx].key;\r\n    setCopiedCell({ row: sourceRow, columnKey: sourceColumnKey });\r\n    onCopy?.({ sourceRow, sourceColumnKey });\r\n  }\r\n\r\n  function handlePaste() {\r\n    if (\r\n      !(onPaste && onRowsChange) ||\r\n      copiedCell === null ||\r\n      !isCellEditable(selectedPosition)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const { idx, rowIdx } = selectedPosition;\r\n    const targetColumn = columns[idx];\r\n    const targetRow = rawRows[getRawRowIdx(rowIdx)];\r\n\r\n    const updatedTargetRow = onPaste({\r\n      sourceRow: copiedCell.row,\r\n      sourceColumnKey: copiedCell.columnKey,\r\n      targetRow,\r\n      targetColumnKey: targetColumn.key,\r\n    });\r\n\r\n    updateRow(targetColumn, rowIdx, updatedTargetRow);\r\n  }\r\n\r\n  function handleCellInput(event) {\r\n    if (!selectedCellIsWithinViewportBounds) return;\r\n    const row = rows[selectedPosition.rowIdx];\r\n    if (isGroupRow(row)) return;\r\n    const { key, shiftKey } = event;\r\n\r\n    // Select the row on Shift + Space\r\n    if (isSelectable && shiftKey && key === \" \") {\r\n      assertIsValidKeyGetter(rowKeyGetter);\r\n      const rowKey = rowKeyGetter(row);\r\n      selectRow({\r\n        row,\r\n        checked: !selectedRows1.has(rowKey),\r\n        isShiftClick: false,\r\n      });\r\n      // do not scroll\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    const column = columns[selectedPosition.idx];\r\n    column.editorOptions?.onCellKeyDown?.(event);\r\n    if (event.isDefaultPrevented()) return;\r\n\r\n    if (isCellEditable(selectedPosition) && isDefaultCellInput(event)) {\r\n      setSelectedPosition(({ idx, rowIdx }) => ({\r\n        idx,\r\n        rowIdx,\r\n        mode: \"EDIT\",\r\n        row,\r\n        originalRow: row,\r\n      }));\r\n    }\r\n  }\r\n  // console.log(\"headerRowHeight\", headerRowHeight);\r\n\r\n  /**\r\n   * utils\r\n   */\r\n  function isColIdxWithinSelectionBounds(idx) {\r\n    return idx >= minColIdx && idx <= maxColIdx;\r\n  }\r\n\r\n  function isRowIdxWithinViewportBounds(rowIdx) {\r\n    return rowIdx >= 0 && rowIdx < rows.length;\r\n  }\r\n\r\n  function isCellWithinSelectionBounds({ idx, rowIdx }) {\r\n    return (\r\n      rowIdx >= minRowIdx &&\r\n      rowIdx <= maxRowIdx &&\r\n      isColIdxWithinSelectionBounds(idx)\r\n    );\r\n  }\r\n\r\n  function isCellWithinViewportBounds({ idx, rowIdx }) {\r\n    return (\r\n      isRowIdxWithinViewportBounds(rowIdx) && isColIdxWithinSelectionBounds(idx)\r\n    );\r\n  }\r\n\r\n  function isCellEditable(position) {\r\n    return (\r\n      isCellWithinViewportBounds(position) &&\r\n      isSelectedCellEditable({\r\n        columns,\r\n        rows,\r\n        selectedPosition: position,\r\n        isGroupRow,\r\n      })\r\n    );\r\n  }\r\n\r\n  function selectCell(position, enableEditor) {\r\n    if (!isCellWithinSelectionBounds(position)) return;\r\n    commitEditorChanges();\r\n\r\n    if (enableEditor && isCellEditable(position)) {\r\n      const row = rows[position.rowIdx];\r\n      setSelectedPosition({ ...position, mode: \"EDIT\", row, originalRow: row });\r\n    } else if (isSamePosition(selectedPosition, position)) {\r\n      // Avoid re-renders if the selected cell state is the same\r\n      scrollIntoView(gridRef.current?.querySelector('[tabindex=\"0\"]'));\r\n    } else {\r\n      setSelectedPosition({ ...position, mode: \"SELECT\" });\r\n    }\r\n  }\r\n\r\n  function scrollToColumn(idx) {\r\n    const { current } = gridRef;\r\n    if (!current) return;\r\n\r\n    if (idx > lastFrozenColumnIndex) {\r\n      const { rowIdx } = selectedPosition;\r\n      if (!isCellWithinSelectionBounds({ rowIdx, idx })) return;\r\n      const { clientWidth } = current;\r\n      const column = columns[idx];\r\n      const { left, width } = columnMetrics.get(column);\r\n      let right = left + width;\r\n\r\n      const colSpan = getSelectedCellColSpan({\r\n        rows,\r\n        topSummaryRows,\r\n        bottomSummaryRows,\r\n        rowIdx,\r\n        lastFrozenColumnIndex,\r\n        column,\r\n        isGroupRow,\r\n      });\r\n\r\n      if (colSpan !== undefined) {\r\n        const { left, width } = columnMetrics.get(\r\n          columns[column.idx + colSpan - 1]\r\n        );\r\n        right = left + width;\r\n      }\r\n\r\n      const isCellAtLeftBoundary = left < scrollLeft + totalFrozenColumnWidth;\r\n      const isCellAtRightBoundary = right > clientWidth + scrollLeft;\r\n      const sign = isRtl ? -1 : 1;\r\n      if (isCellAtLeftBoundary) {\r\n        current.scrollLeft = (left - totalFrozenColumnWidth) * sign;\r\n      } else if (isCellAtRightBoundary) {\r\n        current.scrollLeft = (right - clientWidth) * sign;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getNextPosition(key, ctrlKey, shiftKey) {\r\n    const { idx, rowIdx } = selectedPosition;\r\n    const row = rows[rowIdx];\r\n    const isRowSelected = selectedCellIsWithinSelectionBounds && idx === -1;\r\n\r\n    // If a group row is focused, and it is collapsed, move to the parent group row (if there is one).\r\n    if (\r\n      key === leftKey &&\r\n      isRowSelected &&\r\n      isGroupRow(row) &&\r\n      !row.isExpanded &&\r\n      row.level !== 0\r\n    ) {\r\n      let parentRowIdx = -1;\r\n      for (let i = selectedPosition.rowIdx - 1; i >= 0; i--) {\r\n        const parentRow = rows[i];\r\n        if (isGroupRow(parentRow) && parentRow.id === row.parentId) {\r\n          parentRowIdx = i;\r\n          break;\r\n        }\r\n      }\r\n      if (parentRowIdx !== -1) {\r\n        return { idx, rowIdx: parentRowIdx };\r\n      }\r\n    }\r\n\r\n    switch (key) {\r\n      case \"ArrowUp\":\r\n        return { idx, rowIdx: rowIdx - 1 };\r\n      case \"ArrowDown\":\r\n        return { idx, rowIdx: rowIdx + 1 };\r\n      case leftKey:\r\n        return { idx: idx - 1, rowIdx };\r\n      case rightKey:\r\n        return { idx: idx + 1, rowIdx };\r\n      case \"Tab\":\r\n        return { idx: idx + (shiftKey ? -1 : 1), rowIdx };\r\n      case \"Home\":\r\n        // If row is selected then move focus to the first row\r\n        if (isRowSelected) return { idx, rowIdx: 0 };\r\n        return { idx: 0, rowIdx: ctrlKey ? minRowIdx : rowIdx };\r\n      case \"End\":\r\n        // If row is selected then move focus to the last row.\r\n        if (isRowSelected) return { idx, rowIdx: rows.length - 1 };\r\n        return { idx: maxColIdx, rowIdx: ctrlKey ? maxRowIdx : rowIdx };\r\n      case \"PageUp\": {\r\n        if (selectedPosition.rowIdx === minRowIdx) return selectedPosition;\r\n        const nextRowY =\r\n          getRowTop(rowIdx) + getRowHeight(rowIdx) - clientHeight;\r\n        return { idx, rowIdx: nextRowY > 0 ? findRowIdx(nextRowY) : 0 };\r\n      }\r\n      case \"PageDown\": {\r\n        if (selectedPosition.rowIdx >= rows.length) return selectedPosition;\r\n        const nextRowY = getRowTop(rowIdx) + clientHeight;\r\n        return {\r\n          idx,\r\n          rowIdx:\r\n            nextRowY < totalRowHeight ? findRowIdx(nextRowY) : rows.length - 1,\r\n        };\r\n      }\r\n      default:\r\n        return selectedPosition;\r\n    }\r\n  }\r\n\r\n  function navigate(event) {\r\n    const { key, shiftKey } = event;\r\n    let mode = cellNavigationMode;\r\n    if (key === \"Tab\") {\r\n      if (\r\n        canExitGrid({\r\n          shiftKey,\r\n          cellNavigationMode,\r\n          maxColIdx,\r\n          minRowIdx,\r\n          maxRowIdx,\r\n          selectedPosition,\r\n        })\r\n      ) {\r\n        commitEditorChanges();\r\n        // Allow focus to leave the grid so the next control in the tab order can be focused\r\n        return;\r\n      }\r\n\r\n      mode = cellNavigationMode === \"NONE\" ? \"CHANGE_ROW\" : cellNavigationMode;\r\n    }\r\n\r\n    // Do not allow focus to leave\r\n    event.preventDefault();\r\n\r\n    const ctrlKey = isCtrlKeyHeldDown(event);\r\n    const nextPosition = getNextPosition(key, ctrlKey, shiftKey);\r\n    if (isSamePosition(selectedPosition, nextPosition)) return;\r\n\r\n    const nextSelectedCellPosition = getNextSelectedCellPosition({\r\n      columns,\r\n      colSpanColumns,\r\n      rows,\r\n      topSummaryRows,\r\n      bottomSummaryRows,\r\n      minRowIdx,\r\n      maxRowIdx,\r\n      lastFrozenColumnIndex,\r\n      cellNavigationMode: mode,\r\n      currentPosition: selectedPosition,\r\n      nextPosition,\r\n      isCellWithinBounds: isCellWithinSelectionBounds,\r\n      isGroupRow,\r\n    });\r\n\r\n    selectCell(nextSelectedCellPosition);\r\n  }\r\n\r\n  function getDraggedOverCellIdx(currentRowIdx) {\r\n    if (draggedOverRowIdx === undefined) return;\r\n    const { rowIdx } = selectedPosition;\r\n\r\n    const isDraggedOver =\r\n      rowIdx < draggedOverRowIdx\r\n        ? rowIdx < currentRowIdx && currentRowIdx <= draggedOverRowIdx\r\n        : rowIdx > currentRowIdx && currentRowIdx >= draggedOverRowIdx;\r\n\r\n    return isDraggedOver ? selectedPosition.idx : undefined;\r\n  }\r\n\r\n  function getLayoutCssVars() {\r\n    if (flexWidthViewportColumns.length === 0) return layoutCssVars;\r\n    const newTemplateColumns = [...templateColumns];\r\n    for (const column of flexWidthViewportColumns) {\r\n      newTemplateColumns[column.idx] = column.width;\r\n    }\r\n\r\n    return {\r\n      ...layoutCssVars,\r\n      gridTemplateColumns: newTemplateColumns.join(\" \"),\r\n    };\r\n  }\r\n\r\n  function handleFill({ columnKey, sourceRow, targetRow }) {\r\n    return { ...targetRow, [columnKey]: sourceRow[columnKey] };\r\n  }\r\n\r\n  function getDragHandle(rowIdx) {\r\n    if (\r\n      selectedPosition.rowIdx !== rowIdx ||\r\n      selectedPosition.mode === \"EDIT\" ||\r\n      hasGroups || // drag fill is not supported when grouping is enabled\r\n      onFill == null\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <DragHandle\r\n        rows={rawRows}\r\n        columns={columns}\r\n        selectedPosition={selectedPosition}\r\n        isCellEditable={isCellEditable}\r\n        latestDraggedOverRowIdx={latestDraggedOverRowIdx}\r\n        onRowsChange={onRowsChange}\r\n        onFill={onFill ? handleFill : null}\r\n        setDragging={setDragging}\r\n        setDraggedOverRowIdx={setDraggedOverRowIdx}\r\n      />\r\n    );\r\n  }\r\n\r\n  function getCellEditor(rowIdx) {\r\n    if (\r\n      selectedPosition.rowIdx !== rowIdx ||\r\n      selectedPosition.mode === \"SELECT\"\r\n    )\r\n      return;\r\n\r\n    const { idx, row } = selectedPosition;\r\n    const column = columns[idx];\r\n    const colSpan = getColSpan(column, lastFrozenColumnIndex, {\r\n      type: \"ROW\",\r\n      row,\r\n    });\r\n\r\n    const closeEditor = () => {\r\n      setSelectedPosition(({ idx, rowIdx }) => ({\r\n        idx,\r\n        rowIdx,\r\n        mode: \"SELECT\",\r\n      }));\r\n    };\r\n\r\n    const onRowChange = (row, commitChanges) => {\r\n      if (commitChanges) {\r\n        updateRow(column, selectedPosition.rowIdx, row);\r\n        closeEditor();\r\n      } else {\r\n        setSelectedPosition((position) => ({ ...position, row }));\r\n      }\r\n    };\r\n\r\n    if (rows[selectedPosition.rowIdx] !== selectedPosition.originalRow) {\r\n      // Discard changes if rows are updated from outside\r\n      closeEditor();\r\n    }\r\n\r\n    return (\r\n      <EditCell\r\n        key={`${column.key}`}\r\n        column={column}\r\n        colSpan={colSpan}\r\n        row={row}\r\n        handleReorderRow={handleReorderRow}\r\n        allrow={raawRows}\r\n        rowIndex={rowIdx}\r\n        api={apiObject}\r\n        node={node}\r\n        onRowChange={onRowChange}\r\n        closeEditor={closeEditor}\r\n      />\r\n    );\r\n  }\r\n\r\n  function getRowViewportColumns(rowIdx) {\r\n    const selectedColumn = columns[selectedPosition.idx];\r\n    if (\r\n      // idx can be -1 if grouping is enabled\r\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\r\n      selectedColumn !== undefined &&\r\n      selectedPosition.rowIdx === rowIdx &&\r\n      !viewportColumns.includes(selectedColumn)\r\n    ) {\r\n      // Add the selected column to viewport columns if the cell is not within the viewport\r\n      return selectedPosition.idx > colOverscanEndIdx\r\n        ? [...viewportColumns, selectedColumn]\r\n        : [\r\n            ...viewportColumns.slice(0, lastFrozenColumnIndex + 1),\r\n            selectedColumn,\r\n            ...viewportColumns.slice(lastFrozenColumnIndex + 1),\r\n          ];\r\n    }\r\n    return viewportColumns;\r\n  }\r\n\r\n  var node;\r\n\r\n  var endRowIdxForRender;\r\n\r\n  const [RowNodes, setRowNodes] = useState();\r\n\r\n  function forEachNode(newFunction) {\r\n    RowNodes.forEach((data) => {\r\n      newFunction(data);\r\n    });\r\n  }\r\n  function getRowBounds(index) {\r\n    return {\r\n      rowTop: RowNodes[index].rowTop,\r\n      rowHeight: RowNodes[index].rowHeight,\r\n    };\r\n  }\r\n  function isRowPresent(object1) {\r\n    let result = false;\r\n    RowNodes.forEach((obj) => {\r\n      if (_.isEqual(object1, obj)) {\r\n        result = true;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n  function getNodesInRangeForSelection(obj1, obj2) {\r\n    let firstIndex;\r\n    let secondIndex;\r\n    let startIndex;\r\n    let endIndex;\r\n    RowNodes.map((obj, idx) => {\r\n      if (_.isEqual(obj1, obj)) {\r\n        firstIndex = idx;\r\n      }\r\n      return true;\r\n    });\r\n    RowNodes.map((obj, idx) => {\r\n      if (_.isEqual(obj2, obj)) {\r\n        secondIndex = idx;\r\n      }\r\n      return true;\r\n    });\r\n    if (firstIndex && secondIndex) {\r\n      if (firstIndex < secondIndex) {\r\n        startIndex = firstIndex;\r\n        endIndex = secondIndex;\r\n      } else {\r\n        endIndex = firstIndex;\r\n        startIndex = secondIndex;\r\n      }\r\n    } else if (firstIndex) {\r\n      startIndex = 0;\r\n      endIndex = firstIndex;\r\n    } else if (secondIndex) {\r\n      startIndex = 0;\r\n      endIndex = secondIndex;\r\n    }\r\n    return RowNodes.slice(startIndex, endIndex + 1);\r\n  }\r\n  var getModelObject = {\r\n    getRow: (index) => RowNodes[index],\r\n    getRowNode: (idValue) => RowNodes.filter((data) => data.id === idValue),\r\n    getRowCount: () => rows.length,\r\n    getTopLevelRowCount: () => rows.length,\r\n    getTopLevelRowDisplayedIndex: (index) => (rows[index] ? index : null),\r\n    getRowIndexAtPixel: (pixel) => Math.floor(pixel / rowHeight),\r\n    isRowPresent,\r\n    getRowBounds,\r\n    isEmpty: () => raawRows.length === 0,\r\n    isRowsToRender: () => endRowIdxForRender !== 0,\r\n    getNodesInRangeForSelection,\r\n    forEachNode,\r\n    getType: () => \"clientSide\",\r\n    isLastRowIndexKnown: () => true,\r\n    // ensureRowHeightsValid\r\n    // start\r\n  };\r\n  function applyTransaction(transactionObject) {\r\n    let newRows = rows;\r\n    let updatedRowNodes = { added: [], updated: [], removed: [] };\r\n    let isUpdated = 0;\r\n    //Add Rows\r\n    let rowIndex1 = transactionObject.addIndex + 1;\r\n    for (let i = 0; i < transactionObject.add?.length; i++) {\r\n      let rowIndex;\r\n      if (rowKeyGetter) {\r\n        rowIndex = findRowIndex(rowKeyGetter(transactionObject.add[i]));\r\n      } else {\r\n        rowIndex = findRowIndex(transactionObject.add[i].id);\r\n      }\r\n      if (rowIndex === -1) {\r\n        if (transactionObject.addIndex) {\r\n          if (transactionObject.addIndex > raawRows.length) return;\r\n          const newRowNode = createNewRowNode(\r\n            rowIndex1,\r\n            transactionObject.add[i]\r\n          );\r\n          newRows.splice(rowIndex1, 0, newRowNode.data);\r\n          LeafNodes.splice(rowIndex1, 0, newRowNode);\r\n          updatedRowNodes.added.push(LeafNodes[rowIndex1]);\r\n          rowIndex1++;\r\n          isUpdated++;\r\n        } else {\r\n          rowIndex = transactionObject.add[i].id - 1;\r\n          const newRowNode = createNewRowNode(\r\n            rowIndex,\r\n            transactionObject.add[i]\r\n          );\r\n\r\n          newRows.splice(rowIndex, 0, newRowNode.data);\r\n          LeafNodes.splice(rowIndex, 0, newRowNode);\r\n          updatedRowNodes.added.push(newRowNode);\r\n          isUpdated++;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Update Row Data\r\n    for (let i = 0; i < transactionObject.update?.length; i++) {\r\n      const values = Object.entries(transactionObject.update[i]);\r\n      let rowIndex;\r\n      if (rowKeyGetter) {\r\n        rowIndex = findRowIndex(rowKeyGetter(transactionObject.update[i]));\r\n      } else {\r\n        rowIndex = findRowIndex(transactionObject.update[i].id);\r\n      }\r\n      for (let j = 0; j < values.length; j++) {\r\n        const field = values[j][0];\r\n        const value = values[j][1];\r\n        LeafNodes[rowIndex].data[field] = value;\r\n      }\r\n      updatedRowNodes.updated.push(LeafNodes[rowIndex]);\r\n      isUpdated++;\r\n    }\r\n    //Remove Rows\r\n    transactionObject.remove?.sort((a, b) => (a.id < b.id ? 1 : -1));\r\n    for (let i = 0; i < transactionObject.remove?.length; i++) {\r\n      let rowIndex;\r\n      if (rowKeyGetter) {\r\n        rowIndex = findRowIndex(rowKeyGetter(transactionObject.remove[i]));\r\n      } else {\r\n        rowIndex = findRowIndex(transactionObject.remove[i].id);\r\n      }\r\n\r\n      if (rowIndex > -1) {\r\n        newRows.splice(rowIndex, 1);\r\n        updatedRowNodes.removed.push(LeafNodes[rowIndex]);\r\n        LeafNodes.splice(rowIndex, 1);\r\n        isUpdated++;\r\n      }\r\n    }\r\n    if (isUpdated > 0) RowNodes[0].setDataValue(\"\", \"\");\r\n    return updatedRowNodes;\r\n  }\r\n\r\n  function setRowData(rowData) {\r\n    if (rowData) {\r\n      setRawRows(rowData);\r\n    }\r\n  }\r\n\r\n  var LeafNodes = getAllLeafNodes();\r\n  function getAllLeafNodes() {\r\n    let leafNodes = [];\r\n    for (let i = 0; i < raawRows.length; i++) {\r\n      var node = {\r\n        rowIndex: i,\r\n        childIndex: i + 1,\r\n        data: raawRows[i],\r\n        rowHeight: getRowHeight(i),\r\n        lastChild: raawRows.length === i + 1,\r\n        firstChild: i === 0,\r\n        id: raawRows[i].id ?? String(i),\r\n        // selected: selectedRows.includes(i),\r\n      };\r\n      leafNodes.push(node);\r\n    }\r\n    return leafNodes;\r\n  }\r\n  function forEachLeafNode(callback, rowNodes) {\r\n    let updatedLeafNodes = [];\r\n    for (let i = 0; i < rowNodes?.length ?? LeafNodes.length; i++) {\r\n      callback(rowNodes[i] ?? LeafNodes[i]);\r\n      updatedLeafNodes.push(rowNodes[i].data ?? LeafNodes[i].data);\r\n    }\r\n    setRawRows(updatedLeafNodes);\r\n  }\r\n  function forEachLeafNodeAfterFilter(callback) {\r\n    forEachLeafNode(callback, RowNodes);\r\n  }\r\n  function forEachLeafNodeAfterFilterAndSort(callback) {\r\n    forEachLeafNode(callback, RowNodes);\r\n  }\r\n  function findRowIndex(id) {\r\n    let index = -1;\r\n    for (let i = 0; i < LeafNodes.length; i++) {\r\n      if (id === LeafNodes[i].data?.id) index = LeafNodes[i].rowIndex;\r\n    }\r\n    return index;\r\n  }\r\n\r\n  function createNewRowNode(index, data) {\r\n    const newRowNode = {\r\n      rowIndex: index,\r\n      childIndex: index + 1,\r\n      data: data,\r\n      rowHeight: getRowHeight(index),\r\n      lastChild: LeafNodes.length === index - 1,\r\n      firstChild: index === 0,\r\n      id: data.id ?? String(index + 1),\r\n    };\r\n    return newRowNode;\r\n  }\r\n  function getSelectedRows() {\r\n    return selectedRows1;\r\n  }\r\n\r\n  function selectAll(filteredRows) {\r\n    if (!onSelectedRowsChange) return;\r\n\r\n    assertIsValidKeyGetter(rowKeyGetter);\r\n    const newSelectedRows = new Set(selectedRows1);\r\n    const newSelectedRows1 = selectedRows;\r\n    for (const row of filteredRows?.data ?? rawRows) {\r\n      const rowKey = rowKeyGetter(row);\r\n\r\n      newSelectedRows.add(rowKey);\r\n      if (!newSelectedRows1.includes(row)) newSelectedRows1.push(row);\r\n    }\r\n\r\n    onSelectedRowsChange1(newSelectedRows);\r\n  }\r\n  function deselectAll(filteredRows) {\r\n    if (!onSelectedRowsChange) return;\r\n\r\n    assertIsValidKeyGetter(rowKeyGetter);\r\n    let newSelectedRows = new Set(selectedRows1);\r\n    let newSelectedRows1 = selectedRows;\r\n    for (const row of filteredRows?.data ?? rawRows) {\r\n      const rowKey = rowKeyGetter(row);\r\n\r\n      newSelectedRows.delete(rowKey);\r\n      newSelectedRows1.splice(newSelectedRows1.indexOf(row), 1);\r\n    }\r\n    onSelectedRowsChange1(newSelectedRows);\r\n  }\r\n\r\n  function getSelectedNodes() {\r\n    let selectedNodes = new Set();\r\n    for (let i = 0; i < RowNodes.length; i++) {\r\n      // eslint-disable-next-line no-unused-expressions\r\n      RowNodes[i].selected ? selectedNodes.add(RowNodes[i]) : null;\r\n    }\r\n    return selectedNodes;\r\n  }\r\n  function selectAllFiltered() {\r\n    selectAll(RowNodes);\r\n  }\r\n  function deselectAllFiltered() {\r\n    deselectAll(RowNodes);\r\n  }\r\n  var totalPages =\r\n    Math.floor(raawRows.length / size) + (raawRows.length % size < 0 ? 1 : 0);\r\n  function paginationGoToPage(pageNumberNew) {\r\n    if (pagination) {\r\n      if (0 < pageNumberNew && pageNumberNew <= totalPages) {\r\n        setCurrent(pageNumberNew);\r\n      } else if (pageNumberNew < 0) {\r\n        setCurrent(1);\r\n      } else if (pageNumberNew > totalPages) {\r\n        setCurrent(totalPages);\r\n      }\r\n    }\r\n  }\r\n\r\n  function paginationGoToNextPage() {\r\n    if (pagination && current + 1 <= totalPages) {\r\n      setCurrent(current + 1);\r\n    }\r\n  }\r\n  function paginationGoToPreviousPage() {\r\n    if (pagination && current - 1 > 0) {\r\n      setCurrent(current - 1);\r\n    }\r\n  }\r\n  function getFocusedCell() {\r\n    return selectedPosition.rowIdx >= 0\r\n      ? {\r\n          rowIndex: selectedPosition.rowIdx,\r\n          column: columns[selectedPosition.idx],\r\n        }\r\n      : undefined;\r\n  }\r\n  function setFocusedCell(idx, key) {\r\n    let index;\r\n    columns.map((obj, position) => {\r\n      if (obj.key === key) {\r\n        index = position;\r\n      }\r\n      return true;\r\n    });\r\n    setSelectedPosition({ idx: index, rowIdx: idx, mode: \"SELECT\" });\r\n  }\r\n  function tabToNextCell() {\r\n    let columnLength = columns.length;\r\n    let rowsLength = rows.length;\r\n    let idx;\r\n    let rowIdx;\r\n    if (selectedPosition.idx + 1 < columnLength) {\r\n      idx = selectedPosition.idx + 1;\r\n      rowIdx = selectedPosition.rowIdx;\r\n    } else {\r\n      idx = 0;\r\n      rowIdx =\r\n        selectedPosition.rowIdx + 1 < rowsLength\r\n          ? selectedPosition.rowIdx + 1\r\n          : 0;\r\n    }\r\n    setSelectedPosition({ idx: idx, rowIdx: rowIdx, mode: \"SELECT\" });\r\n  }\r\n  function tabToPreviousCell() {\r\n    let columnLength = columns.length;\r\n    let rowsLength = rows.length;\r\n    let idx;\r\n    let rowIdx;\r\n    if (selectedPosition.idx - 1 >= 0) {\r\n      idx = selectedPosition.idx - 1;\r\n      rowIdx = selectedPosition.rowIdx;\r\n    } else {\r\n      idx = columnLength - 1;\r\n      rowIdx =\r\n        selectedPosition.rowIdx - 1 >= 0\r\n          ? selectedPosition.rowIdx - 1\r\n          : rowsLength - 1;\r\n    }\r\n    setSelectedPosition({ idx: idx, rowIdx: rowIdx, mode: \"SELECT\" });\r\n  }\r\n  function exportDataAsCsv(fileName) {\r\n    let name = fileName ?? \"ExportToCSV\";\r\n    exportToCsv(rawRows, rawColumns, name);\r\n  }\r\n  function exportDataAsExcel(fileName) {\r\n    let name = fileName ?? \"ExportToXlsx\";\r\n    exportToXlsx(rawRows, rawColumns, name);\r\n  }\r\n  function exportDataAsPdf(fileName) {\r\n    let name = fileName ?? \"ExportToPdf\";\r\n    exportToPdf(rawRows, rawColumns, name);\r\n  }\r\n  function isAnyFilterPresent() {\r\n    let filterPresent = false;\r\n    viewportColumns.forEach((obj) => {\r\n      if (obj?.filter) filterPresent = true;\r\n    });\r\n    return filterPresent;\r\n  }\r\n  let getViewportRowsSample = useLatestFunc((rowArray) => {\r\n    let rowElementsSample = [];\r\n    let listOfRows = rowArray;\r\n    let node;\r\n    // let startRowIndex = 0;\r\n\r\n    const { rowIdx: selectedRowIdx } = selectedPosition;\r\n\r\n    const startRowIdx = 0;\r\n    const endRowIdx = listOfRows.length - 1;\r\n    for (\r\n      let viewportRowIdx = startRowIdx;\r\n      viewportRowIdx <= endRowIdx;\r\n      viewportRowIdx++\r\n    ) {\r\n      const isRowOutsideViewport =\r\n        viewportRowIdx === rowOverscanStartIdx - 1 ||\r\n        viewportRowIdx === rowOverscanEndIdx + 1;\r\n      const rowIdx = isRowOutsideViewport ? selectedRowIdx : viewportRowIdx;\r\n\r\n      //   let rowColumns = viewportColumns;\r\n      // const selectedColumn = columns[selectedIdx];\r\n      // selectedIdx can be -1 if grouping is enabled\r\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\r\n\r\n      const row = listOfRows[rowIdx];\r\n      // const gridRowStart = headerRowsCount + topSummaryRowsCount + rowIdx + 1;\r\n\r\n      // startRowIndex++;\r\n      // let key;\r\n      // let isRowSelected = false;\r\n\r\n      // key = hasGroups ? startRowIndex : rowIdx;\r\n\r\n      function setDataValue(key, newValue) {\r\n        let data = row;\r\n        data[key] = newValue;\r\n        let list = [...rawRows];\r\n        list[rowIdx] = data;\r\n        setRawRows(list);\r\n      }\r\n      function setData(newValue) {\r\n        let list = [...rawRows];\r\n        list[rowIdx] = newValue;\r\n        setRawRows(list);\r\n      }\r\n      node = {\r\n        rowIndex: rowIdx,\r\n        rowTop: rowIdx * rowHeight,\r\n        childIndex: rowIdx + 1,\r\n        data: row,\r\n        rowHeight: rowHeight,\r\n        lastChild: raawRows.length === rowIdx + 1,\r\n        firstChild: rowIdx === 0,\r\n        id: row?.id ?? String(rowIdx),\r\n        selected: selectedRowIdx === rowIdx,\r\n        setDataValue,\r\n        setData,\r\n        parent: {\r\n          allLeafChildren: RowNodes,\r\n          childrenAfterFilter: afterFilter,\r\n          childrenAfterSort: afterFilter,\r\n        },\r\n\r\n        expanded: rows[rowIdx]?.isExpanded,\r\n\r\n        isSelected: () => selectedRowIdx === rowIdx,\r\n        setSelected: () => {\r\n          selectRow({\r\n            row,\r\n            checked: !selectedRows.includes(rowKeyGetter(row)),\r\n            isShiftClick: false,\r\n          });\r\n        },\r\n        isExpandable: () => {\r\n          return rows[rowIdx]?.isExpanded;\r\n        },\r\n        setExpanded: (value) => {\r\n          var expandIds = new Set(expandedGroupIds);\r\n          let rowKey = rowKeyGetter(rows[rowIdx]);\r\n          if (value) {\r\n            expandIds.add(rowKey);\r\n          } else {\r\n            expandIds.delete(rowKey);\r\n          }\r\n          onExpandedGroupIdsChange(expandIds);\r\n        },\r\n\r\n        updateData: setData,\r\n        // isSelected: () => isRowSelected,\r\n      };\r\n      rowElementsSample.push(node);\r\n    }\r\n\r\n    return rowElementsSample;\r\n  });\r\n\r\n  var apiObject = {\r\n    getColumnDefs: () => rawColumns,\r\n    setColumnDefs: (columns) => setRawColumns(columns),\r\n    setRowData: setRowData,\r\n    getRowNodes: (value) => RowNodes[value],\r\n    setHeaderHeight: (height) => setHeaderHeightFromRef(height),\r\n    getDisplayedRowCount: () => rawRows.length,\r\n    getDisplayedRowAtIndex: (index) => rawRows[index],\r\n    getFirstDisplayedRow: () => rawRows[0],\r\n    getLastDisplayedRow: () => raawRows[raawRows.length - 1],\r\n    getModel: () => getModelObject,\r\n    forEachNode,\r\n    forEachLeafNode,\r\n    forEachLeafNodeAfterFilter,\r\n    forEachLeafNodeAfterFilterAndSort,\r\n    getSelectedNodes,\r\n    applyTransaction,\r\n    getSelectedRows,\r\n    getValue: (colKey, rowNode) => {\r\n      return LeafNodes[rowNode.rowIndex].data[colKey];\r\n    },\r\n    selectAll: selectAll,\r\n    deselectAll: deselectAll,\r\n    selectAllFiltered,\r\n    deselectAllFiltered,\r\n    getRenderedNodes: () => renderedRowNodes,\r\n    setPagination: (value) => setPagination(value),\r\n    paginationIsLastPageFound: () => true,\r\n    paginationGetPageSize: () => (pagination ? size : raawRows.length),\r\n    paginationSetPageSize: (newPageSize) =>\r\n      pagination ? setSize(newPageSize) : null,\r\n    paginationGetCurrentPage: () => current - 1,\r\n    paginationGetTotalPages: () =>\r\n      Math.floor(raawRows.length / size) + (raawRows.length % size < 0 ? 1 : 0),\r\n    paginationGetRowCount: () => (pagination ? raawRows.length : 0),\r\n    paginationGoToPage: paginationGoToPage,\r\n    paginationGoToNextPage: paginationGoToNextPage,\r\n    paginationGoToPreviousPage: paginationGoToPreviousPage,\r\n    paginationGoToFirstPage: () => (pagination ? setCurrent(1) : null),\r\n    paginationGoToLastPage: () => (pagination ? setCurrent(totalPages) : null),\r\n    rowModel: {\r\n      rowsToDisplay: RowNodes,\r\n      rootNode: {\r\n        allLeafChildren: getViewportRowsSample(raawRows),\r\n        childrenAfterFilter: getViewportRowsSample(rows),\r\n        childrenAfterSort: getViewportRowsSample(rows),\r\n      },\r\n      columnModel: { columnDefs: rawColumns, displayedColumns: columns },\r\n      nodeManager: { allNodesMap: getViewportRowsSample(raawRows) },\r\n      csvCreator: { exportDataAsCsv: exportDataAsCsv },\r\n    },\r\n    getFocusedCell: getFocusedCell,\r\n    setFocusedCell: setFocusedCell,\r\n    clearFocusedCell: () => setSelectedPosition(initialPosition),\r\n    tabToNextCell: tabToNextCell,\r\n    tabToPreviousCell: tabToPreviousCell,\r\n    exportDataAsCsv: exportDataAsCsv,\r\n    exportDataAsExcel: exportDataAsExcel,\r\n    exportDataAsPdf: exportDataAsPdf,\r\n    setDefaultColDef: (value) =>\r\n      setDefaultColumnDef({ ...defaultColumnDef, ...value }),\r\n    isAnyFilterPresent: isAnyFilterPresent,\r\n    expandAll: () => setExpandAll(true),\r\n    collapseAll: () => setExpandAll(false),\r\n    getFilterModel: () => filters,\r\n    setFilterModel: (value) => setFilters({ ...filters, ...value }),\r\n  };\r\n\r\n  ///////////  start\r\n  if (onGridReady) {\r\n    onGridReady({\r\n      api: apiObject,\r\n      columnApi: columnApiObject,\r\n      type: \"gridReady\",\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setAfterFilter(getViewportRowsSample(rows));\r\n  }, [rows, getViewportRowsSample]);\r\n\r\n  useEffect(() => {\r\n    setRowNodes(getViewportRowsSample(raawRows));\r\n  }, [expandedGroupIds, expandAll, raawRows, getViewportRowsSample]);\r\n\r\n  /////\r\n  var renderedRowNodes = [];\r\n  function getViewportRows() {\r\n    let node;\r\n    const rowElements = [];\r\n    let startRowIndex = 0;\r\n\r\n    const { idx: selectedIdx, rowIdx: selectedRowIdx } = selectedPosition;\r\n\r\n    const startRowIdx =\r\n      selectedCellIsWithinViewportBounds && selectedRowIdx < rowOverscanStartIdx\r\n        ? rowOverscanStartIdx - 1\r\n        : rowOverscanStartIdx;\r\n    const endRowIdx =\r\n      selectedCellIsWithinViewportBounds && selectedRowIdx > rowOverscanEndIdx\r\n        ? rowOverscanEndIdx + 1\r\n        : rowOverscanEndIdx;\r\n    endRowIdxForRender = endRowIdx;\r\n    for (\r\n      let viewportRowIdx = startRowIdx;\r\n      viewportRowIdx <= endRowIdx;\r\n      viewportRowIdx++\r\n    ) {\r\n      const isRowOutsideViewport =\r\n        viewportRowIdx === rowOverscanStartIdx - 1 ||\r\n        viewportRowIdx === rowOverscanEndIdx + 1;\r\n      const rowIdx = isRowOutsideViewport ? selectedRowIdx : viewportRowIdx;\r\n\r\n      let rowColumns = viewportColumns;\r\n      const selectedColumn = columns[selectedIdx];\r\n      // selectedIdx can be -1 if grouping is enabled\r\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\r\n      if (selectedColumn !== undefined) {\r\n        if (isRowOutsideViewport) {\r\n          // if the row is outside the viewport then only render the selected cell\r\n          rowColumns = [selectedColumn];\r\n        } else {\r\n          // if the row is within the viewport and cell is not, add the selected column to viewport columns\r\n          rowColumns = getRowViewportColumns(rowIdx);\r\n        }\r\n      }\r\n\r\n      const row = rows[rowIdx];\r\n\r\n      const gridRowStart = headerRowsCount + topSummaryRowsCount + rowIdx + 1;\r\n      if (isGroupRow(row)) {\r\n        ({ startRowIndex } = row);\r\n        const isGroupRowSelected =\r\n          isSelectable &&\r\n          row.childRows.every((cr) => selectedRows1?.has(rowKeyGetter(cr)));\r\n\r\n        rowElements.push(\r\n          <GroupRowRenderer\r\n            // aria-level is 1-based\r\n            aria-level={row.level + 1}\r\n            aria-setsize={row.setSize}\r\n            // aria-posinset is 1-based\r\n            aria-posinset={row.posInSet + 1}\r\n            // aria-rowindex is 1 based\r\n            aria-rowindex={\r\n              headerRowsCount + topSummaryRowsCount + startRowIndex + 1\r\n            }\r\n            aria-selected={isSelectable ? isGroupRowSelected : undefined}\r\n            key={row.id}\r\n            id={row.id}\r\n            groupKey={row.groupKey}\r\n            viewportColumns={rowColumns}\r\n            childRows={row.childRows}\r\n            rowIdx={rowIdx}\r\n            row={row}\r\n            gridRowStart={gridRowStart}\r\n            height={getRowHeight(rowIdx)}\r\n            level={row.level}\r\n            isExpanded={row.isExpanded}\r\n            selectedCellIdx={\r\n              selectedRowIdx === rowIdx ? selectedIdx : undefined\r\n            }\r\n            isRowSelected={isGroupRowSelected}\r\n            selectGroup={selectGroupLatest}\r\n            toggleGroup={toggleGroupLatest}\r\n          />\r\n        );\r\n        continue;\r\n      }\r\n\r\n      startRowIndex++;\r\n      let key;\r\n      let isRowSelected = false;\r\n      if (typeof rowKeyGetter === \"function\") {\r\n        key = rowKeyGetter(row);\r\n        isRowSelected = selectedRows1?.has(key) ?? false;\r\n      } else {\r\n        key = hasGroups ? startRowIndex : rowIdx;\r\n      }\r\n\r\n      function setDataValue(key, newValue) {\r\n        //console.log(row);\r\n        let data = row;\r\n        data[key] = newValue;\r\n        let list = [...rawRows];\r\n        list[rowIdx] = data;\r\n        //console.log(\"newList\", list);\r\n        setRawRows(list);\r\n      }\r\n      function setData(newValue) {\r\n        let list = [...rawRows];\r\n        list[rowIdx] = newValue;\r\n        setRawRows(list);\r\n      }\r\n      node = {\r\n        rowIndex: rowIdx,\r\n        rowTop: rowHeight * rowIdx,\r\n        childIndex: rowIdx + 1,\r\n        data: row,\r\n        rowHeight: rowHeight,\r\n        lastChild: raawRows.length === rowIdx + 1,\r\n        firstChild: rowIdx === 0,\r\n        id: row?.id ?? String(rowIdx),\r\n        selected: selectedRowIdx === rowIdx,\r\n        setDataValue,\r\n        setData,\r\n        parent: {\r\n          allLeafChildren: RowNodes,\r\n          childrenAfterFilter: afterFilter,\r\n          childrenAfterSort: afterFilter,\r\n        },\r\n        updateData: setData,\r\n        expanded: rows[rowIdx]?.isExpanded,\r\n        isSelected: () => selectedRowIdx === rowIdx,\r\n        setSelected: () => {\r\n          selectRow({\r\n            row,\r\n            checked: !selectedRows.includes(rowKeyGetter(row)),\r\n            isShiftClick: false,\r\n          });\r\n        },\r\n        isExpandable: () => {\r\n          return rows[rowIdx]?.isExpanded;\r\n        },\r\n        setExpanded: (value) => {\r\n          var expandIds = new Set(expandedGroupIds);\r\n          let rowKey = rowKeyGetter(rows[rowIdx]);\r\n          if (value) {\r\n            expandIds.add(rowKey);\r\n          } else {\r\n            expandIds.delete(rowKey);\r\n          }\r\n          onExpandedGroupIdsChange(expandIds);\r\n        },\r\n      };\r\n      renderedRowNodes.push(node);\r\n      rowElements.push(\r\n        rowRenderer(key, {\r\n          // aria-rowindex is 1 based\r\n          \"aria-rowindex\":\r\n            headerRowsCount +\r\n            topSummaryRowsCount +\r\n            (hasGroups ? startRowIndex : rowIdx) +\r\n            1,\r\n          \"aria-selected\": isSelectable ? isRowSelected : undefined,\r\n          totalColumns: columns.length,\r\n          rowIdx,\r\n          rows,\r\n          row,\r\n          selectedCellRowStyle,\r\n          api: apiObject,\r\n          columnApi: columnApiObject,\r\n          node,\r\n          viewportColumns: rowColumns,\r\n          isRowSelected,\r\n          onRowClick: onRowClick,\r\n          onCellClick: onCellClickLatest,\r\n          onCellDoubleClick: onCellDoubleClickLatest,\r\n          onCellContextMenu: onCellContextMenuLatest,\r\n          onRowDoubleClick: onRowDoubleClick,\r\n          rowClass,\r\n          gridRowStart,\r\n          height: getRowHeight(rowIdx),\r\n          copiedCellIdx:\r\n            copiedCell !== null && copiedCell.row === row\r\n              ? columns.findIndex((c) => c.key === copiedCell.columnKey)\r\n              : undefined,\r\n          selectedCellIdx: selectedRowIdx === rowIdx ? selectedIdx : undefined,\r\n          draggedOverCellIdx: getDraggedOverCellIdx(rowIdx),\r\n          setDraggedOverRowIdx: isDragging ? setDraggedOverRowIdx : undefined,\r\n          lastFrozenColumnIndex,\r\n          onRowChange: handleFormatterRowChangeLatest,\r\n          selectCell: selectViewportCellLatest,\r\n          selectedCellDragHandle: getDragHandle(rowIdx),\r\n          selectedCellEditor: getCellEditor(rowIdx),\r\n          handleReorderRow: handleReorderRow,\r\n        })\r\n      );\r\n    }\r\n    return rowElements;\r\n  }\r\n\r\n  // Reset the positions if the current values are no longer valid. This can happen if a column or row is removed\r\n  if (selectedPosition.idx > maxColIdx || selectedPosition.rowIdx > maxRowIdx) {\r\n    setSelectedPosition(initialPosition);\r\n    setDraggedOverRowIdx(undefined);\r\n  }\r\n\r\n  let templateRows = `${headerRowHeight}px`;\r\n  if (topSummaryRowsCount > 0) {\r\n    templateRows += ` repeat(${topSummaryRowsCount}, ${summaryRowHeight}px)`;\r\n  }\r\n  if (rows.length > 0) {\r\n    templateRows += gridTemplateRows;\r\n  }\r\n  if (bottomSummaryRowsCount > 0) {\r\n    templateRows += ` repeat(${bottomSummaryRowsCount}, ${summaryRowHeight}px)`;\r\n  }\r\n\r\n  const isGroupRowFocused =\r\n    selectedPosition.idx === -1 && selectedPosition.rowIdx !== -2;\r\n\r\n  useEffect(() => {\r\n    if (paginationAutoPageSize) {\r\n      if (raawRows.length <= 500) {\r\n        setSize(20);\r\n      } else if (1000 >= raawRows.length && raawRows.length > 500) {\r\n        setSize(30);\r\n      } else {\r\n        setSize(40);\r\n      }\r\n    }\r\n  }, [raawRows, paginationAutoPageSize]);\r\n\r\n  useEffect(() => {\r\n    const target = document.getElementById(\"DataGrid\");\r\n    if (props.restriction?.copy) {\r\n      target.addEventListener(\"copy\", (event) => {\r\n        event.preventDefault();\r\n      });\r\n    }\r\n    if (props.restriction?.paste) {\r\n      target.addEventListener(\"paste\", (event) => {\r\n        event.preventDefault();\r\n      });\r\n    }\r\n\r\n    return (\r\n      target?.removeEventListener(\"copy\", () => {}),\r\n      target?.removeEventListener(\"paste\", () => {})\r\n    );\r\n  }, [props.restriction?.paste, props.restriction?.copy]);\r\n\r\n  const toolbarClassname = css`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    gap: 8px;\r\n    margin-block-end: 8px;\r\n  `;\r\n  return (\r\n    <>\r\n      {props.export && (\r\n        <div className={toolbarClassname}>\r\n          {props.export.csvFileName && (\r\n            <ExportButton\r\n              onExport={() => exportDataAsCsv(props.export.csvFileName)}\r\n            >\r\n              Export to CSV\r\n            </ExportButton>\r\n          )}\r\n          {props.export.excelFileName && (\r\n            <ExportButton\r\n              onExport={() => exportDataAsExcel(props.export.excelFileName)}\r\n            >\r\n              Export to XSLX\r\n            </ExportButton>\r\n          )}\r\n          {props.export.pdfFileName && (\r\n            <ExportButton\r\n              onExport={() => exportDataAsPdf(props.export.pdfFileName)}\r\n            >\r\n              Export to PDF\r\n            </ExportButton>\r\n          )}\r\n        </div>\r\n      )}\r\n      <div\r\n        id=\"DataGrid\"\r\n        role={hasGroups ? \"treegrid\" : \"grid\"}\r\n        aria-label={ariaLabel}\r\n        aria-labelledby={ariaLabelledBy}\r\n        aria-describedby={ariaDescribedBy}\r\n        aria-multiselectable={isSelectable ? true : undefined}\r\n        aria-colcount={columns.length}\r\n        aria-rowcount={headerRowsCount + rowsCount + summaryRowsCount}\r\n        className={clsx(\r\n          rootClassname,\r\n          {\r\n            [viewportDraggingClassname]: isDragging,\r\n          },\r\n          className,\r\n          enableFilter && filterContainerClassname\r\n        )}\r\n        style={{\r\n          ...style,\r\n\r\n          // set scrollPadding to correctly position non-sticky cells after scrolling\r\n          scrollPaddingInlineStart:\r\n            selectedPosition.idx > lastFrozenColumnIndex\r\n              ? `${totalFrozenColumnWidth}px`\r\n              : undefined,\r\n\r\n          scrollPaddingBlock:\r\n            selectedPosition.rowIdx >= 0 &&\r\n            selectedPosition.rowIdx < rows.length\r\n              ? `${\r\n                  headerRowHeight + topSummaryRowsCount * summaryRowHeight\r\n                }px ${bottomSummaryRowsCount * summaryRowHeight}px`\r\n              : undefined,\r\n\r\n          gridTemplateRows: templateRows,\r\n          \"--rdg-header-row-height\": `${headerRowHeight}px`,\r\n          \"--rdg-summary-row-height\": `${summaryRowHeight}px`,\r\n          \"--rdg-sign\": isRtl ? -1 : 1,\r\n          ...getLayoutCssVars(),\r\n        }}\r\n        dir={direction}\r\n        ref={gridRef}\r\n        onScroll={handleScroll}\r\n        onKeyDown={handleKeyDown}\r\n        data-testid={testId}\r\n      >\r\n        {/* extra div is needed for row navigation in a treegrid */}\r\n        {hasGroups && (\r\n          <div\r\n            ref={rowRef}\r\n            tabIndex={isGroupRowFocused ? 0 : -1}\r\n            className={clsx(focusSinkClassname, {\r\n              [rowSelected]: isGroupRowFocused,\r\n              [rowSelectedWithFrozenCell]:\r\n                isGroupRowFocused && lastFrozenColumnIndex !== -1,\r\n            })}\r\n            style={{\r\n              gridRowStart: selectedPosition.rowIdx + 2,\r\n            }}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n        )}\r\n        <FilterContext.Provider value={filters}>\r\n          <DataGridDefaultComponentsProvider value={defaultGridComponents}>\r\n            <HeaderRow\r\n              rows={rawRows}\r\n              columns={getRowViewportColumns(-1)}\r\n              handleReorderColumn={handleReorderColumn}\r\n              selectedPosition={selectedPosition}\r\n              selectedCellHeaderStyle={selectedCellHeaderStyle}\r\n              onColumnResize={handleColumnResizeLatest}\r\n              allRowsSelected={allRowsSelected}\r\n              onAllRowsSelectionChange={selectAllRowsLatest}\r\n              sortColumns={sortColumns}\r\n              onSortColumnsChange={onSortColumnsChangeLatest}\r\n              lastFrozenColumnIndex={lastFrozenColumnIndex}\r\n              selectedCellIdx={\r\n                selectedPosition.rowIdx === minRowIdx\r\n                  ? selectedPosition.idx\r\n                  : undefined\r\n              }\r\n              selectCell={selectHeaderCellLatest}\r\n              shouldFocusGrid={!selectedCellIsWithinSelectionBounds}\r\n              direction={direction}\r\n              setFilters={setFilters}\r\n            />\r\n            {rows.length === 0 && noRowsFallback ? (\r\n              noRowsFallback\r\n            ) : (\r\n              <>\r\n                {topSummaryRows?.map((row, rowIdx) => {\r\n                  const gridRowStart = headerRowsCount + rowIdx + 1;\r\n                  const summaryRowIdx = rowIdx + minRowIdx + 1;\r\n                  const isSummaryRowSelected =\r\n                    selectedPosition.rowIdx === summaryRowIdx;\r\n                  const top = headerRowHeight + summaryRowHeight * rowIdx;\r\n\r\n                  return (\r\n                    <SummaryRow\r\n                      aria-rowindex={gridRowStart}\r\n                      // rome-ignore lint/suspicious/noArrayIndexKey: <explanation>\r\n                      key={rowIdx}\r\n                      rowIdx={rowIdx}\r\n                      gridRowStart={gridRowStart}\r\n                      row={row}\r\n                      top={top}\r\n                      bottom={undefined}\r\n                      lastTopRowIdx={topSummaryRowsCount - 1}\r\n                      viewportColumns={getRowViewportColumns(summaryRowIdx)}\r\n                      lastFrozenColumnIndex={lastFrozenColumnIndex}\r\n                      selectedCellIdx={\r\n                        isSummaryRowSelected ? selectedPosition.idx : undefined\r\n                      }\r\n                      selectCell={selectTopSummaryCellLatest}\r\n                    />\r\n                  );\r\n                })}\r\n                <RowSelectionChangeProvider value={selectRowLatest}>\r\n                  {getViewportRows()}\r\n                </RowSelectionChangeProvider>\r\n                {bottomSummaryRows?.map((row, rowIdx) => {\r\n                  const gridRowStart =\r\n                    headerRowsCount +\r\n                    topSummaryRowsCount +\r\n                    rows.length +\r\n                    rowIdx +\r\n                    1;\r\n                  const summaryRowIdx = rows.length + rowIdx;\r\n                  const isSummaryRowSelected =\r\n                    selectedPosition.rowIdx === summaryRowIdx;\r\n                  const top =\r\n                    clientHeight > totalRowHeight\r\n                      ? gridHeight -\r\n                        summaryRowHeight * (bottomSummaryRows.length - rowIdx)\r\n                      : undefined;\r\n                  const bottom =\r\n                    top === undefined\r\n                      ? summaryRowHeight *\r\n                        (bottomSummaryRows.length - 1 - rowIdx)\r\n                      : undefined;\r\n\r\n                  return (\r\n                    <>\r\n                      <SummaryRow\r\n                        aria-rowindex={\r\n                          headerRowsCount +\r\n                          topSummaryRowsCount +\r\n                          rowsCount +\r\n                          rowIdx +\r\n                          1\r\n                        }\r\n                        // rome-ignore lint/suspicious/noArrayIndexKey: <explanation>\r\n                        key={rowIdx}\r\n                        rowIdx={rowIdx}\r\n                        gridRowStart={gridRowStart}\r\n                        row={row}\r\n                        top={top}\r\n                        bottom={bottom}\r\n                        lastTopRowIdx={undefined}\r\n                        viewportColumns={getRowViewportColumns(summaryRowIdx)}\r\n                        lastFrozenColumnIndex={lastFrozenColumnIndex}\r\n                        selectedCellIdx={\r\n                          isSummaryRowSelected\r\n                            ? selectedPosition.idx\r\n                            : undefined\r\n                        }\r\n                        selectCell={selectBottomSummaryCellLatest}\r\n                        selectedRows={selectedRows}\r\n                      />\r\n                    </>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n\r\n            {/* render empty cells that span only 1 column so we can safely measure column widths, regardless of colSpan */}\r\n            {renderMeasuringCells(viewportColumns)}\r\n          </DataGridDefaultComponentsProvider>\r\n        </FilterContext.Provider>\r\n        {createPortal(\r\n          <div dir={direction}>\r\n            <ContextMenu id=\"grid-context-menu\" rtl={direction === \"rtl\"}>\r\n              {contextMenuItems.map((item) =>\r\n                item.subMenu?.length > 0 ? (\r\n                  <SubMenu title={item.name}>\r\n                    {item.subMenu.map((subItem) => (\r\n                      <MenuItem onClick={subItem.action}>\r\n                        {subItem.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </SubMenu>\r\n                ) : (\r\n                  <MenuItem onClick={item.action}>{item.name}</MenuItem>\r\n                )\r\n              )}\r\n            </ContextMenu>\r\n          </div>,\r\n          document.body\r\n        )}\r\n      </div>\r\n      {(pagination || showSelectedRows) && (\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          {showSelectedRows ? (\r\n            <div\r\n              className=\"footer-bottom\"\r\n              style={{\r\n                width: \"25%\",\r\n                height: 25,\r\n                backgroundColor: \"#f8f8f8\",\r\n                color: \"black\",\r\n                fontSize: 12,\r\n                paddingRight: 15,\r\n                fontWeight: \"bold\",\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              {`Selected : ${selectedRows.length}`}\r\n            </div>\r\n          ) : undefined}\r\n          {pagination && !suppressPagination && (\r\n            <Pagination\r\n              className=\"pagination-data\"\r\n              showTotal={(total, range) =>\r\n                `Showing ${range[0]}-${range[1]} of ${total}`\r\n              }\r\n              onChange={PaginationChange}\r\n              total={rawRows.length}\r\n              current={current}\r\n              pageSize={size}\r\n              showSizeChanger={false}\r\n              itemRender={PrevNextArrow}\r\n              onShowSizeChange={PerPageChange}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction isSamePosition(p1, p2) {\r\n  return p1.idx === p2.idx && p1.rowIdx === p2.rowIdx;\r\n}\r\n\r\nexport default forwardRef(DataGrid);\r\n"],"names":["cell","cellClassname","cellFrozen","cellFrozenClassname","cellFrozenLast","cellFrozenLastClassname","rowIsSelected","rowIsSelectedClassName","topRowIsSelected","topRowIsSelectedClassName","bottomRowIsSelected","bottomRowIsSelectedClassName","root","rootClassname","viewportDragging","viewportDraggingClassname","focusSinkClassname","filterColumnClassName","filterContainerClassname","row","rowClassname","rowSelected","rowSelectedClassname","rowSelectedWithFrozenCell","checkboxLabel","checkboxLabelClassname","checkboxInput","checkboxInputClassname","checkbox","checkboxClassname","checkboxLabelDisabled","checkboxLabelDisabledClassname","checkboxFormatter","onChange","props","ref","handleChange","e","target","checked","nativeEvent","shiftKey","_jsxs","clsx","disabled","_jsx","useLayoutEffect","window","useEffect","useOriginalLayoutEffect","useFocusRef","isSelected","useRef","current","focus","preventScroll","tabIndex","DataGridDefaultComponentsContext","createContext","undefined","DataGridDefaultComponentsProvider","Provider","useDefaultComponents","useContext","SelectCellFormatter","value","isCellSelected","ariaLabel","ariaLabelledBy","valueFormatter","_Fragment","column","key","groupCellContent","groupCellContentClassname","caret","caretClassname","toggleGroupFormatter","ToggleGroup","groupKey","isExpanded","toggleGroup","handleKeyDown","d","SERIAL_NUMBER_COLUMN_KEY","SELECT_COLUMN_KEY","headerCellClassName","SelectFormatter","isRowSelected","onRowSelectionChange","useRowSelection","isShiftClick","SelectGroupFormatter","SelectColumn","name","width","minWidth","maxWidth","resizable","sortable","frozen","filter","headerRenderer","allRowsSelected","onAllRowsSelectionChange","cellRenderer","groupFormatter","SerialNumberColumn","cellClass","rowIndex","getColSpan","lastFrozenColumnIndex","args","colSpan","Number","isInteger","idx","scrollIntoView","element","inline","block","nonInputKeys","Set","isCtrlKeyHeldDown","ctrlKey","metaKey","isDefaultCellInput","event","has","onEditorNavigation","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","matches","measuringCellClassname","renderMeasuringCells","viewportColumns","map","gridColumnStart","isSelectedCellEditable","selectedPosition","columns","rows","isGroupRow","rowIdx","isCellEditable","cellEditor","rowGroup","editable","getSelectedCellColSpan","topSummaryRows","bottomSummaryRows","topSummaryRowsCount","length","minRowIdx","type","getNextSelectedCellPosition","cellNavigationMode","colSpanColumns","maxRowIdx","currentPosition","currentIdx","nextPosition","isCellWithinBounds","nextIdx","nextRowIdx","setColSpan","moveRight","colIdx","columnsCount","isAfterLastColumn","isBeforeFirstColumn","isLastRow","isFirstRow","canExitGrid","maxColIdx","atLastCellInRow","atFirstCellInRow","atLastRow","atFirstRow","getRowStyle","height","getCellStyle","rowSpan","gridColumnEnd","gridRowEnd","insetInlineStart","getCellClassname","extraClasses","isLastFrozenColumn","min","max","round","floor","sign","abs","Math","assertIsValidKeyGetter","keyGetter","Error","clampColumnWidth","textEditorInternalClassname","textEditorClassname","DEFAULT_COLUMN_WIDTH","DEFAULT_COLUMN_MIN_WIDTH","useCalculatedColumns","rawColumns","columnWidths","viewportWidth","scrollLeft","defaultColumnOptions","rawGroupBy","enableVirtualization","frameworkComponents","defaultWidth","defaultMinWidth","defaultMaxWidth","defaultFormatter","formatter","defaultSortable","defaultResizable","defaultFilter","dilter","groupBy","useMemo","rawColumn","includes","field","cellRendererValue","components","Object","keys","indexOfComponent","indexOf","customComponentName","colId","userProvidedColDef","onRowChange","sort","aKey","frozenA","bKey","frozenB","forEach","push","templateColumns","layoutCssVars","totalFrozenColumnWidth","columnMetrics","left","Map","get","set","columnMetric","gridTemplateColumns","join","i","colOverscanStartIdx","colOverscanEndIdx","viewportLeft","viewportRight","lastColIdx","firstUnfrozenColumnIdx","colVisibleStartIdx","colVisibleEndIdx","useGridDimensions","gridRef","inlineSize","setInlineSize","useState","blockSize","setBlockSize","isWidthInitialized","setWidthInitialized","ResizeObserver","clientWidth","clientHeight","offsetWidth","offsetHeight","getBoundingClientRect","initialWidth","initialHeight","resizeObserver","entries","size","contentBoxSize","observe","disconnect","useLatestFunc","fn","callbackFn","useCallback","useRovingCellRef","isChildFocused","setIsChildFocused","contains","document","activeElement","onFocus","currentTarget","isFocused","RowSelectionContext","RowSelectionProvider","RowSelectionChangeContext","RowSelectionChangeProvider","rowSelectionContext","rowSelectionChangeContext","useViewportColumns","rowOverscanStartIdx","rowOverscanEndIdx","startIdx","updateStartIdx","flexWidthViewportColumns","unsizedFlexWidthViewportColumns","isReadonlyArray","arr","Array","isArray","useViewportRows","rawRows","rowHeight","scrollTop","rowGrouper","expandedGroupIds","paginationPageSize","pagination","expandAll","groupedRows","rowsCount","groupRows","groupByKey","remainingGroupByKeys","startRowIndex","groupRowsCount","groups","childRows","childGroups","childRowsCount","allGroupRows","flattenedRows","expandGroup","parentId","level","posInSet","id","groupRow","setSize","add","totalRowHeight","gridTemplateRows","getRowTop","getRowHeight","findRowIdx","offset","rowPositions","currentRowHeight","position","top","validateRowIdx","start","end","middle","currentOffset","overscanThreshold","rowVisibleStartIdx","rowVisibleEndIdx","numberOfRows","slice","FilterContext","headerSortCell","headerSortCellClassname","headerSortName","headerSortNameClassname","filterClassname","HeaderRenderer","sortDirection","priority","onSort","setFilters","rest","alterHeaderName","charAt","toUpperCase","headerName","filters","inputStopPropagation","SortableHeaderCell","children","sortStatus","preventDefault","handleClick","stopPropagation","FilterRenderer","enabled","cellResizable","cellResizableClassname","HeaderCell","onColumnResize","sortColumns","onSortColumnsChange","selectCell","shouldFocusGrid","selectedCellHeaderStyle","direction","handleReorderColumn","isRtl","sortIndex","findIndex","columnKey","sortColumn","ariaSort","style","className","headerCellClass","defaultHeaderRenderer","onPointerDown","pointerType","buttons","pointerId","right","clientX","onPointerMove","onLostPointerCapture","removeEventListener","setPointerCapture","addEventListener","ctrlClick","sortDescendingFirst","nextSort","nextSortColumn","nextSortColumns","splice","onClick","onDoubleClick","handleFocus","handleColumnsReorder","sourceKey","targetKey","sourceColumnIndex","c","targetColumnIndex","reorderedColumns","isDragging","drag","useDrag","item","collect","monitor","isOver","drop","useDrop","accept","canDrop","ele","headerRow","headerRowClassname","HeaderRow","selectedCellIdx","cells","index","HTML5Backend","memo","cellCopied","cellCopiedClassname","cellDraggedOver","cellDraggedOverClassname","Cell","isCopied","api","isDraggedOver","allrow","dragHandle","onRowClick","onRowDoubleClick","node","handleReorderRow","totalColumns","onCellClick","onCellDoubleClick","onCellContextMenu","columnApi","topRow","bottomRow","middleRow","selectCellWrapper","openEditor","editorOptions","editOnClick","data","colDef","handleContextMenu","handleDoubleClick","handleRowChange","newRow","borderInlineStart","borderInlineEnd","validation","validationStyle","backgroundColor","method","alignment","alignmentUtils","styles","symbol","moment","isValid","toLowerCase","alignmentStyle","align","textAlign","JSON","stringify","ley","onRowReorder","fromIndex","toIndex","newRows","renderObject","rowDrag","marginRight","cursor","Row","gridRowStart","copiedCellIdx","draggedOverCellIdx","selectedCellRowStyle","selectedCellEditor","selectedCellDragHandle","rowClass","setDraggedOverRowIdx","onMouseEnter","handleDragEnter","selectedCellRowIndex","RowComponent","forwardRef","defaultRowRenderer","GroupCell","groupColumnIndex","toggleGroupWrapper","isLevelMatching","groupRowClassname","GroupedRow","selectGroup","handleSelectGroup","summaryCellClassname","SummaryCell","summaryCellClass","summaryFormatter","summaryRow","topSummaryRow","topSummaryRowBorderClassname","bottomSummaryRowBorderClassname","summaryRowClassname","topSummaryRowClassname","SummaryRow","bottom","lastTopRowIdx","ariaRowIndex","isTop","cellEditing","EditCell","closeEditor","frameRequestRef","commitOnOutsideClick","commitOnOutsideMouseDown","onClose","onWindowCaptureMouseDown","requestAnimationFrame","capture","cancelFrameRequest","cancelAnimationFrame","onKeyDown","onNavigation","commitChanges","renderFormatter","console","log","valueFormatted","cellDragHandle","cellDragHandleClassname","DragHandle","latestDraggedOverRowIdx","onRowsChange","onFill","setDragging","handleMouseDown","onMouseOver","onMouseUp","handleDragEnd","overRowIdx","endRowIndex","updateRows","startRowIdx","endRowIdx","sourceRow","updatedRows","indexes","updatedRow","targetRow","arrow","arrowClassname","sortIcon","sortPriority","CSVContent","fileData","header","f","sample","content","serialiseCellValue","exportToCsv","fileName","downloadFile","Blob","exportToPdf","dataKey","doc","jsPDF","autoTable","html","margin","cellWidth","overflow","halign","headStyles","fillColor","textColor","lineColor","lineWidth","body","theme","save","exportToXlsx","fileType","fileExtension","ws","XLSX","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","FileSaver","saveAs","formattedValue","replace","downloadLink","createElement","download","url","URL","createObjectURL","href","click","revokeObjectURL","ExportButton","onExport","exporting","setExporting","initialPosition","mode","DataGrid","raawColumns","columnData","raawRows","rowData","rowKeyGetter","rawRowHeight","rawHeaderRowHeight","headerRowHeight","rawSummaryRowHeight","summaryRowHeight","selectedRows","onSelectedRowsChange","raawGroupBy","onExpandedGroupIdsChange","onRowClicked","onRowDoubleClicked","onScroll","serialNumber","onCopy","onPaste","onCellClicked","onCellDoubleClicked","rawCellNavigationMode","rawEnableVirtualization","renderers","showSelectedRows","rawDirection","getContextMenuItems","ariaDescribedBy","testId","columnReordering","tablePagination","suppressPaginationPanel","paginationAutoPageSize","defaultPage","onGridReady","selectedRows1","onSelectedRowsChange1","selection","enableFilter","contextMenuItems","contextMenuRowRenderer","headerHeightFromRef","setHeaderHeightFromRef","defaultComponents","headerWithFilter","rowRenderer","defaultSortStatus","defaultCheckboxFormatter","noRowsFallback","afterFilter","setAfterFilter","defaultColumnDef","setDefaultColumnDef","setRawGroupBy","setExpandAll","setScrollTop","setScrollLeft","setColumnWidths","setSelectedPosition","copiedCell","setCopiedCell","draggedOverRowIdx","setOverRowIdx","setSortColumns","setRawRows","setRawColumns","setPagination","suppressPagination","setCurrent","PaginationChange","page","pageSize","PrevNextArrow","originalElement","PerPageChange","newPerPage","ceil","defaultFilters","rawCol","filterFunction","val","sortedRows","asArray","filteredRows","a","b","localeCompare","reverse","prevSelectedPosition","lastSelectedRowIdx","rowRef","gridWidth","gridHeight","headerRowsCount","bottomSummaryRowsCount","summaryRowsCount","isSelectable","leftKey","rightKey","defaultGridComponents","every","getColumnWidths","from","columnKeys","values","columnWidthValues","columnWidth","getColumns","columnObjects","userColDef","indexOfRowGroup","indexOfSort","sortCol","columnState","columnIndex","rowGroupIndex","colChild","moveColumn","colKey","moveColumns","columnsToMove","sourceColumns","col","valueAtPosition","v","moveColumnByIndex","getDisplayNameForColumn","location","displayNameForCol","getDisplayedColAfter","displayedColAfterKey","nextCol","parentColumn","displayedColAfter","colObj","getDisplayedColBefore","displayedColBeforeKey","prevCol","displayedColBefore","getRowGroupColumns","rowGroupColumns","colObject","setRowGroupColumns","colKeys","addRowGroupColumn","addRowGroupColumns","removeRowGroupColumn","indexOfKey","removeRowGroupColumns","moveRowGroupColumn","setColumnWidth","newWidth","newColumnWidths","setColumnsWidth","newColWidths","colWidth","autoSizeColumn","handleColumnResize","autoSizeColumns","newTemplateColumns","measuringCell","querySelector","measuredWidth","measuredWidthPx","autoSizeAllColumns","sizeColumnsToFit","widthSum","colWidthValues","scale","colWidths","sum","getColumnState","colStates","colState","applyColumnState","state","defaultState","isString","match","groupCol","keysOfColumns","isPinning","setColumnPinned","setColumnsPinned","j","getSortColumns","columnApiObject","columnModel","columnDefs","setPrototypeOf","getColumn","columnObj","getAllGridColumns","getAllDisplayedVirtualColumns","getAllDisplayedColumns","resetColumnState","hasGroups","minColIdx","selectedCellIsWithinSelectionBounds","isCellWithinSelectionBounds","selectedCellIsWithinViewportBounds","isCellWithinViewportBounds","handleColumnResizeLatest","onSortColumnsChangeLatest","onCellClickLatest","onCellDoubleClickLatest","onCellContextMenuLatest","selectRowLatest","selectRow","selectAllRowsLatest","selectAllRows","handleFormatterRowChangeLatest","updateRow","selectViewportCellLatest","enableEditor","selectGroupLatest","selectHeaderCellLatest","selectTopSummaryCellLatest","selectBottomSummaryCellLatest","toggleGroupLatest","isSamePosition","grid","useImperativeHandle","scrollToColumn","scrollToRow","scrollTo","behavior","apiObject","newSelectedRows","newSelectedRows1","childRow","rowKey","delete","previousRowIdx","step","expandedGroupId","newExpandedGroupIds","Element","isCellEvent","closest","isRowEvent","keyCode","cKey","vKey","handleCopy","handlePaste","isRowIdxWithinViewportBounds","navigate","handleCellInput","handleScroll","flushSync","getRawRowIdx","rawRowIdx","commitEditorChanges","sourceColumnKey","targetColumn","updatedTargetRow","targetColumnKey","onCellKeyDown","isDefaultPrevented","originalRow","isColIdxWithinSelectionBounds","isCellAtLeftBoundary","isCellAtRightBoundary","getNextPosition","parentRowIdx","parentRow","nextRowY","nextSelectedCellPosition","getDraggedOverCellIdx","currentRowIdx","getLayoutCssVars","handleFill","getDragHandle","getCellEditor","getRowViewportColumns","selectedColumn","endRowIdxForRender","RowNodes","setRowNodes","forEachNode","newFunction","getRowBounds","rowTop","isRowPresent","object1","result","obj","_","isEqual","getNodesInRangeForSelection","obj1","obj2","firstIndex","secondIndex","startIndex","endIndex","getModelObject","getRow","getRowNode","idValue","getRowCount","getTopLevelRowCount","getTopLevelRowDisplayedIndex","getRowIndexAtPixel","pixel","isEmpty","isRowsToRender","getType","isLastRowIndexKnown","applyTransaction","transactionObject","updatedRowNodes","added","updated","removed","isUpdated","rowIndex1","addIndex","findRowIndex","newRowNode","createNewRowNode","LeafNodes","update","remove","setDataValue","setRowData","getAllLeafNodes","leafNodes","childIndex","lastChild","firstChild","String","forEachLeafNode","callback","rowNodes","updatedLeafNodes","forEachLeafNodeAfterFilter","forEachLeafNodeAfterFilterAndSort","getSelectedRows","selectAll","deselectAll","getSelectedNodes","selectedNodes","selected","selectAllFiltered","deselectAllFiltered","totalPages","paginationGoToPage","pageNumberNew","paginationGoToNextPage","paginationGoToPreviousPage","getFocusedCell","setFocusedCell","tabToNextCell","columnLength","rowsLength","tabToPreviousCell","exportDataAsCsv","exportDataAsExcel","exportDataAsPdf","isAnyFilterPresent","filterPresent","getViewportRowsSample","rowArray","rowElementsSample","listOfRows","selectedRowIdx","isRowOutsideViewport","viewportRowIdx","newValue","list","setData","parent","allLeafChildren","childrenAfterFilter","childrenAfterSort","expanded","setSelected","isExpandable","setExpanded","expandIds","updateData","getColumnDefs","setColumnDefs","getRowNodes","setHeaderHeight","getDisplayedRowCount","getDisplayedRowAtIndex","getFirstDisplayedRow","getLastDisplayedRow","getModel","getValue","rowNode","getRenderedNodes","renderedRowNodes","paginationIsLastPageFound","paginationGetPageSize","paginationSetPageSize","newPageSize","paginationGetCurrentPage","paginationGetTotalPages","paginationGetRowCount","paginationGoToFirstPage","paginationGoToLastPage","rowModel","rowsToDisplay","rootNode","displayedColumns","nodeManager","allNodesMap","csvCreator","clearFocusedCell","setDefaultColDef","collapseAll","getFilterModel","setFilterModel","getViewportRows","rowElements","selectedIdx","rowColumns","isGroupRowSelected","cr","templateRows","isGroupRowFocused","getElementById","restriction","copy","paste","toolbarClassname","export","csvFileName","excelFileName","pdfFileName","scrollPaddingInlineStart","scrollPaddingBlock","summaryRowIdx","isSummaryRowSelected","createPortal","subMenu","subItem","action","display","justifyContent","color","fontSize","paddingRight","fontWeight","alignItems","total","range","p1","p2"],"mappings":"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"}